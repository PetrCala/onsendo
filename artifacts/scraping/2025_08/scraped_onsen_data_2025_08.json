{
  "1": {
    "onsen_id": "1",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=1",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"1\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2774556, 131.5059894);\n\t\tif (calcDistance(33.2774556, 131.5059894) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t1番&nbsp;&nbsp;竹瓦温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2774556,131.5059894\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市元町16-23</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-1585</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円、砂湯1500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～22:30、砂湯8:00～22:30(最終受付21:30)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">砂湯：第３水曜（祝日の場合は翌日）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉、炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川ゆめタウン前 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "1",
      "name": "竹瓦温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2774556,131.5059894",
      "latitude": 33.2774556,
      "longitude": 131.5059894,
      "営業形態": "市営温泉",
      "住所": "大分県別府市元町16-23",
      "電話": "0977-23-1585",
      "入浴料金": "300円、砂湯1500円",
      "利用時間": "6:30～22:30、砂湯8:00～22:30(最終受付21:30)",
      "定休日ほか": "砂湯：第３水曜（祝日の場合は翌日）",
      "泉質": "塩化物泉、炭酸水素塩泉",
      "最寄バス停": "流川ゆめタウン前 2分",
      "最寄駅(徒歩)": "別府駅 10分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "1",
      "name": "竹瓦温泉",
      "deleted": false,
      "latitude": 33.2774556,
      "longitude": 131.5059894,
      "address": "大分県別府市元町16-23",
      "phone": "0977-23-1585",
      "admission_fee": "300円、砂湯1500円",
      "usage_time": "6:30～22:30、砂湯8:00～22:30(最終受付21:30)",
      "closed_days": "砂湯：第３水曜（祝日の場合は翌日）",
      "private_bath": null,
      "spring_quality": "塩化物泉、炭酸水素塩泉",
      "nearest_bus_stop": "流川ゆめタウン前 2分",
      "nearest_station": "別府駅 10分",
      "parking": "なし",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 竹瓦温泉 | 泉質: 塩化物泉、炭酸水素塩泉 | 営業形態: 市営温泉 | 入浴料金: 300円、砂湯1500円 | 利用時間: 6:30～22:30、砂湯8:00～22:30(最終受付21:30)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "2": {
    "onsen_id": "2",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=2",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"2\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2859185, 131.5049526);\n\t\tif (calcDistance(33.2859185, 131.5049526) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t2番&nbsp;&nbsp;北浜温泉(テルマス)\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2859185,131.5049526\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市京町11-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail2.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "2",
      "name": "北浜温泉(テルマス)",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "2",
      "name": "北浜温泉(テルマス)",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 北浜温泉(テルマス)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "3": {
    "onsen_id": "3",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=3",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"3\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2805288, 131.5032823);\n\t\tif (calcDistance(33.2805288, 131.5032823) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t3番&nbsp;&nbsp;海門寺温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2805288,131.5032823\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜2丁目3-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-3625</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">250円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">年末大掃除日（不定）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">駅前本町 4分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3台（車イス利用者用1台含む）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">入浴者はつるみカーパーク　1時間無料</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail3.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "3",
      "name": "海門寺温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2805288,131.5032823",
      "latitude": 33.2805288,
      "longitude": 131.5032823,
      "営業形態": "市営温泉",
      "住所": "大分県別府市北浜2丁目3-2",
      "電話": "0977-22-3625",
      "入浴料金": "250円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～22:30",
      "定休日ほか": "年末大掃除日（不定）",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "駅前本町 4分",
      "最寄駅(徒歩)": "別府駅 5分",
      "駐車場": "3台（車イス利用者用1台含む）",
      "備考": "入浴者はつるみカーパーク　1時間無料"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "3",
      "name": "海門寺温泉",
      "deleted": false,
      "latitude": 33.2805288,
      "longitude": 131.5032823,
      "address": "大分県別府市北浜2丁目3-2",
      "phone": "0977-22-3625",
      "admission_fee": "250円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～22:30",
      "closed_days": "年末大掃除日（不定）",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "駅前本町 4分",
      "nearest_station": "別府駅 5分",
      "parking": "3台（車イス利用者用1台含む）",
      "remarks": "入浴者はつるみカーパーク　1時間無料",
      "business_form": "市営温泉",
      "description": "温泉名: 海門寺温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 市営温泉 | 入浴料金: 250円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～22:30 | 備考: 入浴者はつるみカーパーク　1時間無料"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "4": {
    "onsen_id": "4",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=4",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"4\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2771521, 131.500396);\n\t\tif (calcDistance(33.2771521, 131.500396) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t4番&nbsp;&nbsp;不老泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2771521,131.500396\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市中央町7-16</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-0253</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">250円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川6丁目 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩５分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9台（車イス利用者用1台含む）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">入浴者はつるみカーパーク　1時間無料</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail4.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "4",
      "name": "不老泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2771521,131.500396",
      "latitude": 33.2771521,
      "longitude": 131.500396,
      "営業形態": "市営温泉",
      "住所": "大分県別府市中央町7-16",
      "電話": "0977-21-0253",
      "入浴料金": "250円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～22:30",
      "泉質": "単純温泉",
      "最寄バス停": "流川6丁目 3分",
      "最寄駅(徒歩)": "別府駅 徒歩５分",
      "駐車場": "9台（車イス利用者用1台含む）",
      "備考": "入浴者はつるみカーパーク　1時間無料"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "4",
      "name": "不老泉",
      "deleted": false,
      "latitude": 33.2771521,
      "longitude": 131.500396,
      "address": "大分県別府市中央町7-16",
      "phone": "0977-21-0253",
      "admission_fee": "250円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～22:30",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "流川6丁目 3分",
      "nearest_station": "別府駅 徒歩５分",
      "parking": "9台（車イス利用者用1台含む）",
      "remarks": "入浴者はつるみカーパーク　1時間無料",
      "business_form": "市営温泉",
      "description": "温泉名: 不老泉 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 250円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～22:30 | 備考: 入浴者はつるみカーパーク　1時間無料"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "5": {
    "onsen_id": "5",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=5",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"5\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2779778, 131.4981739);\n\t\tif (calcDistance(33.2779778, 131.4981739) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t5番&nbsp;&nbsp;田の湯温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2779778,131.4981739\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市田の湯町4-23</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-1381</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">田の湯 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail5.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "5",
      "name": "田の湯温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2779778,131.4981739",
      "latitude": 33.2779778,
      "longitude": 131.4981739,
      "営業形態": "市営温泉",
      "住所": "大分県別府市田の湯町4-23",
      "電話": "0977-21-1381",
      "入浴料金": "200円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～22:30",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "田の湯 2分",
      "最寄駅(徒歩)": "別府駅 5分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "5",
      "name": "田の湯温泉",
      "deleted": false,
      "latitude": 33.2779778,
      "longitude": 131.4981739,
      "address": "大分県別府市田の湯町4-23",
      "phone": "0977-21-1381",
      "admission_fee": "200円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～22:30",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "田の湯 2分",
      "nearest_station": "別府駅 5分",
      "parking": "なし",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 田の湯温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 市営温泉 | 入浴料金: 200円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "6": {
    "onsen_id": "6",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=6",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"6\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2731179, 131.5035251);\n\t\tif (calcDistance(33.2731179, 131.5035251) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t6番&nbsp;&nbsp;永石温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2731179,131.5035251\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市南町2-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-26-5789</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">永石温泉前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 12分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail6.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "6",
      "name": "永石温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2731179,131.5035251",
      "latitude": 33.2731179,
      "longitude": 131.5035251,
      "営業形態": "市営温泉",
      "住所": "大分県別府市南町2-2",
      "電話": "0977-26-5789",
      "入浴料金": "200円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～22:30",
      "泉質": "単純温泉",
      "最寄バス停": "永石温泉前 1分",
      "最寄駅(徒歩)": "別府駅 12分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "6",
      "name": "永石温泉",
      "deleted": false,
      "latitude": 33.2731179,
      "longitude": 131.5035251,
      "address": "大分県別府市南町2-2",
      "phone": "0977-26-5789",
      "admission_fee": "200円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～22:30",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "永石温泉前 1分",
      "nearest_station": "別府駅 12分",
      "parking": "なし",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 永石温泉 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 200円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "7": {
    "onsen_id": "7",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=7",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"7\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2891001, 131.4882586);\n\t\tif (calcDistance(33.2891001, 131.4882586) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t99番&nbsp;&nbsp;芝居の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2891001,131.4882586\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上野口町29-13</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-24-5320</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～21:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">火曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">野口原 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 30分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">30台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail99.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "99",
      "name": "芝居の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2891001,131.4882586",
      "latitude": 33.2891001,
      "longitude": 131.4882586,
      "営業形態": "市営温泉",
      "住所": "大分県別府市上野口町29-13",
      "電話": "0977-24-5320",
      "入浴料金": "300円（大人）、100円（子供）",
      "利用時間": "11:00～21:00",
      "定休日ほか": "火曜日",
      "泉質": "単純温泉",
      "最寄バス停": "野口原 1分",
      "最寄駅(徒歩)": "別府駅 30分",
      "駐車場": "30台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "99",
      "name": "芝居の湯",
      "deleted": false,
      "latitude": 33.2891001,
      "longitude": 131.4882586,
      "address": "大分県別府市上野口町29-13",
      "phone": "0977-24-5320",
      "admission_fee": "300円（大人）、100円（子供）",
      "usage_time": "11:00～21:00",
      "closed_days": "火曜日",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "野口原 1分",
      "nearest_station": "別府駅 30分",
      "parking": "30台",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 芝居の湯 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 300円（大人）、100円（子供） | 利用時間: 11:00～21:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "8": {
    "onsen_id": "8",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=8",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"8\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2790496, 131.5020173);\n\t\tif (calcDistance(33.2790496, 131.5020173) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t7番&nbsp;&nbsp;駅前高等温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2790496,131.5020173\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市駅前町13-14</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-0541</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">250円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8:00〜23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">年３回（不定休）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">駅前本町 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail7.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "7",
      "name": "駅前高等温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2790496,131.5020173",
      "latitude": 33.2790496,
      "longitude": 131.5020173,
      "営業形態": "外湯",
      "住所": "大分県別府市駅前町13-14",
      "電話": "0977-21-0541",
      "入浴料金": "250円",
      "利用時間": "8:00〜23:00",
      "定休日ほか": "年３回（不定休）",
      "泉質": "単純温泉",
      "最寄バス停": "駅前本町 1分",
      "最寄駅(徒歩)": "別府駅 2分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "7",
      "name": "駅前高等温泉",
      "deleted": false,
      "latitude": 33.2790496,
      "longitude": 131.5020173,
      "address": "大分県別府市駅前町13-14",
      "phone": "0977-21-0541",
      "admission_fee": "250円",
      "usage_time": "8:00〜23:00",
      "closed_days": "年３回（不定休）",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "駅前本町 1分",
      "nearest_station": "別府駅 2分",
      "parking": "5台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 駅前高等温泉 | 泉質: 単純温泉 | 営業形態: 外湯 | 入浴料金: 250円 | 利用時間: 8:00〜23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "9": {
    "onsen_id": "9",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=9",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"9\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.278458, 131.4955234);\n\t\tif (calcDistance(33.278458, 131.4955234) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t8番&nbsp;&nbsp;九日天温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.278458,131.4955234\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上田の湯町15-8</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-1304</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">150円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～11:00／14:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1/1～３</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">田の湯 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 6分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail8.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "8",
      "name": "九日天温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.278458,131.4955234",
      "latitude": 33.278458,
      "longitude": 131.4955234,
      "営業形態": "共同温泉",
      "住所": "大分県別府市上田の湯町15-8",
      "電話": "0977-21-1304",
      "入浴料金": "150円",
      "利用時間": "6:00～11:00／14:00～22:30",
      "定休日ほか": "1/1～３",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "田の湯 2分",
      "最寄駅(徒歩)": "別府駅 6分",
      "駐車場": "8台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "8",
      "name": "九日天温泉",
      "deleted": false,
      "latitude": 33.278458,
      "longitude": 131.4955234,
      "address": "大分県別府市上田の湯町15-8",
      "phone": "0977-21-1304",
      "admission_fee": "150円",
      "usage_time": "6:00～11:00／14:00～22:30",
      "closed_days": "1/1～３",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "田の湯 2分",
      "nearest_station": "別府駅 6分",
      "parking": "8台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 九日天温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 150円 | 利用時間: 6:00～11:00／14:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "10": {
    "onsen_id": "10",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=10",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"10\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2763271, 131.5053511);\n\t\tif (calcDistance(33.2763271, 131.5053511) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t10番&nbsp;&nbsp;寿温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2763271,131.5053511\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市楠町11-15</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-80-1599</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15:00〜深夜0:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川2丁目 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail10.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "10",
      "name": "寿温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2763271,131.5053511",
      "latitude": 33.2763271,
      "longitude": 131.5053511,
      "営業形態": "共同温泉",
      "住所": "大分県別府市楠町11-15",
      "電話": "0977-80-1599",
      "入浴料金": "300円",
      "利用時間": "15:00〜深夜0:00",
      "定休日ほか": "不定",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "流川2丁目 1分",
      "最寄駅(徒歩)": "別府駅 10分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "10",
      "name": "寿温泉",
      "deleted": false,
      "latitude": 33.2763271,
      "longitude": 131.5053511,
      "address": "大分県別府市楠町11-15",
      "phone": "0977-80-1599",
      "admission_fee": "300円",
      "usage_time": "15:00〜深夜0:00",
      "closed_days": "不定",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "流川2丁目 1分",
      "nearest_station": "別府駅 10分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 寿温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 300円 | 利用時間: 15:00〜深夜0:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "11": {
    "onsen_id": "11",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=11",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"11\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2735713, 131.5035794);\n\t\tif (calcDistance(33.2735713, 131.5035794) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t11番&nbsp;&nbsp;紙屋温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2735713,131.5035794\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市千代町8番の2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">250円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">13:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉、塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">永石温泉前 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 12分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail11.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "11",
      "name": "紙屋温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2735713,131.5035794",
      "latitude": 33.2735713,
      "longitude": 131.5035794,
      "営業形態": "共同温泉",
      "住所": "大分県別府市千代町8番の2",
      "電話": "なし",
      "入浴料金": "250円",
      "利用時間": "13:00～22:30",
      "泉質": "炭酸水素塩泉、塩化物泉",
      "最寄バス停": "永石温泉前 2分",
      "最寄駅(徒歩)": "別府駅 12分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "11",
      "name": "紙屋温泉",
      "deleted": false,
      "latitude": 33.2735713,
      "longitude": 131.5035794,
      "address": "大分県別府市千代町8番の2",
      "phone": "なし",
      "admission_fee": "250円",
      "usage_time": "13:00～22:30",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉、塩化物泉",
      "nearest_bus_stop": "永石温泉前 2分",
      "nearest_station": "別府駅 12分",
      "parking": "5台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 紙屋温泉 | 泉質: 炭酸水素塩泉、塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 250円 | 利用時間: 13:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "12": {
    "onsen_id": "12",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=12",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"12\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2746657, 131.4966828);\n\t\tif (calcDistance(33.2746657, 131.4966828) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t15番&nbsp;&nbsp;錦栄温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2746657,131.4966828\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市光町20-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">月～土 6:30～10:00 / 12:00～22:00 日曜日 6:30～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川8丁目 10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 12分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail15.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "15",
      "name": "錦栄温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2746657,131.4966828",
      "latitude": 33.2746657,
      "longitude": 131.4966828,
      "営業形態": "共同温泉",
      "住所": "大分県別府市光町20-2",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "月～土 6:30～10:00 / 12:00～22:00 日曜日 6:30～22:00",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "流川8丁目 10分",
      "最寄駅(徒歩)": "別府駅 12分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "15",
      "name": "錦栄温泉",
      "deleted": false,
      "latitude": 33.2746657,
      "longitude": 131.4966828,
      "address": "大分県別府市光町20-2",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "月～土 6:30～10:00 / 12:00～22:00 日曜日 6:30～22:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "流川8丁目 10分",
      "nearest_station": "別府駅 12分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 錦栄温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 月～土 6:30～10:00 / 12:00～22:00 日曜日 6:30～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "13": {
    "onsen_id": "13",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=13",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"13\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2731492, 131.5007574);\n\t\tif (calcDistance(33.2731492, 131.5007574) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t17番&nbsp;&nbsp;末広温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2731492,131.5007574\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市末広町4-20</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">090-1530-2387</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00～11:00,14:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">毎月15日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川6丁目</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅9分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">(条件付き)あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">特徴的な鶴見岳・由布岳の壁画のある温泉</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail17.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "17",
      "name": "末広温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2731492,131.5007574",
      "latitude": 33.2731492,
      "longitude": 131.5007574,
      "営業形態": "共同温泉",
      "住所": "大分県別府市末広町4-20",
      "電話": "090-1530-2387",
      "入浴料金": "200円",
      "利用時間": "7:00～11:00,14:00～22:00",
      "定休日ほか": "毎月15日",
      "泉質": "単純温泉",
      "最寄バス停": "流川6丁目",
      "最寄駅(徒歩)": "別府駅9分",
      "駐車場": "(条件付き)あり",
      "備考": "特徴的な鶴見岳・由布岳の壁画のある温泉"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "17",
      "name": "末広温泉",
      "deleted": false,
      "latitude": 33.2731492,
      "longitude": 131.5007574,
      "address": "大分県別府市末広町4-20",
      "phone": "090-1530-2387",
      "admission_fee": "200円",
      "usage_time": "7:00～11:00,14:00～22:00",
      "closed_days": "毎月15日",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "流川6丁目",
      "nearest_station": "別府駅9分",
      "parking": "(条件付き)あり",
      "remarks": "特徴的な鶴見岳・由布岳の壁画のある温泉",
      "business_form": "共同温泉",
      "description": "温泉名: 末広温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 7:00～11:00,14:00～22:00 | 備考: 特徴的な鶴見岳・由布岳の壁画のある温泉"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "14": {
    "onsen_id": "14",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=14",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"14\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2825111, 131.4998926);\n\t\tif (calcDistance(33.2825111, 131.4998926) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t18番&nbsp;&nbsp;野口温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2825111,131.4998926\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市野口元町4-25</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00～11:30／15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅西口　5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail18.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "18",
      "name": "野口温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2825111,131.4998926",
      "latitude": 33.2825111,
      "longitude": 131.4998926,
      "営業形態": "共同温泉",
      "住所": "大分県別府市野口元町4-25",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "7:00～11:30／15:00～22:30",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "別府駅西口　5分",
      "最寄駅(徒歩)": "別府駅 5分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "18",
      "name": "野口温泉",
      "deleted": false,
      "latitude": 33.2825111,
      "longitude": 131.4998926,
      "address": "大分県別府市野口元町4-25",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "7:00～11:30／15:00～22:30",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "別府駅西口　5分",
      "nearest_station": "別府駅 5分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 野口温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 7:00～11:30／15:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "15": {
    "onsen_id": "15",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=15",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"15\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2809699, 131.5025665);\n\t\tif (calcDistance(33.2809699, 131.5025665) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t89番&nbsp;&nbsp;春日温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2809699,131.5025665\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市駅前本町6-16</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-1486</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30〜11:30／15:00〜22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">駅前本町 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 4分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail89.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "89",
      "name": "春日温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2809699,131.5025665",
      "latitude": 33.2809699,
      "longitude": 131.5025665,
      "営業形態": "共同温泉",
      "住所": "大分県別府市駅前本町6-16",
      "電話": "0977-23-1486",
      "入浴料金": "200円",
      "利用時間": "6:30〜11:30／15:00〜22:30",
      "定休日ほか": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "駅前本町 5分",
      "最寄駅(徒歩)": "別府駅 4分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "89",
      "name": "春日温泉",
      "deleted": false,
      "latitude": 33.2809699,
      "longitude": 131.5025665,
      "address": "大分県別府市駅前本町6-16",
      "phone": "0977-23-1486",
      "admission_fee": "200円",
      "usage_time": "6:30〜11:30／15:00〜22:30",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "駅前本町 5分",
      "nearest_station": "別府駅 4分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 春日温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:30〜11:30／15:00〜22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "16": {
    "onsen_id": "16",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=16",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"16\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2873874, 131.5024809);\n\t\tif (calcDistance(33.2873874, 131.5024809) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t91番&nbsp;&nbsp;京町温泉\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2873874,131.5024809\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市京町</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail91.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "91",
      "name": "京町温泉",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "91",
      "name": "京町温泉",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 京町温泉"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "17": {
    "onsen_id": "17",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=17",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"17\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2864254, 131.495408);\n\t\tif (calcDistance(33.2864254, 131.495408) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t92番&nbsp;&nbsp;天満温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2864254,131.495408\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市天満町</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">23-6886</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00～10:00/15:00～22:00 定休日 第1、第3木曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第２日曜日・毎月25日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">幸通り 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 14分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2台（要問合せ）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail92.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "92",
      "name": "天満温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2864254,131.495408",
      "latitude": 33.2864254,
      "longitude": 131.495408,
      "営業形態": "共同温泉",
      "住所": "大分県別府市天満町",
      "電話": "23-6886",
      "入浴料金": "100円",
      "利用時間": "7:00～10:00/15:00～22:00 定休日 第1、第3木曜日",
      "定休日ほか": "第２日曜日・毎月25日",
      "泉質": "塩化物泉",
      "最寄バス停": "幸通り 3分",
      "最寄駅(徒歩)": "別府駅 14分",
      "駐車場": "2台（要問合せ）"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "92",
      "name": "天満温泉",
      "deleted": false,
      "latitude": 33.2864254,
      "longitude": 131.495408,
      "address": "大分県別府市天満町",
      "phone": "23-6886",
      "admission_fee": "100円",
      "usage_time": "7:00～10:00/15:00～22:00 定休日 第1、第3木曜日",
      "closed_days": "第２日曜日・毎月25日",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "幸通り 3分",
      "nearest_station": "別府駅 14分",
      "parking": "2台（要問合せ）",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 天満温泉 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 7:00～10:00/15:00～22:00 定休日 第1、第3木曜日"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "18": {
    "onsen_id": "18",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=18",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"18\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.286292, 131.497802);\n\t\tif (calcDistance(33.286292, 131.497802) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t159番&nbsp;&nbsp;幸温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.286292,131.497802\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市幸町5-15</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-8151</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～11:00／14:00～23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">毎月10日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">幸通り 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">幸通り 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail159_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "159",
      "name": "幸温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.286292,131.497802",
      "latitude": 33.286292,
      "longitude": 131.497802,
      "営業形態": "共同温泉",
      "住所": "大分県別府市幸町5-15",
      "電話": "0977-21-8151",
      "入浴料金": "200円",
      "利用時間": "6:30～11:00／14:00～23:00",
      "定休日ほか": "毎月10日",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "幸通り 3分",
      "最寄駅(徒歩)": "幸通り 3分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "159",
      "name": "幸温泉",
      "deleted": false,
      "latitude": 33.286292,
      "longitude": 131.497802,
      "address": "大分県別府市幸町5-15",
      "phone": "0977-21-8151",
      "admission_fee": "200円",
      "usage_time": "6:30～11:00／14:00～23:00",
      "closed_days": "毎月10日",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "幸通り 3分",
      "nearest_station": "幸通り 3分",
      "parking": "5台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 幸温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:30～11:00／14:00～23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "19": {
    "onsen_id": "19",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=19",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"19\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2781577, 131.4883295);\n\t\tif (calcDistance(33.2781577, 131.4883295) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t173番&nbsp;&nbsp;上原温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2781577,131.4883295\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上原町1-13</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～12:00／14:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">上原町 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩20分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">２～３台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail173.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "173",
      "name": "上原温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2781577,131.4883295",
      "latitude": 33.2781577,
      "longitude": 131.4883295,
      "営業形態": "共同温泉",
      "住所": "大分県別府市上原町1-13",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "6:00～12:00／14:00～22:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "上原町 2分",
      "最寄駅(徒歩)": "別府駅 徒歩20分",
      "駐車場": "２～３台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "173",
      "name": "上原温泉",
      "deleted": false,
      "latitude": 33.2781577,
      "longitude": 131.4883295,
      "address": "大分県別府市上原町1-13",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "6:00～12:00／14:00～22:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "上原町 2分",
      "nearest_station": "別府駅 徒歩20分",
      "parking": "２～３台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 上原温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:00～12:00／14:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "20": {
    "onsen_id": "20",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=20",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"20\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2913778, 131.5011808);\n\t\tif (calcDistance(33.2913778, 131.5011808) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t174番&nbsp;&nbsp;餅ヶ浜温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2913778,131.5011808\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市若草町3ｯ21</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第３水曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">餅ヶ浜 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 18分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail174.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "174",
      "name": "餅ヶ浜温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2913778,131.5011808",
      "latitude": 33.2913778,
      "longitude": 131.5011808,
      "営業形態": "共同温泉",
      "住所": "大分県別府市若草町3ｯ21",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "6:30～22:00",
      "定休日ほか": "第３水曜日",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "餅ヶ浜 3分",
      "最寄駅(徒歩)": "別府駅 18分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "174",
      "name": "餅ヶ浜温泉",
      "deleted": false,
      "latitude": 33.2913778,
      "longitude": 131.5011808,
      "address": "大分県別府市若草町3ｯ21",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "6:30～22:00",
      "closed_days": "第３水曜日",
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "餅ヶ浜 3分",
      "nearest_station": "別府駅 18分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 餅ヶ浜温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 6:30～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "21": {
    "onsen_id": "21",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=21",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"21\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2840592, 131.5045797);\n\t\tif (calcDistance(33.2840592, 131.5045797) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t177番&nbsp;&nbsp;北的ヶ浜町温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2840592,131.5045797\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北的ヶ浜町3-35</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-3758</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第1第3水曜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">的ヶ浜公園前 １分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩１０分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail177.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "177",
      "name": "北的ヶ浜町温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2840592,131.5045797",
      "latitude": 33.2840592,
      "longitude": 131.5045797,
      "営業形態": "共同温泉",
      "住所": "大分県別府市北的ヶ浜町3-35",
      "電話": "0977-22-3758",
      "入浴料金": "200円",
      "利用時間": "6:30～22:00",
      "定休日ほか": "第1第3水曜",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "的ヶ浜公園前 １分",
      "最寄駅(徒歩)": "別府駅 徒歩１０分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "177",
      "name": "北的ヶ浜町温泉",
      "deleted": false,
      "latitude": 33.2840592,
      "longitude": 131.5045797,
      "address": "大分県別府市北的ヶ浜町3-35",
      "phone": "0977-22-3758",
      "admission_fee": "200円",
      "usage_time": "6:30～22:00",
      "closed_days": "第1第3水曜",
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "的ヶ浜公園前 １分",
      "nearest_station": "別府駅 徒歩１０分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 北的ヶ浜町温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:30～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "22": {
    "onsen_id": "22",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=22",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"22\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2737205, 131.4990212);\n\t\tif (calcDistance(33.2737205, 131.4990212) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t180番&nbsp;&nbsp;此花温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2737205,131.4990212\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市光町７番５号</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～12:00／14:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川8丁目 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩10～15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">管理人は毎月１日～３日はいますが、４日～月末は無人</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail180.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "180",
      "name": "此花温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2737205,131.4990212",
      "latitude": 33.2737205,
      "longitude": 131.4990212,
      "営業形態": "共同温泉",
      "住所": "大分県別府市光町７番５号",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "6:30～12:00／14:00～22:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "流川8丁目 5分",
      "最寄駅(徒歩)": "別府駅 徒歩10～15分",
      "駐車場": "なし",
      "備考": "管理人は毎月１日～３日はいますが、４日～月末は無人"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "180",
      "name": "此花温泉",
      "deleted": false,
      "latitude": 33.2737205,
      "longitude": 131.4990212,
      "address": "大分県別府市光町７番５号",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "6:30～12:00／14:00～22:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "流川8丁目 5分",
      "nearest_station": "別府駅 徒歩10～15分",
      "parking": "なし",
      "remarks": "管理人は毎月１日～３日はいますが、４日～月末は無人",
      "business_form": "共同温泉",
      "description": "温泉名: 此花温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 6:30～12:00／14:00～22:00 | 備考: 管理人は毎月１日～３日はいますが、４日～月末は無人"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "23": {
    "onsen_id": "23",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=23",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"23\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2829612, 131.5029002);\n\t\tif (calcDistance(33.2829612, 131.5029002) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t181番&nbsp;&nbsp;南的ヶ浜温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2829612,131.5029002\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市南的ヶ浜町4-8</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第1・3日曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">的ヶ浜公園前 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩７分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail181.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "181",
      "name": "南的ヶ浜温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2829612,131.5029002",
      "latitude": 33.2829612,
      "longitude": 131.5029002,
      "営業形態": "共同温泉",
      "住所": "大分県別府市南的ヶ浜町4-8",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "10:00～22:00",
      "定休日ほか": "第1・3日曜日",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "的ヶ浜公園前 5分",
      "最寄駅(徒歩)": "別府駅 徒歩７分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "181",
      "name": "南的ヶ浜温泉",
      "deleted": false,
      "latitude": 33.2829612,
      "longitude": 131.5029002,
      "address": "大分県別府市南的ヶ浜町4-8",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "10:00～22:00",
      "closed_days": "第1・3日曜日",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "的ヶ浜公園前 5分",
      "nearest_station": "別府駅 徒歩７分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 南的ヶ浜温泉 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 10:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "24": {
    "onsen_id": "24",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=24",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"24\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2895888, 131.503181);\n\t\tif (calcDistance(33.2895888, 131.503181) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t184番&nbsp;&nbsp;若草温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2895888,131.503181\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市若草町9-37</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6：00～21：30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">餅ヶ浜 京町 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">毎月15日 13：00～16：00 清掃のため入浴不可</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail184.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "184",
      "name": "若草温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2895888,131.503181",
      "latitude": 33.2895888,
      "longitude": 131.503181,
      "営業形態": "共同温泉",
      "住所": "大分県別府市若草町9-37",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "6：00～21：30",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "餅ヶ浜 京町 5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "なし",
      "備考": "毎月15日 13：00～16：00 清掃のため入浴不可"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "184",
      "name": "若草温泉",
      "deleted": false,
      "latitude": 33.2895888,
      "longitude": 131.503181,
      "address": "大分県別府市若草町9-37",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "6：00～21：30",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "餅ヶ浜 京町 5分",
      "nearest_station": "なし",
      "parking": "なし",
      "remarks": "毎月15日 13：00～16：00 清掃のため入浴不可",
      "business_form": "共同温泉",
      "description": "温泉名: 若草温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 6：00～21：30 | 備考: 毎月15日 13：00～16：00 清掃のため入浴不可"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "25": {
    "onsen_id": "25",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=25",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"25\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2832646, 131.5010936);\n\t\tif (calcDistance(33.2832646, 131.5010936) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t191番&nbsp;&nbsp;大和温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2832646,131.5010936\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市野口元町9-15</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">090-9795-4815</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">(5～10月)6:00～11:50／14:00～22:50、(11～4月)6:30～11:50／14:00～22:50</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">富士見4丁目 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩５分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail191.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "191",
      "name": "大和温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2832646,131.5010936",
      "latitude": 33.2832646,
      "longitude": 131.5010936,
      "営業形態": "共同温泉",
      "住所": "大分県別府市野口元町9-15",
      "電話": "090-9795-4815",
      "入浴料金": "200円",
      "利用時間": "(5～10月)6:00～11:50／14:00～22:50、(11～4月)6:30～11:50／14:00～22:50",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "富士見4丁目 3分",
      "最寄駅(徒歩)": "別府駅 徒歩５分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "191",
      "name": "大和温泉",
      "deleted": false,
      "latitude": 33.2832646,
      "longitude": 131.5010936,
      "address": "大分県別府市野口元町9-15",
      "phone": "090-9795-4815",
      "admission_fee": "200円",
      "usage_time": "(5～10月)6:00～11:50／14:00～22:50、(11～4月)6:30～11:50／14:00～22:50",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "富士見4丁目 3分",
      "nearest_station": "別府駅 徒歩５分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 大和温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: (5～10月)6:00～11:50／14:00～22:50、(11～4月)6:30～11:50／14:00～22:50"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "26": {
    "onsen_id": "26",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=26",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"26\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2815704, 131.5049572);\n\t\tif (calcDistance(33.2815704, 131.5049572) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t205番&nbsp;&nbsp;弓松温泉\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2815704,131.5049572\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3丁目6-16</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail205.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "205",
      "name": "弓松温泉",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "205",
      "name": "弓松温泉",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 弓松温泉"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "27": {
    "onsen_id": "27",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=27",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"27\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.277174, 131.493389);\n\t\tif (calcDistance(33.277174, 131.493389) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t20番&nbsp;&nbsp;豊泉荘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.277174,131.493389\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市青山町5-73</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-4281</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15:00～21:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川12丁目 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail20.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "20",
      "name": "豊泉荘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.277174,131.493389",
      "latitude": 33.277174,
      "longitude": 131.493389,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市青山町5-73",
      "電話": "0977-23-4281",
      "入浴料金": "500円",
      "利用時間": "15:00～21:00",
      "定休日ほか": "不定",
      "泉質": "単純温泉",
      "最寄バス停": "流川12丁目 2分",
      "最寄駅(徒歩)": "別府駅 10分",
      "駐車場": "100台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "20",
      "name": "豊泉荘",
      "deleted": false,
      "latitude": 33.277174,
      "longitude": 131.493389,
      "address": "大分県別府市青山町5-73",
      "phone": "0977-23-4281",
      "admission_fee": "500円",
      "usage_time": "15:00～21:00",
      "closed_days": "不定",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "流川12丁目 2分",
      "nearest_station": "別府駅 10分",
      "parking": "100台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 豊泉荘 | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 500円 | 利用時間: 15:00～21:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "28": {
    "onsen_id": "28",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=28",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"28\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2801419, 131.494089);\n\t\tif (calcDistance(33.2801419, 131.494089) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t23番&nbsp;&nbsp;ホテル白菊\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2801419,131.494089\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">上田の湯町16-36</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-2111</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定 1泊2食2万2000円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00　OUT11:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">ホテル白菊前 すぐ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅6分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">70台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail23.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "23",
      "name": "ホテル白菊",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2801419,131.494089",
      "latitude": 33.2801419,
      "longitude": 131.494089,
      "営業形態": "宿泊施設",
      "住所": "上田の湯町16-36",
      "電話": "0977-21-2111",
      "入浴料金": "宿泊限定 1泊2食2万2000円～",
      "利用時間": "IN15:00　OUT11:00",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "ホテル白菊前 すぐ",
      "最寄駅(徒歩)": "別府駅6分",
      "駐車場": "70台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "23",
      "name": "ホテル白菊",
      "deleted": false,
      "latitude": 33.2801419,
      "longitude": 131.494089,
      "address": "上田の湯町16-36",
      "phone": "0977-21-2111",
      "admission_fee": "宿泊限定 1泊2食2万2000円～",
      "usage_time": "IN15:00　OUT11:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "ホテル白菊前 すぐ",
      "nearest_station": "別府駅6分",
      "parking": "70台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: ホテル白菊 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 宿泊限定 1泊2食2万2000円～ | 利用時間: IN15:00　OUT11:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "29": {
    "onsen_id": "29",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=29",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"29\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2817961, 131.5060834);\n\t\tif (calcDistance(33.2817961, 131.5060834) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t24番&nbsp;&nbsp;ゆわいの宿竹乃井\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2817961,131.5060834\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3-10-26</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail24.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "24",
      "name": "ゆわいの宿竹乃井",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "24",
      "name": "ゆわいの宿竹乃井",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: ゆわいの宿竹乃井"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "30": {
    "onsen_id": "30",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=30",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"30\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.278631, 131.506248);\n\t\tif (calcDistance(33.278631, 131.506248) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t26番&nbsp;&nbsp;ホテルニューツルタ\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.278631,131.506248\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜1-14-15</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-1110</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">800円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15:00〜17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">年2回(5～6日間)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉、塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 8分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">50台(1台300円)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail26.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "26",
      "name": "ホテルニューツルタ",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.278631,131.506248",
      "latitude": 33.278631,
      "longitude": 131.506248,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜1-14-15",
      "電話": "0977-22-1110",
      "入浴料金": "800円",
      "利用時間": "15:00〜17:00",
      "定休日ほか": "年2回(5～6日間)",
      "泉質": "炭酸水素塩泉、塩化物泉",
      "最寄バス停": "別府北浜 2分",
      "最寄駅(徒歩)": "別府駅 8分",
      "駐車場": "50台(1台300円)"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "26",
      "name": "ホテルニューツルタ",
      "deleted": false,
      "latitude": 33.278631,
      "longitude": 131.506248,
      "address": "大分県別府市北浜1-14-15",
      "phone": "0977-22-1110",
      "admission_fee": "800円",
      "usage_time": "15:00〜17:00",
      "closed_days": "年2回(5～6日間)",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉、塩化物泉",
      "nearest_bus_stop": "別府北浜 2分",
      "nearest_station": "別府駅 8分",
      "parking": "50台(1台300円)",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: ホテルニューツルタ | 泉質: 炭酸水素塩泉、塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 800円 | 利用時間: 15:00〜17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "31": {
    "onsen_id": "31",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=31",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"31\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.282479, 131.506271);\n\t\tif (calcDistance(33.282479, 131.506271) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t29番&nbsp;&nbsp;悠彩の宿望海\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.282479,131.506271\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3-8-7</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-1241</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊2食1万8700円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～15:00(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府タワー前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 13分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">30台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail29.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "29",
      "name": "悠彩の宿望海",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.282479,131.506271",
      "latitude": 33.282479,
      "longitude": 131.506271,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜3-8-7",
      "電話": "0977-22-1241",
      "入浴料金": "1泊2食1万8700円～",
      "利用時間": "11:00～15:00(要問合せ)",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府タワー前 1分",
      "最寄駅(徒歩)": "別府駅 13分",
      "駐車場": "30台",
      "備考": "宿泊限定"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "29",
      "name": "悠彩の宿望海",
      "deleted": false,
      "latitude": 33.282479,
      "longitude": 131.506271,
      "address": "大分県別府市北浜3-8-7",
      "phone": "0977-22-1241",
      "admission_fee": "1泊2食1万8700円～",
      "usage_time": "11:00～15:00(要問合せ)",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府タワー前 1分",
      "nearest_station": "別府駅 13分",
      "parking": "30台",
      "remarks": "宿泊限定",
      "business_form": "宿泊施設",
      "description": "温泉名: 悠彩の宿望海 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊2食1万8700円～ | 利用時間: 11:00～15:00(要問合せ) | 備考: 宿泊限定"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "32": {
    "onsen_id": "32",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=32",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"32\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2808066, 131.5069181);\n\t\tif (calcDistance(33.2808066, 131.5069181) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t30番&nbsp;&nbsp;べっぷ好楽\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2808066,131.5069181\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3-13-21</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-1331</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">540円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15:00～21:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜 2分、北浜バスセンター1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 12分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">35台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail30.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "30",
      "name": "べっぷ好楽",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2808066,131.5069181",
      "latitude": 33.2808066,
      "longitude": 131.5069181,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜3-13-21",
      "電話": "0977-22-1331",
      "入浴料金": "540円",
      "利用時間": "15:00～21:00",
      "定休日ほか": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府北浜 2分、北浜バスセンター1分",
      "最寄駅(徒歩)": "別府駅 12分",
      "駐車場": "35台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "30",
      "name": "べっぷ好楽",
      "deleted": false,
      "latitude": 33.2808066,
      "longitude": 131.5069181,
      "address": "大分県別府市北浜3-13-21",
      "phone": "0977-22-1331",
      "admission_fee": "540円",
      "usage_time": "15:00～21:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府北浜 2分、北浜バスセンター1分",
      "nearest_station": "別府駅 12分",
      "parking": "35台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: べっぷ好楽 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 540円 | 利用時間: 15:00～21:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "33": {
    "onsen_id": "33",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=33",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"33\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.280982, 131.507368);\n\t\tif (calcDistance(33.280982, 131.507368) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t31番&nbsp;&nbsp;天空湯房清海荘\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.280982,131.507368\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3-14-3</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail31.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "31",
      "name": "天空湯房清海荘",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "31",
      "name": "天空湯房清海荘",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 天空湯房清海荘"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "34": {
    "onsen_id": "34",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=34",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"34\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.278263, 131.50566);\n\t\tif (calcDistance(33.278263, 131.50566) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t33番&nbsp;&nbsp;べっぷ野上本館\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.278263,131.50566\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜1-12-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-1334</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">平日のみ14:00〜16:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1500円（50分5名迄）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 8分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail33.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "33",
      "name": "べっぷ野上本館",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.278263,131.50566",
      "latitude": 33.278263,
      "longitude": 131.50566,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜1-12-1",
      "電話": "0977-22-1334",
      "入浴料金": "500円",
      "利用時間": "平日のみ14:00〜16:00",
      "家族湯(貸切湯)": "1500円（50分5名迄）",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府北浜 2分",
      "最寄駅(徒歩)": "別府駅 8分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "33",
      "name": "べっぷ野上本館",
      "deleted": false,
      "latitude": 33.278263,
      "longitude": 131.50566,
      "address": "大分県別府市北浜1-12-1",
      "phone": "0977-22-1334",
      "admission_fee": "500円",
      "usage_time": "平日のみ14:00〜16:00",
      "closed_days": null,
      "private_bath": "1500円（50分5名迄）",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府北浜 2分",
      "nearest_station": "別府駅 8分",
      "parking": "なし",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: べっぷ野上本館 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 500円 | 利用時間: 平日のみ14:00〜16:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "35": {
    "onsen_id": "35",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=35",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"35\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2900174, 131.4911514);\n\t\tif (calcDistance(33.2900174, 131.4911514) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t88番&nbsp;&nbsp;ホテル別府パストラル\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2900174,131.4911514\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市東荘園町1-4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail88.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "88",
      "name": "ホテル別府パストラル",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "88",
      "name": "ホテル別府パストラル",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: ホテル別府パストラル"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "36": {
    "onsen_id": "36",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=36",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"36\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.281637, 131.505288);\n\t\tif (calcDistance(33.281637, 131.505288) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t96番&nbsp;&nbsp;ホテル三泉閣\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.281637,131.505288\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3-6-23</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail96.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "96",
      "name": "ホテル三泉閣",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "96",
      "name": "ホテル三泉閣",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: ホテル三泉閣"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "37": {
    "onsen_id": "37",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=37",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"37\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2815593, 131.5066237);\n\t\tif (calcDistance(33.2815593, 131.5066237) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t115番&nbsp;&nbsp;割烹旅館関屋\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2815593,131.5066237\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3丁目11-11</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail115.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "115",
      "name": "割烹旅館関屋",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "115",
      "name": "割烹旅館関屋",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 割烹旅館関屋"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "38": {
    "onsen_id": "38",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=38",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"38\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2820231, 131.5036517);\n\t\tif (calcDistance(33.2820231, 131.5036517) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t118番&nbsp;&nbsp;くつろぎの温泉宿山田別荘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2820231,131.5036517\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3-2-18</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-24-2121</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">内風呂500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">曜日不定(要確認)11:00～15:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定(要確認)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切露天風呂1000円/1名30分・3000円/1グループ1時間</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府タワー前 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">※入湯料半額券は露天風呂のみ利用可</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail118.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "118",
      "name": "くつろぎの温泉宿山田別荘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2820231,131.5036517",
      "latitude": 33.2820231,
      "longitude": 131.5036517,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜3-2-18",
      "電話": "0977-24-2121",
      "入浴料金": "内風呂500円",
      "利用時間": "曜日不定(要確認)11:00～15:00",
      "定休日ほか": "不定(要確認)",
      "家族湯(貸切湯)": "貸切露天風呂1000円/1名30分・3000円/1グループ1時間",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府タワー前 2分",
      "駐車場": "7台",
      "備考": "※入湯料半額券は露天風呂のみ利用可"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "118",
      "name": "くつろぎの温泉宿山田別荘",
      "deleted": false,
      "latitude": 33.2820231,
      "longitude": 131.5036517,
      "address": "大分県別府市北浜3-2-18",
      "phone": "0977-24-2121",
      "admission_fee": "内風呂500円",
      "usage_time": "曜日不定(要確認)11:00～15:00",
      "closed_days": "不定(要確認)",
      "private_bath": "貸切露天風呂1000円/1名30分・3000円/1グループ1時間",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府タワー前 2分",
      "nearest_station": null,
      "parking": "7台",
      "remarks": "※入湯料半額券は露天風呂のみ利用可",
      "business_form": "宿泊施設",
      "description": "温泉名: くつろぎの温泉宿山田別荘 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 内風呂500円 | 利用時間: 曜日不定(要確認)11:00～15:00 | 備考: ※入湯料半額券は露天風呂のみ利用可"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "39": {
    "onsen_id": "39",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=39",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"39\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.280457, 131.506338);\n\t\tif (calcDistance(33.280457, 131.506338) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t132番&nbsp;&nbsp;西鉄リゾートイン別府\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.280457,131.506338\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜2-10-4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-26-5151</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">平日14:00～17:00　日・祝15:00～17:00　</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜 1分 北浜バスセンター 0分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">38台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail132.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "132",
      "name": "西鉄リゾートイン別府",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.280457,131.506338",
      "latitude": 33.280457,
      "longitude": 131.506338,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜2-10-4",
      "電話": "0977-26-5151",
      "入浴料金": "300円",
      "利用時間": "平日14:00～17:00　日・祝15:00～17:00",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府北浜 1分 北浜バスセンター 0分",
      "駐車場": "38台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "132",
      "name": "西鉄リゾートイン別府",
      "deleted": false,
      "latitude": 33.280457,
      "longitude": 131.506338,
      "address": "大分県別府市北浜2-10-4",
      "phone": "0977-26-5151",
      "admission_fee": "300円",
      "usage_time": "平日14:00～17:00　日・祝15:00～17:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府北浜 1分 北浜バスセンター 0分",
      "nearest_station": null,
      "parking": "38台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 西鉄リゾートイン別府 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 300円 | 利用時間: 平日14:00～17:00　日・祝15:00～17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "40": {
    "onsen_id": "40",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=40",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"40\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2817315, 131.5064015);\n\t\tif (calcDistance(33.2817315, 131.5064015) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t194番&nbsp;&nbsp;ホテル芳泉鶴\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2817315,131.5064015\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3丁目10-23</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail194.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "194",
      "name": "ホテル芳泉鶴",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "194",
      "name": "ホテル芳泉鶴",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: ホテル芳泉鶴"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "41": {
    "onsen_id": "41",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=41",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"41\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.279104, 131.500875);\n\t\tif (calcDistance(33.279104, 131.500875) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t196番&nbsp;&nbsp;ホテルシーウェーブ別府 熊八の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.279104,131.500875\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市駅前町12-8</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-27-1311</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大人500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～10:00/16:00～深夜0:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">駅前本町 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩１分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">50台（宿泊者優先）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">露天風呂は日替わりで男女いづれか利用可</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail196.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "196",
      "name": "ホテルシーウェーブ別府 熊八の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.279104,131.500875",
      "latitude": 33.279104,
      "longitude": 131.500875,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市駅前町12-8",
      "電話": "0977-27-1311",
      "入浴料金": "大人500円",
      "利用時間": "6:00～10:00/16:00～深夜0:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "駅前本町 1分",
      "最寄駅(徒歩)": "別府駅 徒歩１分",
      "駐車場": "50台（宿泊者優先）",
      "備考": "露天風呂は日替わりで男女いづれか利用可"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "196",
      "name": "ホテルシーウェーブ別府 熊八の湯",
      "deleted": false,
      "latitude": 33.279104,
      "longitude": 131.500875,
      "address": "大分県別府市駅前町12-8",
      "phone": "0977-27-1311",
      "admission_fee": "大人500円",
      "usage_time": "6:00～10:00/16:00～深夜0:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "駅前本町 1分",
      "nearest_station": "別府駅 徒歩１分",
      "parking": "50台（宿泊者優先）",
      "remarks": "露天風呂は日替わりで男女いづれか利用可",
      "business_form": "宿泊施設",
      "description": "温泉名: ホテルシーウェーブ別府 熊八の湯 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 大人500円 | 利用時間: 6:00～10:00/16:00～深夜0:00 | 備考: 露天風呂は日替わりで男女いづれか利用可"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "42": {
    "onsen_id": "42",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=42",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"42\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.281226, 131.5069376);\n\t\tif (calcDistance(33.281226, 131.5069376) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t198番&nbsp;&nbsp;別府のお宿　加賀屋\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.281226,131.5069376\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜3丁目12-14</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-75-7224</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～16:00(最終受付15:15)(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">３室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜 2分 北浜バスセンター 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩１０分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">タオル１００円</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail198.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "198",
      "name": "別府のお宿　加賀屋",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.281226,131.5069376",
      "latitude": 33.281226,
      "longitude": 131.5069376,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜3丁目12-14",
      "電話": "0977-75-7224",
      "入浴料金": "500円",
      "利用時間": "11:00～16:00(最終受付15:15)(要問合せ)",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "３室",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府北浜 2分 北浜バスセンター 1分",
      "最寄駅(徒歩)": "別府駅 徒歩１０分",
      "駐車場": "3台",
      "備考": "タオル１００円"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "198",
      "name": "別府のお宿　加賀屋",
      "deleted": false,
      "latitude": 33.281226,
      "longitude": 131.5069376,
      "address": "大分県別府市北浜3丁目12-14",
      "phone": "0977-75-7224",
      "admission_fee": "500円",
      "usage_time": "11:00～16:00(最終受付15:15)(要問合せ)",
      "closed_days": "なし",
      "private_bath": "３室",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府北浜 2分 北浜バスセンター 1分",
      "nearest_station": "別府駅 徒歩１０分",
      "parking": "3台",
      "remarks": "タオル１００円",
      "business_form": "宿泊施設",
      "description": "温泉名: 別府のお宿　加賀屋 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 500円 | 利用時間: 11:00～16:00(最終受付15:15)(要問合せ) | 備考: タオル１００円"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "43": {
    "onsen_id": "43",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=43",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"43\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2798882, 131.5072452);\n\t\tif (calcDistance(33.2798882, 131.5072452) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t210番&nbsp;&nbsp;日本旅館 松亀荘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2798882,131.5072452\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">北浜2-12-21</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">080-5256-3862</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15:00～18:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">火曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜　２分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail210.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "210",
      "name": "日本旅館 松亀荘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2798882,131.5072452",
      "latitude": 33.2798882,
      "longitude": 131.5072452,
      "営業形態": "宿泊施設",
      "住所": "北浜2-12-21",
      "電話": "080-5256-3862",
      "入浴料金": "500円",
      "利用時間": "15:00～18:00",
      "定休日ほか": "火曜日",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府北浜　２分",
      "最寄駅(徒歩)": "別府駅10分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "210",
      "name": "日本旅館 松亀荘",
      "deleted": false,
      "latitude": 33.2798882,
      "longitude": 131.5072452,
      "address": "北浜2-12-21",
      "phone": "080-5256-3862",
      "admission_fee": "500円",
      "usage_time": "15:00～18:00",
      "closed_days": "火曜日",
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府北浜　２分",
      "nearest_station": "別府駅10分",
      "parking": "なし",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 日本旅館 松亀荘 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 500円 | 利用時間: 15:00～18:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "44": {
    "onsen_id": "44",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=44",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"44\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2858831, 131.5018778);\n\t\tif (calcDistance(33.2858831, 131.5018778) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t211番&nbsp;&nbsp;cotake\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2858831,131.5018778\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">店舗</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市弓ヶ浜町2-28</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-51-4396</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2000円（貸切湯60分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～17:00(最終受付15:30)※要予約</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">日曜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯のみ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">富士見３丁目5分、的ヶ浜公園前10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail211.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "211",
      "name": "cotake",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2858831,131.5018778",
      "latitude": 33.2858831,
      "longitude": 131.5018778,
      "営業形態": "店舗",
      "住所": "大分県別府市弓ヶ浜町2-28",
      "電話": "0977-51-4396",
      "入浴料金": "2000円（貸切湯60分）",
      "利用時間": "10:00～17:00(最終受付15:30)※要予約",
      "定休日ほか": "日曜",
      "家族湯(貸切湯)": "貸切湯のみ",
      "泉質": "塩化物泉",
      "最寄バス停": "富士見３丁目5分、的ヶ浜公園前10分",
      "最寄駅(徒歩)": "別府駅 10分",
      "駐車場": "2台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "211",
      "name": "cotake",
      "deleted": false,
      "latitude": 33.2858831,
      "longitude": 131.5018778,
      "address": "大分県別府市弓ヶ浜町2-28",
      "phone": "0977-51-4396",
      "admission_fee": "2000円（貸切湯60分）",
      "usage_time": "10:00～17:00(最終受付15:30)※要予約",
      "closed_days": "日曜",
      "private_bath": "貸切湯のみ",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "富士見３丁目5分、的ヶ浜公園前10分",
      "nearest_station": "別府駅 10分",
      "parking": "2台",
      "remarks": null,
      "business_form": "店舗",
      "description": "温泉名: cotake | 泉質: 塩化物泉 | 営業形態: 店舗 | 入浴料金: 2000円（貸切湯60分） | 利用時間: 10:00～17:00(最終受付15:30)※要予約"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "45": {
    "onsen_id": "45",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=45",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"45\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2851366, 131.5001465);\n\t\tif (calcDistance(33.2851366, 131.5001465) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t212番&nbsp;&nbsp;富士見温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2851366,131.5001465\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市富士見町1-16</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-4851</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00〜11:00 / 14:00〜23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">毎月15日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">富士見4丁目</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 10分 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail212.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "212",
      "name": "富士見温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2851366,131.5001465",
      "latitude": 33.2851366,
      "longitude": 131.5001465,
      "営業形態": "共同温泉",
      "住所": "大分県別府市富士見町1-16",
      "電話": "0977-23-4851",
      "入浴料金": "200円",
      "利用時間": "7:00〜11:00 / 14:00〜23:00",
      "定休日ほか": "毎月15日",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "富士見4丁目",
      "最寄駅(徒歩)": "別府駅 10分 2分",
      "駐車場": "2台"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "212",
      "name": "富士見温泉",
      "deleted": false,
      "latitude": 33.2851366,
      "longitude": 131.5001465,
      "address": "大分県別府市富士見町1-16",
      "phone": "0977-23-4851",
      "admission_fee": "200円",
      "usage_time": "7:00〜11:00 / 14:00〜23:00",
      "closed_days": "毎月15日",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "富士見4丁目",
      "nearest_station": "別府駅 10分 2分",
      "parking": "2台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 富士見温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 7:00〜11:00 / 14:00〜23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "148": {
    "onsen_id": "148",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=148",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"148\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2790318, 131.488124);\n\t\tif (calcDistance(33.2790318, 131.488124) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t215番&nbsp;&nbsp;温活サロン　KAJU\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2790318,131.488124\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上原町8-18</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-85-7616</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">4400円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～18:00（完全予約）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">日曜・祝日・ほか不定休あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">上原町</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">４台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">完全予約制　１回の入浴時間15分～20分　シャワーあり</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail215.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "215",
      "name": "温活サロン　KAJU",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2790318,131.488124",
      "latitude": 33.2790318,
      "longitude": 131.488124,
      "営業形態": "外湯",
      "住所": "大分県別府市上原町8-18",
      "電話": "0977-85-7616",
      "入浴料金": "4400円",
      "利用時間": "10:00～18:00（完全予約）",
      "定休日ほか": "日曜・祝日・ほか不定休あり",
      "家族湯(貸切湯)": "あり",
      "泉質": "単純温泉",
      "最寄バス停": "上原町",
      "最寄駅(徒歩)": "別府駅 15分",
      "駐車場": "４台",
      "備考": "完全予約制　１回の入浴時間15分～20分　シャワーあり"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "215",
      "name": "温活サロン　KAJU",
      "deleted": false,
      "latitude": 33.2790318,
      "longitude": 131.488124,
      "address": "大分県別府市上原町8-18",
      "phone": "0977-85-7616",
      "admission_fee": "4400円",
      "usage_time": "10:00～18:00（完全予約）",
      "closed_days": "日曜・祝日・ほか不定休あり",
      "private_bath": "あり",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "上原町",
      "nearest_station": "別府駅 15分",
      "parking": "４台",
      "remarks": "完全予約制　１回の入浴時間15分～20分　シャワーあり",
      "business_form": "外湯",
      "description": "温泉名: 温活サロン　KAJU | 泉質: 単純温泉 | 営業形態: 外湯 | 入浴料金: 4400円 | 利用時間: 10:00～18:00（完全予約） | 備考: 完全予約制　１回の入浴時間15分～20分　シャワーあり"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "149": {
    "onsen_id": "149",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=149",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"149\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2776019, 131.5043296);\n\t\tif (calcDistance(33.2776019, 131.5043296) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t14番&nbsp;&nbsp;梅園温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2776019,131.5043296\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市元町5-23</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第4金曜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 7分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail14.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "14",
      "name": "梅園温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2776019,131.5043296",
      "latitude": 33.2776019,
      "longitude": 131.5043296,
      "営業形態": "外湯",
      "住所": "大分県別府市元町5-23",
      "電話": "なし",
      "入浴料金": "300円",
      "利用時間": "11:00～23:00",
      "定休日ほか": "第4金曜",
      "泉質": "単純温泉",
      "最寄駅(徒歩)": "別府駅 7分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "14",
      "name": "梅園温泉",
      "deleted": false,
      "latitude": 33.2776019,
      "longitude": 131.5043296,
      "address": "大分県別府市元町5-23",
      "phone": "なし",
      "admission_fee": "300円",
      "usage_time": "11:00～23:00",
      "closed_days": "第4金曜",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": null,
      "nearest_station": "別府駅 7分",
      "parking": "なし",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 梅園温泉 | 泉質: 単純温泉 | 営業形態: 外湯 | 入浴料金: 300円 | 利用時間: 11:00～23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "150": {
    "onsen_id": "150",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=150",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"150\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2801011, 131.5071375);\n\t\tif (calcDistance(33.2801011, 131.5071375) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t216番&nbsp;&nbsp;サンライン別府\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2801011,131.5071375\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北浜2-12-9</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-26-1155</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">16:00～23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり(1000円/1時間)　※要問合せ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜、北浜バスセンター　２分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台※要問合せ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">駐車場・貸切湯等の利用に関しては宿泊客優先でご案内させていただきますので、立ち寄り湯利用の方はお問い合わせください。基本的には近隣のコインパーキング等をご利用ください。</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail216.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "216",
      "name": "サンライン別府",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2801011,131.5071375",
      "latitude": 33.2801011,
      "longitude": 131.5071375,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北浜2-12-9",
      "電話": "0977-26-1155",
      "入浴料金": "300円",
      "利用時間": "16:00～23:00",
      "定休日ほか": "不定",
      "家族湯(貸切湯)": "あり(1000円/1時間)　※要問合せ",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府北浜、北浜バスセンター　２分",
      "最寄駅(徒歩)": "別府駅 10分",
      "駐車場": "10台※要問合せ",
      "備考": "駐車場・貸切湯等の利用に関しては宿泊客優先でご案内させていただきますので、立ち寄り湯利用の方はお問い合わせください。基本的には近隣のコインパーキング等をご利用ください。"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "216",
      "name": "サンライン別府",
      "deleted": false,
      "latitude": 33.2801011,
      "longitude": 131.5071375,
      "address": "大分県別府市北浜2-12-9",
      "phone": "0977-26-1155",
      "admission_fee": "300円",
      "usage_time": "16:00～23:00",
      "closed_days": "不定",
      "private_bath": "あり(1000円/1時間)　※要問合せ",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府北浜、北浜バスセンター　２分",
      "nearest_station": "別府駅 10分",
      "parking": "10台※要問合せ",
      "remarks": "駐車場・貸切湯等の利用に関しては宿泊客優先でご案内させていただきますので、立ち寄り湯利用の方はお問い合わせください。基本的には近隣のコインパーキング等をご利用ください。",
      "business_form": "宿泊施設",
      "description": "温泉名: サンライン別府 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 300円 | 利用時間: 16:00～23:00 | 備考: 駐車場・貸切湯等の利用に関しては宿泊客優先でご案内させていただきますので、立ち寄り湯利用の方はお問い合わせください。基本的には近隣のコインパーキング等をご利用ください。"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "151": {
    "onsen_id": "151",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=151",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"151\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.285308, 131.502734);\n\t\tif (calcDistance(33.285308, 131.502734) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t217番&nbsp;&nbsp;弓ヶ浜温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.285308,131.502734\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市弓ヶ浜町4-33</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00〜10:00／15:00〜22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第2・第4水曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">富士見3丁目</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅11分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">令和初温泉道加入施設</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail217_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "217",
      "name": "弓ヶ浜温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.285308,131.502734",
      "latitude": 33.285308,
      "longitude": 131.502734,
      "営業形態": "共同温泉",
      "住所": "大分県別府市弓ヶ浜町4-33",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "6:00〜10:00／15:00〜22:30",
      "定休日ほか": "第2・第4水曜日",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "富士見3丁目",
      "最寄駅(徒歩)": "別府駅11分",
      "駐車場": "2台",
      "備考": "令和初温泉道加入施設"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "217",
      "name": "弓ヶ浜温泉",
      "deleted": false,
      "latitude": 33.285308,
      "longitude": 131.502734,
      "address": "大分県別府市弓ヶ浜町4-33",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "6:00〜10:00／15:00〜22:30",
      "closed_days": "第2・第4水曜日",
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "富士見3丁目",
      "nearest_station": "別府駅11分",
      "parking": "2台",
      "remarks": "令和初温泉道加入施設",
      "business_form": "共同温泉",
      "description": "温泉名: 弓ヶ浜温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:00〜10:00／15:00〜22:30 | 備考: 令和初温泉道加入施設"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "155": {
    "onsen_id": "155",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=155",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"155\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.279658, 131.505512);\n\t\tif (calcDistance(33.279658, 131.505512) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t219番&nbsp;&nbsp;トキハ別府店足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.279658,131.505512\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">食事</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">北浜2丁目9番1号</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-1111</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00 ～ 19:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">月数回メンテナンスあり（不定休）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府北浜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅8分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">立体510台・平面110台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">「ゆのまち百貨店」デパ地下の足湯で湯ったり</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail219.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "219",
      "name": "トキハ別府店足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.279658,131.505512",
      "latitude": 33.279658,
      "longitude": 131.505512,
      "営業形態": "食事",
      "住所": "北浜2丁目9番1号",
      "電話": "0977-23-1111",
      "入浴料金": "無料",
      "利用時間": "10:00 ～ 19:00",
      "定休日ほか": "月数回メンテナンスあり（不定休）",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府北浜",
      "最寄駅(徒歩)": "別府駅8分",
      "駐車場": "立体510台・平面110台",
      "備考": "「ゆのまち百貨店」デパ地下の足湯で湯ったり"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "219",
      "name": "トキハ別府店足湯",
      "deleted": false,
      "latitude": 33.279658,
      "longitude": 131.505512,
      "address": "北浜2丁目9番1号",
      "phone": "0977-23-1111",
      "admission_fee": "無料",
      "usage_time": "10:00 ～ 19:00",
      "closed_days": "月数回メンテナンスあり（不定休）",
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府北浜",
      "nearest_station": "別府駅8分",
      "parking": "立体510台・平面110台",
      "remarks": "「ゆのまち百貨店」デパ地下の足湯で湯ったり",
      "business_form": "食事",
      "description": "温泉名: トキハ別府店足湯 | 泉質: 炭酸水素塩泉 | 営業形態: 食事 | 入浴料金: 無料 | 利用時間: 10:00 ～ 19:00 | 備考: 「ゆのまち百貨店」デパ地下の足湯で湯ったり"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "156": {
    "onsen_id": "156",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=156",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"156\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2771255, 131.4916995);\n\t\tif (calcDistance(33.2771255, 131.4916995) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t220番&nbsp;&nbsp;白蓮の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2771255,131.4916995\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市青山町8-68</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-75-8899</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">700円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～15:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">定休日 火・日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯のみ　要予約</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">総合体育館入口　２分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅20分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鍼灸治療院内にある白蓮も入った美人の湯</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail220.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "220",
      "name": "白蓮の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2771255,131.4916995",
      "latitude": 33.2771255,
      "longitude": 131.4916995,
      "営業形態": "外湯",
      "住所": "別府市青山町8-68",
      "電話": "0977-75-8899",
      "入浴料金": "700円",
      "利用時間": "10:00～15:00",
      "定休日ほか": "定休日 火・日",
      "家族湯(貸切湯)": "貸切湯のみ　要予約",
      "泉質": "単純泉",
      "最寄バス停": "総合体育館入口　２分",
      "最寄駅(徒歩)": "別府駅20分",
      "駐車場": "あり",
      "備考": "鍼灸治療院内にある白蓮も入った美人の湯"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "220",
      "name": "白蓮の湯",
      "deleted": false,
      "latitude": 33.2771255,
      "longitude": 131.4916995,
      "address": "別府市青山町8-68",
      "phone": "0977-75-8899",
      "admission_fee": "700円",
      "usage_time": "10:00～15:00",
      "closed_days": "定休日 火・日",
      "private_bath": "貸切湯のみ　要予約",
      "spring_quality": "単純泉",
      "nearest_bus_stop": "総合体育館入口　２分",
      "nearest_station": "別府駅20分",
      "parking": "あり",
      "remarks": "鍼灸治療院内にある白蓮も入った美人の湯",
      "business_form": "外湯",
      "description": "温泉名: 白蓮の湯 | 泉質: 単純泉 | 営業形態: 外湯 | 入浴料金: 700円 | 利用時間: 10:00～15:00 | 備考: 鍼灸治療院内にある白蓮も入った美人の湯"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "159": {
    "onsen_id": "159",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=159",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"159\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2842179, 131.4870361);\n\t\tif (calcDistance(33.2842179, 131.4870361) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t223番&nbsp;&nbsp;別府温泉「文化の湯」\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2020年10月26日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2842179,131.4870361\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市大字別府字野口原3030番地16</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail223.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "223",
      "name": "別府温泉「文化の湯」",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "223",
      "name": "別府温泉「文化の湯」",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 別府温泉「文化の湯」"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "160": {
    "onsen_id": "160",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=160",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"160\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2850559, 131.4948966);\n\t\tif (calcDistance(33.2850559, 131.4948966) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t224番&nbsp;&nbsp;ゆめひのきの湯 大仏温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2850559,131.4948966\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市天満町4-6</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">070-1941-1126</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">碧の湯 大人（中学生以上）800円 子供400円 茜の湯 大人（中学生以上）600円 子供300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:30～17:30　(前日まで事前予約制)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり（貸切湯のみ）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">富士見9丁目</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">檜製温泉冷却装置「ゆめひのき」で源泉かけ流し1室大人2名、最大で大人1人＋子供2名、又は大人2名＋子供1名</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail224.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "224",
      "name": "ゆめひのきの湯 大仏温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2850559,131.4948966",
      "latitude": 33.2850559,
      "longitude": 131.4948966,
      "営業形態": "外湯",
      "住所": "別府市天満町4-6",
      "電話": "070-1941-1126",
      "入浴料金": "碧の湯 大人（中学生以上）800円 子供400円 茜の湯 大人（中学生以上）600円 子供300円",
      "利用時間": "11:30～17:30　(前日まで事前予約制)",
      "定休日ほか": "不定休",
      "家族湯(貸切湯)": "あり（貸切湯のみ）",
      "泉質": "単純泉",
      "最寄バス停": "富士見9丁目",
      "最寄駅(徒歩)": "別府駅 15分",
      "駐車場": "3台",
      "備考": "檜製温泉冷却装置「ゆめひのき」で源泉かけ流し1室大人2名、最大で大人1人＋子供2名、又は大人2名＋子供1名"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "224",
      "name": "ゆめひのきの湯 大仏温泉",
      "deleted": false,
      "latitude": 33.2850559,
      "longitude": 131.4948966,
      "address": "別府市天満町4-6",
      "phone": "070-1941-1126",
      "admission_fee": "碧の湯 大人（中学生以上）800円 子供400円 茜の湯 大人（中学生以上）600円 子供300円",
      "usage_time": "11:30～17:30　(前日まで事前予約制)",
      "closed_days": "不定休",
      "private_bath": "あり（貸切湯のみ）",
      "spring_quality": "単純泉",
      "nearest_bus_stop": "富士見9丁目",
      "nearest_station": "別府駅 15分",
      "parking": "3台",
      "remarks": "檜製温泉冷却装置「ゆめひのき」で源泉かけ流し1室大人2名、最大で大人1人＋子供2名、又は大人2名＋子供1名",
      "business_form": "外湯",
      "description": "温泉名: ゆめひのきの湯 大仏温泉 | 泉質: 単純泉 | 営業形態: 外湯 | 入浴料金: 碧の湯 大人（中学生以上）800円 子供400円 茜の湯 大人（中学生以上）600円 子供300円 | 利用時間: 11:30～17:30　(前日まで事前予約制) | 備考: 檜製温泉冷却装置「ゆめひのき」で源泉かけ流し1室大人2名、最大で大人1人＋子供2名、又は大人2名＋子供1名"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "161": {
    "onsen_id": "161",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=161",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"161\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.27662, 131.49981);\n\t\tif (calcDistance(33.27662, 131.49981) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t25番&nbsp;&nbsp;亀の井ホテル\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.27662,131.49981\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">中央町5-17</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-3301</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊朝食7000円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00 OUT11:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川６丁目　1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300台　３時間無料（駐車券をフロントに提示）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail25.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "25",
      "name": "亀の井ホテル",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.27662,131.49981",
      "latitude": 33.27662,
      "longitude": 131.49981,
      "営業形態": "宿泊施設",
      "住所": "中央町5-17",
      "電話": "0977-22-3301",
      "入浴料金": "1泊朝食7000円～",
      "利用時間": "IN15:00 OUT11:00",
      "定休日ほか": "不定",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "流川６丁目　1分",
      "最寄駅(徒歩)": "別府駅5分",
      "駐車場": "300台　３時間無料（駐車券をフロントに提示）",
      "備考": "宿泊限定"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "25",
      "name": "亀の井ホテル",
      "deleted": false,
      "latitude": 33.27662,
      "longitude": 131.49981,
      "address": "中央町5-17",
      "phone": "0977-22-3301",
      "admission_fee": "1泊朝食7000円～",
      "usage_time": "IN15:00 OUT11:00",
      "closed_days": "不定",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "流川６丁目　1分",
      "nearest_station": "別府駅5分",
      "parking": "300台　３時間無料（駐車券をフロントに提示）",
      "remarks": "宿泊限定",
      "business_form": "宿泊施設",
      "description": "温泉名: 亀の井ホテル | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊朝食7000円～ | 利用時間: IN15:00 OUT11:00 | 備考: 宿泊限定"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "165": {
    "onsen_id": "165",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=165",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"165\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.281577111232124, 131.5020526235143);\n\t\tif (calcDistance(33.281577111232124, 131.5020526235143) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t228番&nbsp;&nbsp;旅館ちとせ\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.281577111232124,131.5020526235143\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市中央町8-6</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">090-2968-8606</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊者のみ1人1泊3,000円（税込）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">16:00～翌日10:00まで（チェックインからチェックアウトまで）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯のみ（1室）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 徒歩 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1台 500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail228.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "228",
      "name": "旅館ちとせ",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.281577111232124,131.5020526235143",
      "latitude": 33.281577111232124,
      "longitude": 131.5020526235143,
      "営業形態": "宿泊施設",
      "住所": "別府市中央町8-6",
      "電話": "090-2968-8606",
      "入浴料金": "宿泊者のみ1人1泊3,000円（税込）",
      "利用時間": "16:00～翌日10:00まで（チェックインからチェックアウトまで）",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "貸切湯のみ（1室）",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "別府駅",
      "最寄駅(徒歩)": "別府駅 徒歩 5分",
      "駐車場": "1台 500円"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "228",
      "name": "旅館ちとせ",
      "deleted": false,
      "latitude": 33.281577111232124,
      "longitude": 131.5020526235143,
      "address": "別府市中央町8-6",
      "phone": "090-2968-8606",
      "admission_fee": "宿泊者のみ1人1泊3,000円（税込）",
      "usage_time": "16:00～翌日10:00まで（チェックインからチェックアウトまで）",
      "closed_days": "なし",
      "private_bath": "貸切湯のみ（1室）",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "別府駅",
      "nearest_station": "別府駅 徒歩 5分",
      "parking": "1台 500円",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 旅館ちとせ | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 宿泊者のみ1人1泊3,000円（税込） | 利用時間: 16:00～翌日10:00まで（チェックインからチェックアウトまで）"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "167": {
    "onsen_id": "167",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=167",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"167\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2752778372229, 131.492061637531);\n\t\tif (calcDistance(33.2752778372229, 131.492061637531) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t230番&nbsp;&nbsp;新光泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2752778372229,131.492061637531\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市中島町14-14</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">小学生以上：別府市外300円・別府市内200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">12:00～16:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川12丁目 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">60年以上続く柔らかな泉質の美肌湯です。コロナの状況によっては立ち寄りをお断りする場合もあります。</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail230.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "230",
      "name": "新光泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2752778372229,131.492061637531",
      "latitude": 33.2752778372229,
      "longitude": 131.492061637531,
      "営業形態": "共同温泉",
      "住所": "別府市中島町14-14",
      "電話": "なし",
      "入浴料金": "小学生以上：別府市外300円・別府市内200円",
      "利用時間": "12:00～16:00",
      "定休日ほか": "不定休",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純泉",
      "最寄バス停": "流川12丁目 3分",
      "最寄駅(徒歩)": "別府駅",
      "駐車場": "なし",
      "備考": "60年以上続く柔らかな泉質の美肌湯です。コロナの状況によっては立ち寄りをお断りする場合もあります。"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "230",
      "name": "新光泉",
      "deleted": false,
      "latitude": 33.2752778372229,
      "longitude": 131.492061637531,
      "address": "別府市中島町14-14",
      "phone": "なし",
      "admission_fee": "小学生以上：別府市外300円・別府市内200円",
      "usage_time": "12:00～16:00",
      "closed_days": "不定休",
      "private_bath": "なし",
      "spring_quality": "単純泉",
      "nearest_bus_stop": "流川12丁目 3分",
      "nearest_station": "別府駅",
      "parking": "なし",
      "remarks": "60年以上続く柔らかな泉質の美肌湯です。コロナの状況によっては立ち寄りをお断りする場合もあります。",
      "business_form": "共同温泉",
      "description": "温泉名: 新光泉 | 泉質: 単純泉 | 営業形態: 共同温泉 | 入浴料金: 小学生以上：別府市外300円・別府市内200円 | 利用時間: 12:00～16:00 | 備考: 60年以上続く柔らかな泉質の美肌湯です。コロナの状況によっては立ち寄りをお断りする場合もあります。"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "168": {
    "onsen_id": "168",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=168",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"168\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2803260227617, 131.495666774584);\n\t\tif (calcDistance(33.2803260227617, 131.495666774584) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t22番&nbsp;&nbsp;竹と椿のお宿　花べっぷ\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2803260227617,131.495666774584\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">上田の湯町16-50</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-0049</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊2食2万5500円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN 15:00 OUT 11:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">ホテル白菊前1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail22.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "22",
      "name": "竹と椿のお宿　花べっぷ",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2803260227617,131.495666774584",
      "latitude": 33.2803260227617,
      "longitude": 131.495666774584,
      "営業形態": "宿泊施設",
      "住所": "上田の湯町16-50",
      "電話": "0977-22-0049",
      "入浴料金": "1泊2食2万5500円～",
      "利用時間": "IN 15:00 OUT 11:00",
      "家族湯(貸切湯)": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "ホテル白菊前1分",
      "最寄駅(徒歩)": "別府駅10分",
      "駐車場": "15台",
      "備考": "宿泊限定"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "22",
      "name": "竹と椿のお宿　花べっぷ",
      "deleted": false,
      "latitude": 33.2803260227617,
      "longitude": 131.495666774584,
      "address": "上田の湯町16-50",
      "phone": "0977-22-0049",
      "admission_fee": "1泊2食2万5500円～",
      "usage_time": "IN 15:00 OUT 11:00",
      "closed_days": null,
      "private_bath": "なし",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "ホテル白菊前1分",
      "nearest_station": "別府駅10分",
      "parking": "15台",
      "remarks": "宿泊限定",
      "business_form": "宿泊施設",
      "description": "温泉名: 竹と椿のお宿　花べっぷ | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊2食2万5500円～ | 利用時間: IN 15:00 OUT 11:00 | 備考: 宿泊限定"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "176": {
    "onsen_id": "176",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=176",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"176\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.278911421107026, 131.50264542851835);\n\t\tif (calcDistance(33.278911421107026, 131.50264542851835) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t別府\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t94番&nbsp;&nbsp;ホテルアーサー\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.278911421107026,131.50264542851835\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">北浜1-2-5</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-25-2611</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊朝食9,100円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN17:00　OUT12:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">駅前本町　1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">契約Pあり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail94.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "別府",
      "ban_number": "94",
      "name": "ホテルアーサー",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.278911421107026,131.50264542851835",
      "latitude": 33.278911421107026,
      "longitude": 131.50264542851835,
      "営業形態": "宿泊施設",
      "住所": "北浜1-2-5",
      "電話": "0977-25-2611",
      "入浴料金": "1泊朝食9,100円～",
      "利用時間": "IN17:00　OUT12:00",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "駅前本町　1分",
      "駐車場": "契約Pあり"
    },
    "mapped_data": {
      "region": "別府",
      "ban_number": "94",
      "name": "ホテルアーサー",
      "deleted": false,
      "latitude": 33.278911421107026,
      "longitude": 131.50264542851835,
      "address": "北浜1-2-5",
      "phone": "0977-25-2611",
      "admission_fee": "1泊朝食9,100円～",
      "usage_time": "IN17:00　OUT12:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "駅前本町　1分",
      "nearest_station": null,
      "parking": "契約Pあり",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: ホテルアーサー | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊朝食9,100円～ | 利用時間: IN17:00　OUT12:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "147": {
    "onsen_id": "147",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=147",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"147\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.368872, 131.596489);\n\t\tif (calcDistance(33.368872, 131.596489) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t日出\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t192番&nbsp;&nbsp;ホテルソラージュ大分・日出\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.368872,131.596489\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県速見郡日出町大神7505</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-72－1800</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">750円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">月・水～金曜、日曜、祝日11:00～22:00(受付21:00)、土曜・休前日11:00～19:00(受付18:00)、火曜16:00～22:00(受付21:00)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり　2室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">ホテルソラージュ前</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail192.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "日出",
      "ban_number": "192",
      "name": "ホテルソラージュ大分・日出",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.368872,131.596489",
      "latitude": 33.368872,
      "longitude": 131.596489,
      "営業形態": "宿泊施設",
      "住所": "大分県速見郡日出町大神7505",
      "電話": "0977-72－1800",
      "入浴料金": "750円",
      "利用時間": "月・水～金曜、日曜、祝日11:00～22:00(受付21:00)、土曜・休前日11:00～19:00(受付18:00)、火曜16:00～22:00(受付21:00)",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "あり　2室",
      "泉質": "塩化物泉",
      "最寄バス停": "ホテルソラージュ前",
      "最寄駅(徒歩)": "なし",
      "駐車場": "200台"
    },
    "mapped_data": {
      "region": "日出",
      "ban_number": "192",
      "name": "ホテルソラージュ大分・日出",
      "deleted": false,
      "latitude": 33.368872,
      "longitude": 131.596489,
      "address": "大分県速見郡日出町大神7505",
      "phone": "0977-72－1800",
      "admission_fee": "750円",
      "usage_time": "月・水～金曜、日曜、祝日11:00～22:00(受付21:00)、土曜・休前日11:00～19:00(受付18:00)、火曜16:00～22:00(受付21:00)",
      "closed_days": "なし",
      "private_bath": "あり　2室",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "ホテルソラージュ前",
      "nearest_station": "なし",
      "parking": "200台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: ホテルソラージュ大分・日出 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 750円 | 利用時間: 月・水～金曜、日曜、祝日11:00～22:00(受付21:00)、土曜・休前日11:00～19:00(受付18:00)、火曜16:00～22:00(受付21:00)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "137": {
    "onsen_id": "137",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=137",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"137\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.263562, 131.427298);\n\t\tif (calcDistance(33.263562, 131.427298) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t158番&nbsp;&nbsp;城島高原パーク展望足湯　花草香\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.263562,131.427298\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">レジャー施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市城島高原123</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-1165</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1500円（施設入園料）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～16:00(季節・曜日よって異なる。休園日あり)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">城島高原パーク 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2000台(500円)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail158.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "158",
      "name": "城島高原パーク展望足湯　花草香",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.263562,131.427298",
      "latitude": 33.263562,
      "longitude": 131.427298,
      "営業形態": "レジャー施設",
      "住所": "大分県別府市城島高原123",
      "電話": "0977-22-1165",
      "入浴料金": "1500円（施設入園料）",
      "利用時間": "10:00～16:00(季節・曜日よって異なる。休園日あり)",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "城島高原パーク 3分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "2000台(500円)"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "158",
      "name": "城島高原パーク展望足湯　花草香",
      "deleted": false,
      "latitude": 33.263562,
      "longitude": 131.427298,
      "address": "大分県別府市城島高原123",
      "phone": "0977-22-1165",
      "admission_fee": "1500円（施設入園料）",
      "usage_time": "10:00～16:00(季節・曜日よって異なる。休園日あり)",
      "closed_days": null,
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "城島高原パーク 3分",
      "nearest_station": "なし",
      "parking": "2000台(500円)",
      "remarks": null,
      "business_form": "レジャー施設",
      "description": "温泉名: 城島高原パーク展望足湯　花草香 | 泉質: 単純温泉 | 営業形態: レジャー施設 | 入浴料金: 1500円（施設入園料） | 利用時間: 10:00～16:00(季節・曜日よって異なる。休園日あり)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "138": {
    "onsen_id": "138",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=138",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"138\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3061838, 131.4857071);\n\t\tif (calcDistance(33.3061838, 131.4857071) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t81番&nbsp;&nbsp;市の原温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3061838,131.4857071\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市新別府7組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5:30～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">古寺 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail81.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "81",
      "name": "市の原温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3061838,131.4857071",
      "latitude": 33.3061838,
      "longitude": 131.4857071,
      "営業形態": "共同温泉",
      "住所": "大分県別府市新別府7組",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "5:30～22:00",
      "泉質": "単純温泉",
      "最寄バス停": "古寺 5分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "81",
      "name": "市の原温泉",
      "deleted": false,
      "latitude": 33.3061838,
      "longitude": 131.4857071,
      "address": "大分県別府市新別府7組",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "5:30～22:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "古寺 5分",
      "nearest_station": null,
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 市の原温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 5:30～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "139": {
    "onsen_id": "139",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=139",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"139\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2911333, 131.4838364);\n\t\tif (calcDistance(33.2911333, 131.4838364) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t109番&nbsp;&nbsp;七ッ石温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2911333,131.4838364\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市荘園2組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-8705</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">朝日橋 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail109.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "109",
      "name": "七ッ石温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2911333,131.4838364",
      "latitude": 33.2911333,
      "longitude": 131.4838364,
      "営業形態": "共同温泉",
      "住所": "大分県別府市荘園2組",
      "電話": "0977-23-8705",
      "入浴料金": "200円",
      "利用時間": "15:00～22:00",
      "泉質": "単純温泉",
      "最寄バス停": "朝日橋 5分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "109",
      "name": "七ッ石温泉",
      "deleted": false,
      "latitude": 33.2911333,
      "longitude": 131.4838364,
      "address": "大分県別府市荘園2組",
      "phone": "0977-23-8705",
      "admission_fee": "200円",
      "usage_time": "15:00～22:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "朝日橋 5分",
      "nearest_station": null,
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 七ッ石温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 15:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "140": {
    "onsen_id": "140",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=140",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"140\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.35609, 131.498515);\n\t\tif (calcDistance(33.35609, 131.498515) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t86番&nbsp;&nbsp;Hotel &amp; Resorts BEPPUWAN\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.35609,131.498515\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市日出町平道入江1825</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail86.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "86",
      "name": "Hotel & Resorts BEPPUWAN",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "86",
      "name": "Hotel & Resorts BEPPUWAN",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: Hotel & Resorts BEPPUWAN"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "141": {
    "onsen_id": "141",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=141",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"141\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.262701, 131.425401);\n\t\tif (calcDistance(33.262701, 131.425401) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t87番&nbsp;&nbsp;城島高原ホテル\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.262701,131.425401\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市城島高原123-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-1163</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">800円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">13:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">城島高原パーク 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">82台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail87.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "87",
      "name": "城島高原ホテル",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.262701,131.425401",
      "latitude": 33.262701,
      "longitude": 131.425401,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市城島高原123-1",
      "電話": "0977-22-1163",
      "入浴料金": "800円",
      "利用時間": "13:00～17:00",
      "泉質": "塩化物泉",
      "最寄バス停": "城島高原パーク 3分",
      "駐車場": "82台"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "87",
      "name": "城島高原ホテル",
      "deleted": false,
      "latitude": 33.262701,
      "longitude": 131.425401,
      "address": "大分県別府市城島高原123-1",
      "phone": "0977-22-1163",
      "admission_fee": "800円",
      "usage_time": "13:00～17:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "城島高原パーク 3分",
      "nearest_station": null,
      "parking": "82台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 城島高原ホテル | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 800円 | 利用時間: 13:00～17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "142": {
    "onsen_id": "142",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=142",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"142\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.304452, 131.465245);\n\t\tif (calcDistance(33.304452, 131.465245) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t157番&nbsp;&nbsp;おかたの湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.304452,131.465245\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市竹の内5組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-4126</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯1500円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～受付22:00、土・日曜・祝日9:00～受付22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10部屋</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">今井 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">20台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail157.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "157",
      "name": "おかたの湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.304452,131.465245",
      "latitude": 33.304452,
      "longitude": 131.465245,
      "営業形態": "外湯",
      "住所": "大分県別府市竹の内5組",
      "電話": "0977-22-4126",
      "入浴料金": "貸切湯1500円～",
      "利用時間": "11:00～受付22:00、土・日曜・祝日9:00～受付22:00",
      "定休日ほか": "不定休",
      "家族湯(貸切湯)": "10部屋",
      "泉質": "塩化物泉",
      "最寄バス停": "今井 5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "20台"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "157",
      "name": "おかたの湯",
      "deleted": false,
      "latitude": 33.304452,
      "longitude": 131.465245,
      "address": "大分県別府市竹の内5組",
      "phone": "0977-22-4126",
      "admission_fee": "貸切湯1500円～",
      "usage_time": "11:00～受付22:00、土・日曜・祝日9:00～受付22:00",
      "closed_days": "不定休",
      "private_bath": "10部屋",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "今井 5分",
      "nearest_station": "なし",
      "parking": "20台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: おかたの湯 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 貸切湯1500円～ | 利用時間: 11:00～受付22:00、土・日曜・祝日9:00～受付22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "143": {
    "onsen_id": "143",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=143",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"143\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3057555, 131.4685932);\n\t\tif (calcDistance(33.3057555, 131.4685932) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t175番&nbsp;&nbsp;陽だまり温泉　花の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3057555,131.4685932\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市竹の内町2-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-8778</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切1500円※平日10:00～17:00 1名の場合は500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～受付深夜0:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">今井 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">入湯料金注意</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail175.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "175",
      "name": "陽だまり温泉　花の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3057555,131.4685932",
      "latitude": 33.3057555,
      "longitude": 131.4685932,
      "営業形態": "外湯",
      "住所": "大分県別府市竹の内町2-2",
      "電話": "0977-21-8778",
      "入浴料金": "貸切1500円※平日10:00～17:00 1名の場合は500円",
      "利用時間": "10:00～受付深夜0:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "8室",
      "泉質": "塩化物泉",
      "最寄バス停": "今井 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "15台",
      "備考": "入湯料金注意"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "175",
      "name": "陽だまり温泉　花の湯",
      "deleted": false,
      "latitude": 33.3057555,
      "longitude": 131.4685932,
      "address": "大分県別府市竹の内町2-2",
      "phone": "0977-21-8778",
      "admission_fee": "貸切1500円※平日10:00～17:00 1名の場合は500円",
      "usage_time": "10:00～受付深夜0:00",
      "closed_days": "なし",
      "private_bath": "8室",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "今井 1分",
      "nearest_station": "なし",
      "parking": "15台",
      "remarks": "入湯料金注意",
      "business_form": "外湯",
      "description": "温泉名: 陽だまり温泉　花の湯 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 貸切1500円※平日10:00～17:00 1名の場合は500円 | 利用時間: 10:00～受付深夜0:00 | 備考: 入湯料金注意"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "144": {
    "onsen_id": "144",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=144",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"144\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.4764363, 131.7325197);\n\t\tif (calcDistance(33.4764363, 131.7325197) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t204番&nbsp;&nbsp;大分空港足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.4764363,131.7325197\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県国東市安岐町下原13番地</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0978-67-1174</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9:30～19:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">770台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail204.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "204",
      "name": "大分空港足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.4764363,131.7325197",
      "latitude": 33.4764363,
      "longitude": 131.7325197,
      "営業形態": "足湯",
      "住所": "大分県国東市安岐町下原13番地",
      "電話": "0978-67-1174",
      "入浴料金": "無料",
      "利用時間": "9:30～19:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄駅(徒歩)": "なし",
      "駐車場": "770台"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "204",
      "name": "大分空港足湯",
      "deleted": false,
      "latitude": 33.4764363,
      "longitude": 131.7325197,
      "address": "大分県国東市安岐町下原13番地",
      "phone": "0978-67-1174",
      "admission_fee": "無料",
      "usage_time": "9:30～19:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": null,
      "nearest_station": "なし",
      "parking": "770台",
      "remarks": null,
      "business_form": "足湯",
      "description": "温泉名: 大分空港足湯 | 泉質: 単純温泉 | 営業形態: 足湯 | 入浴料金: 無料 | 利用時間: 9:30～19:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "145": {
    "onsen_id": "145",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=145",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"145\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.29884, 131.477555);\n\t\tif (calcDistance(33.29884, 131.477555) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t209番&nbsp;&nbsp;新別府病院 足湯 「わをんの湯」\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.29884,131.477555\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市大字鶴見3898番地</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-0391</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9:30～15:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">土、日、祝日、年末年始</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">老人ホーム前</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail209.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "209",
      "name": "新別府病院 足湯 「わをんの湯」",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.29884,131.477555",
      "latitude": 33.29884,
      "longitude": 131.477555,
      "営業形態": "足湯",
      "住所": "大分県別府市大字鶴見3898番地",
      "電話": "0977-22-0391",
      "入浴料金": "無料",
      "利用時間": "9:30～15:00",
      "定休日ほか": "土、日、祝日、年末年始",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "老人ホーム前",
      "最寄駅(徒歩)": "なし",
      "駐車場": "あり"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "209",
      "name": "新別府病院 足湯 「わをんの湯」",
      "deleted": false,
      "latitude": 33.29884,
      "longitude": 131.477555,
      "address": "大分県別府市大字鶴見3898番地",
      "phone": "0977-22-0391",
      "admission_fee": "無料",
      "usage_time": "9:30～15:00",
      "closed_days": "土、日、祝日、年末年始",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "老人ホーム前",
      "nearest_station": "なし",
      "parking": "あり",
      "remarks": null,
      "business_form": "足湯",
      "description": "温泉名: 新別府病院 足湯 「わをんの湯」 | 泉質: 塩化物泉 | 営業形態: 足湯 | 入浴料金: 無料 | 利用時間: 9:30～15:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "172": {
    "onsen_id": "172",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=172",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"172\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3010319293131, 131.493508283417);\n\t\tif (calcDistance(33.3010319293131, 131.493508283417) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t233番&nbsp;&nbsp;南須賀温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3010319293131,131.493508283417\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">石垣西8丁目3-4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～10:00 / 13:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">石垣8丁目</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅40分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail233.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "233",
      "name": "南須賀温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3010319293131,131.493508283417",
      "latitude": 33.3010319293131,
      "longitude": 131.493508283417,
      "営業形態": "共同温泉",
      "住所": "石垣西8丁目3-4",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "6:00～10:00 / 13:00～22:30",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純泉",
      "最寄バス停": "石垣8丁目",
      "最寄駅(徒歩)": "別府駅40分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "233",
      "name": "南須賀温泉",
      "deleted": false,
      "latitude": 33.3010319293131,
      "longitude": 131.493508283417,
      "address": "石垣西8丁目3-4",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "6:00～10:00 / 13:00～22:30",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純泉",
      "nearest_bus_stop": "石垣8丁目",
      "nearest_station": "別府駅40分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 南須賀温泉 | 泉質: 単純泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 6:00～10:00 / 13:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "173": {
    "onsen_id": "173",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=173",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"173\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.30493395245664, 131.49898076201353);\n\t\tif (calcDistance(33.30493395245664, 131.49898076201353) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t234番&nbsp;&nbsp;ホテルサンバリーアネックス\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.30493395245664,131.49898076201353\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">石垣東10丁目1-20</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-36-6555</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">「和洋ダイニング若潮」または「プリマドール」でランチ利用をした方のみ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">※ランチ11:30〜14:00（LO13:30）※入浴は15:00まで</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">娘田</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅16分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">ホテル駐車場収容台数約120台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分ヤクルト販売が運営する温泉複合施設</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail234.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "234",
      "name": "ホテルサンバリーアネックス",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.30493395245664,131.49898076201353",
      "latitude": 33.30493395245664,
      "longitude": 131.49898076201353,
      "営業形態": "宿泊施設",
      "住所": "石垣東10丁目1-20",
      "電話": "0977-36-6555",
      "入浴料金": "「和洋ダイニング若潮」または「プリマドール」でランチ利用をした方のみ",
      "利用時間": "※ランチ11:30〜14:00（LO13:30）※入浴は15:00まで",
      "定休日ほか": "不定休",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純泉",
      "最寄バス停": "娘田",
      "最寄駅(徒歩)": "別府駅16分",
      "駐車場": "ホテル駐車場収容台数約120台",
      "備考": "大分ヤクルト販売が運営する温泉複合施設"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "234",
      "name": "ホテルサンバリーアネックス",
      "deleted": false,
      "latitude": 33.30493395245664,
      "longitude": 131.49898076201353,
      "address": "石垣東10丁目1-20",
      "phone": "0977-36-6555",
      "admission_fee": "「和洋ダイニング若潮」または「プリマドール」でランチ利用をした方のみ",
      "usage_time": "※ランチ11:30〜14:00（LO13:30）※入浴は15:00まで",
      "closed_days": "不定休",
      "private_bath": "なし",
      "spring_quality": "単純泉",
      "nearest_bus_stop": "娘田",
      "nearest_station": "別府駅16分",
      "parking": "ホテル駐車場収容台数約120台",
      "remarks": "大分ヤクルト販売が運営する温泉複合施設",
      "business_form": "宿泊施設",
      "description": "温泉名: ホテルサンバリーアネックス | 泉質: 単純泉 | 営業形態: 宿泊施設 | 入浴料金: 「和洋ダイニング若潮」または「プリマドール」でランチ利用をした方のみ | 利用時間: ※ランチ11:30〜14:00（LO13:30）※入浴は15:00まで | 備考: 大分ヤクルト販売が運営する温泉複合施設"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "177": {
    "onsen_id": "177",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=177",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"177\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.28660128569044, 131.4792269343809);\n\t\tif (calcDistance(33.28660128569044, 131.4792269343809) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\tその他\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t236番&nbsp;&nbsp;割烹旅館ゆめさき\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.28660128569044,131.4792269343809\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鶴見園町5組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-3008</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定 1泊2食2万6000円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00～18:00　OUT10:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">中津留　5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail236.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "その他",
      "ban_number": "236",
      "name": "割烹旅館ゆめさき",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.28660128569044,131.4792269343809",
      "latitude": 33.28660128569044,
      "longitude": 131.4792269343809,
      "営業形態": "宿泊施設",
      "住所": "鶴見園町5組",
      "電話": "0977-22-3008",
      "入浴料金": "宿泊限定 1泊2食2万6000円～",
      "利用時間": "IN15:00～18:00　OUT10:00",
      "泉質": "単純温泉",
      "最寄バス停": "中津留　5分",
      "駐車場": "6台"
    },
    "mapped_data": {
      "region": "その他",
      "ban_number": "236",
      "name": "割烹旅館ゆめさき",
      "deleted": false,
      "latitude": 33.28660128569044,
      "longitude": 131.4792269343809,
      "address": "鶴見園町5組",
      "phone": "0977-22-3008",
      "admission_fee": "宿泊限定 1泊2食2万6000円～",
      "usage_time": "IN15:00～18:00　OUT10:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "中津留　5分",
      "nearest_station": null,
      "parking": "6台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 割烹旅館ゆめさき | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 宿泊限定 1泊2食2万6000円～ | 利用時間: IN15:00～18:00　OUT10:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "146": {
    "onsen_id": "146",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=146",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"146\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3133172, 131.4219965);\n\t\tif (calcDistance(33.3133172, 131.4219965) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t塚原\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t100番&nbsp;&nbsp;塚原温泉火口乃泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3133172,131.4219965\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県由布市湯布院町塚原1235</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-85-4101</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">（3〜12月）9:00〜受付17:00、（1〜2月）10:00〜受付17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">年末年始、悪天候時</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2000円（60分大人2名小人2名迄）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">酸性泉、含鉄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1053台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail100.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "塚原",
      "ban_number": "100",
      "name": "塚原温泉火口乃泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3133172,131.4219965",
      "latitude": 33.3133172,
      "longitude": 131.4219965,
      "営業形態": "外湯",
      "住所": "大分県由布市湯布院町塚原1235",
      "電話": "0977-85-4101",
      "入浴料金": "500円",
      "利用時間": "（3〜12月）9:00〜受付17:00、（1〜2月）10:00〜受付17:00",
      "定休日ほか": "年末年始、悪天候時",
      "家族湯(貸切湯)": "2000円（60分大人2名小人2名迄）",
      "泉質": "酸性泉、含鉄泉",
      "最寄駅(徒歩)": "なし",
      "駐車場": "1053台"
    },
    "mapped_data": {
      "region": "塚原",
      "ban_number": "100",
      "name": "塚原温泉火口乃泉",
      "deleted": false,
      "latitude": 33.3133172,
      "longitude": 131.4219965,
      "address": "大分県由布市湯布院町塚原1235",
      "phone": "0977-85-4101",
      "admission_fee": "500円",
      "usage_time": "（3〜12月）9:00〜受付17:00、（1〜2月）10:00〜受付17:00",
      "closed_days": "年末年始、悪天候時",
      "private_bath": "2000円（60分大人2名小人2名迄）",
      "spring_quality": "酸性泉、含鉄泉",
      "nearest_bus_stop": null,
      "nearest_station": "なし",
      "parking": "1053台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 塚原温泉火口乃泉 | 泉質: 酸性泉、含鉄泉 | 営業形態: 外湯 | 入浴料金: 500円 | 利用時間: （3〜12月）9:00〜受付17:00、（1〜2月）10:00〜受付17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "46": {
    "onsen_id": "46",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=46",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"46\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2734898, 131.5064332);\n\t\tif (calcDistance(33.2734898, 131.5064332) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t12番&nbsp;&nbsp;松原温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2734898,131.5064332\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市松原町3-4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～12:00／15:00～23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">毎月5・20日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">永石温泉前 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail12.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "12",
      "name": "松原温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2734898,131.5064332",
      "latitude": 33.2734898,
      "longitude": 131.5064332,
      "営業形態": "共同温泉",
      "住所": "大分県別府市松原町3-4",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "6:30～12:00／15:00～23:00",
      "定休日ほか": "毎月5・20日",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "永石温泉前 3分",
      "最寄駅(徒歩)": "東別府駅 5分",
      "駐車場": "3台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "12",
      "name": "松原温泉",
      "deleted": false,
      "latitude": 33.2734898,
      "longitude": 131.5064332,
      "address": "大分県別府市松原町3-4",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "6:30～12:00／15:00～23:00",
      "closed_days": "毎月5・20日",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "永石温泉前 3分",
      "nearest_station": "東別府駅 5分",
      "parking": "3台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 松原温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:30～12:00／15:00～23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "47": {
    "onsen_id": "47",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=47",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"47\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2707793, 131.5060325);\n\t\tif (calcDistance(33.2707793, 131.5060325) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t13番&nbsp;&nbsp;住吉温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2707793,131.5060325\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市松原町18-23</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市内の方150円、市外の方300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">16:00～22:45</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯都ピア浜脇 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅 7分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail13.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "13",
      "name": "住吉温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2707793,131.5060325",
      "latitude": 33.2707793,
      "longitude": 131.5060325,
      "営業形態": "共同温泉",
      "住所": "大分県別府市松原町18-23",
      "電話": "なし",
      "入浴料金": "市内の方150円、市外の方300円",
      "利用時間": "16:00～22:45",
      "定休日ほか": "なし",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "湯都ピア浜脇 3分",
      "最寄駅(徒歩)": "東別府駅 7分",
      "駐車場": "3台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "13",
      "name": "住吉温泉",
      "deleted": false,
      "latitude": 33.2707793,
      "longitude": 131.5060325,
      "address": "大分県別府市松原町18-23",
      "phone": "なし",
      "admission_fee": "市内の方150円、市外の方300円",
      "usage_time": "16:00～22:45",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "湯都ピア浜脇 3分",
      "nearest_station": "東別府駅 7分",
      "parking": "3台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 住吉温泉 | 泉質: 炭酸水素塩泉 | 営業形態: 共同温泉 | 入浴料金: 市内の方150円、市外の方300円 | 利用時間: 16:00～22:45"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "48": {
    "onsen_id": "48",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=48",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"48\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2698342, 131.5083486);\n\t\tif (calcDistance(33.2698342, 131.5083486) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t35番&nbsp;&nbsp;湯都ピア浜脇\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2698342,131.5083486\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市浜脇1丁目8-20</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-25-8118</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">700円(大人)、350円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～22:00(最終受付21:00)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">火曜（祝日の場合は翌日）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯都ピア浜脇 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅 7分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">有料Pあり（入浴者は3時間無料）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail35.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "35",
      "name": "湯都ピア浜脇",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2698342,131.5083486",
      "latitude": 33.2698342,
      "longitude": 131.5083486,
      "営業形態": "市営温泉",
      "住所": "大分県別府市浜脇1丁目8-20",
      "電話": "0977-25-8118",
      "入浴料金": "700円(大人)、350円（子供）",
      "利用時間": "10:00～22:00(最終受付21:00)",
      "定休日ほか": "火曜（祝日の場合は翌日）",
      "泉質": "単純温泉",
      "最寄バス停": "湯都ピア浜脇 1分",
      "最寄駅(徒歩)": "東別府駅 7分",
      "駐車場": "有料Pあり（入浴者は3時間無料）"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "35",
      "name": "湯都ピア浜脇",
      "deleted": false,
      "latitude": 33.2698342,
      "longitude": 131.5083486,
      "address": "大分県別府市浜脇1丁目8-20",
      "phone": "0977-25-8118",
      "admission_fee": "700円(大人)、350円（子供）",
      "usage_time": "10:00～22:00(最終受付21:00)",
      "closed_days": "火曜（祝日の場合は翌日）",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "湯都ピア浜脇 1分",
      "nearest_station": "東別府駅 7分",
      "parking": "有料Pあり（入浴者は3時間無料）",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 湯都ピア浜脇 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 700円(大人)、350円（子供） | 利用時間: 10:00～22:00(最終受付21:00)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "49": {
    "onsen_id": "49",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=49",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"49\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.27001415291852, 131.5082195086219);\n\t\tif (calcDistance(33.27001415291852, 131.5082195086219) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t36番&nbsp;&nbsp;浜脇温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.27001415291852,131.5082195086219\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市浜脇1丁目8-20</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-25-8118</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～深夜1:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯都ピア浜脇 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅 7分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">14台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail36.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "36",
      "name": "浜脇温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.27001415291852,131.5082195086219",
      "latitude": 33.27001415291852,
      "longitude": 131.5082195086219,
      "営業形態": "市営温泉",
      "住所": "大分県別府市浜脇1丁目8-20",
      "電話": "0977-25-8118",
      "入浴料金": "200円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～深夜1:00",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "湯都ピア浜脇 1分",
      "最寄駅(徒歩)": "東別府駅 7分",
      "駐車場": "14台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "36",
      "name": "浜脇温泉",
      "deleted": false,
      "latitude": 33.27001415291852,
      "longitude": 131.5082195086219,
      "address": "大分県別府市浜脇1丁目8-20",
      "phone": "0977-25-8118",
      "admission_fee": "200円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～深夜1:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "湯都ピア浜脇 1分",
      "nearest_station": "東別府駅 7分",
      "parking": "14台",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 浜脇温泉 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 200円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～深夜1:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "50": {
    "onsen_id": "50",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=50",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"50\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2711568, 131.5084462);\n\t\tif (calcDistance(33.2711568, 131.5084462) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t37番&nbsp;&nbsp;日の出温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2711568,131.5084462\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市浜町22-10</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00〜12:00/14:30〜深夜0:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯都ピア浜脇 6分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅 7分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail37.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "37",
      "name": "日の出温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2711568,131.5084462",
      "latitude": 33.2711568,
      "longitude": 131.5084462,
      "営業形態": "共同温泉",
      "住所": "大分県別府市浜町22-10",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "7:00〜12:00/14:30〜深夜0:00",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "湯都ピア浜脇 6分",
      "最寄駅(徒歩)": "東別府駅 7分",
      "駐車場": "10台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "37",
      "name": "日の出温泉",
      "deleted": false,
      "latitude": 33.2711568,
      "longitude": 131.5084462,
      "address": "大分県別府市浜町22-10",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "7:00〜12:00/14:30〜深夜0:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "湯都ピア浜脇 6分",
      "nearest_station": "東別府駅 7分",
      "parking": "10台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 日の出温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 7:00〜12:00/14:30〜深夜0:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "51": {
    "onsen_id": "51",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=51",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"51\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2707005, 131.499382);\n\t\tif (calcDistance(33.2707005, 131.499382) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t138番&nbsp;&nbsp;山田温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2707005,131.499382\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市朝見1丁目12-9</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～9:00／11:00～23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">御幸橋 6分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail138.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "138",
      "name": "山田温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2707005,131.499382",
      "latitude": 33.2707005,
      "longitude": 131.499382,
      "営業形態": "共同温泉",
      "住所": "大分県別府市朝見1丁目12-9",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "6:00～9:00／11:00～23:00",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "御幸橋 6分",
      "最寄駅(徒歩)": "別府駅 15分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "138",
      "name": "山田温泉",
      "deleted": false,
      "latitude": 33.2707005,
      "longitude": 131.499382,
      "address": "大分県別府市朝見1丁目12-9",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "6:00～9:00／11:00～23:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "御幸橋 6分",
      "nearest_station": "別府駅 15分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 山田温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 6:00～9:00／11:00～23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "52": {
    "onsen_id": "52",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=52",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"52\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.268289, 131.5099344);\n\t\tif (calcDistance(33.268289, 131.5099344) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t139番&nbsp;&nbsp;東町温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.268289,131.5099344\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市浜脇1丁目16-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-1267</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5:30～受付22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯都ピア浜脇 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail139.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "139",
      "name": "東町温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.268289,131.5099344",
      "latitude": 33.268289,
      "longitude": 131.5099344,
      "営業形態": "共同温泉",
      "住所": "大分県別府市浜脇1丁目16-1",
      "電話": "0977-21-1267",
      "入浴料金": "200円",
      "利用時間": "5:30～受付22:30",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "湯都ピア浜脇 5分",
      "最寄駅(徒歩)": "東別府駅 1分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "139",
      "name": "東町温泉",
      "deleted": false,
      "latitude": 33.268289,
      "longitude": 131.5099344,
      "address": "大分県別府市浜脇1丁目16-1",
      "phone": "0977-21-1267",
      "admission_fee": "200円",
      "usage_time": "5:30～受付22:30",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "湯都ピア浜脇 5分",
      "nearest_station": "東別府駅 1分",
      "parking": "5台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 東町温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 5:30～受付22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "53": {
    "onsen_id": "53",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=53",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"53\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2713972, 131.4974708);\n\t\tif (calcDistance(33.2713972, 131.4974708) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t140番&nbsp;&nbsp;八幡温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2713972,131.4974708\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市朝見1丁目17-12</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～11:30／15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">御幸橋 4分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail140.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "140",
      "name": "八幡温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2713972,131.4974708",
      "latitude": 33.2713972,
      "longitude": 131.4974708,
      "営業形態": "共同温泉",
      "住所": "大分県別府市朝見1丁目17-12",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "6:00～11:30／15:00～22:30",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "御幸橋 4分",
      "最寄駅(徒歩)": "別府駅 15分",
      "駐車場": "1台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "140",
      "name": "八幡温泉",
      "deleted": false,
      "latitude": 33.2713972,
      "longitude": 131.4974708,
      "address": "大分県別府市朝見1丁目17-12",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "6:00～11:30／15:00～22:30",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "御幸橋 4分",
      "nearest_station": "別府駅 15分",
      "parking": "1台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 八幡温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:00～11:30／15:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "54": {
    "onsen_id": "54",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=54",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"54\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2727991, 131.4966974);\n\t\tif (calcDistance(33.2727991, 131.4966974) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t162番&nbsp;&nbsp;朝見温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2727991,131.4966974\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市朝見2丁目3-25</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～12:00／14:00～23:00 日曜、祝日7:00～12:00/14:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">年末年始</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">御幸橋 4分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail162.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "162",
      "name": "朝見温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2727991,131.4966974",
      "latitude": 33.2727991,
      "longitude": 131.4966974,
      "営業形態": "共同温泉",
      "住所": "大分県別府市朝見2丁目3-25",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "6:00～12:00／14:00～23:00 日曜、祝日7:00～12:00/14:00～22:00",
      "定休日ほか": "年末年始",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "御幸橋 4分",
      "最寄駅(徒歩)": "別府駅 15分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "162",
      "name": "朝見温泉",
      "deleted": false,
      "latitude": 33.2727991,
      "longitude": 131.4966974,
      "address": "大分県別府市朝見2丁目3-25",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "6:00～12:00／14:00～23:00 日曜、祝日7:00～12:00/14:00～22:00",
      "closed_days": "年末年始",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "御幸橋 4分",
      "nearest_station": "別府駅 15分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 朝見温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 6:00～12:00／14:00～23:00 日曜、祝日7:00～12:00/14:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "55": {
    "onsen_id": "55",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=55",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"55\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2700011, 131.5039548);\n\t\tif (calcDistance(33.2700011, 131.5039548) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t164番&nbsp;&nbsp;東蓮田温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2700011,131.5039548\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市浜脇3丁目2-27</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">090-9659-908</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00〜13:00／14:00〜23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">南町 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅 10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail164.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "164",
      "name": "東蓮田温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2700011,131.5039548",
      "latitude": 33.2700011,
      "longitude": 131.5039548,
      "営業形態": "共同温泉",
      "住所": "大分県別府市浜脇3丁目2-27",
      "電話": "090-9659-908",
      "入浴料金": "200円",
      "利用時間": "7:00〜13:00／14:00〜23:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "南町 5分",
      "最寄駅(徒歩)": "東別府駅 10分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "164",
      "name": "東蓮田温泉",
      "deleted": false,
      "latitude": 33.2700011,
      "longitude": 131.5039548,
      "address": "大分県別府市浜脇3丁目2-27",
      "phone": "090-9659-908",
      "admission_fee": "200円",
      "usage_time": "7:00〜13:00／14:00〜23:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "南町 5分",
      "nearest_station": "東別府駅 10分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 東蓮田温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 7:00〜13:00／14:00〜23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "56": {
    "onsen_id": "56",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=56",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"56\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.273313, 131.4904528);\n\t\tif (calcDistance(33.273313, 131.4904528) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t168番&nbsp;&nbsp;祇園温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.273313,131.4904528\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市朝見3丁目9-5</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00～11:00／13:00～23:00 第1～第4日曜6:00～23:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川16丁目 8分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail168.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "168",
      "name": "祇園温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.273313,131.4904528",
      "latitude": 33.273313,
      "longitude": 131.4904528,
      "営業形態": "共同温泉",
      "住所": "大分県別府市朝見3丁目9-5",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "6:00～11:00／13:00～23:00 第1～第4日曜6:00～23:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "流川16丁目 8分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "2台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "168",
      "name": "祇園温泉",
      "deleted": false,
      "latitude": 33.273313,
      "longitude": 131.4904528,
      "address": "大分県別府市朝見3丁目9-5",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "6:00～11:00／13:00～23:00 第1～第4日曜6:00～23:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "流川16丁目 8分",
      "nearest_station": "なし",
      "parking": "2台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 祇園温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 6:00～11:00／13:00～23:00 第1～第4日曜6:00～23:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "57": {
    "onsen_id": "57",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=57",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"57\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.271471, 131.4999103);\n\t\tif (calcDistance(33.271471, 131.4999103) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t141番&nbsp;&nbsp;茶房たかさきの湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.271471,131.4999103\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">店舗</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市朝見1丁目2-11</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-0592</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">喫茶を利用した方のみ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">火・水曜※イベント時は営業12/31～1/3</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">御幸橋 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府駅 15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail141.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "141",
      "name": "茶房たかさきの湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.271471,131.4999103",
      "latitude": 33.271471,
      "longitude": 131.4999103,
      "営業形態": "店舗",
      "住所": "大分県別府市朝見1丁目2-11",
      "電話": "0977-23-0592",
      "入浴料金": "喫茶を利用した方のみ",
      "利用時間": "10:00～17:00",
      "定休日ほか": "火・水曜※イベント時は営業12/31～1/3",
      "泉質": "単純温泉",
      "最寄バス停": "御幸橋 5分",
      "最寄駅(徒歩)": "別府駅 15分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "141",
      "name": "茶房たかさきの湯",
      "deleted": false,
      "latitude": 33.271471,
      "longitude": 131.4999103,
      "address": "大分県別府市朝見1丁目2-11",
      "phone": "0977-23-0592",
      "admission_fee": "喫茶を利用した方のみ",
      "usage_time": "10:00～17:00",
      "closed_days": "火・水曜※イベント時は営業12/31～1/3",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "御幸橋 5分",
      "nearest_station": "別府駅 15分",
      "parking": "5台",
      "remarks": null,
      "business_form": "店舗",
      "description": "温泉名: 茶房たかさきの湯 | 泉質: 単純温泉 | 営業形態: 店舗 | 入浴料金: 喫茶を利用した方のみ | 利用時間: 10:00～17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "154": {
    "onsen_id": "154",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=154",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"154\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.270824, 131.502204);\n\t\tif (calcDistance(33.270824, 131.502204) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t163番&nbsp;&nbsp;蓮田温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.270824,131.502204\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">浜脇3丁目7-6</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00〜13:00/14:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">永石６丁目　５分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail163_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "163",
      "name": "蓮田温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.270824,131.502204",
      "latitude": 33.270824,
      "longitude": 131.502204,
      "営業形態": "共同温泉",
      "住所": "浜脇3丁目7-6",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "7:00〜13:00/14:00～22:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "永石６丁目　５分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "163",
      "name": "蓮田温泉",
      "deleted": false,
      "latitude": 33.270824,
      "longitude": 131.502204,
      "address": "浜脇3丁目7-6",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "7:00〜13:00/14:00～22:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "永石６丁目　５分",
      "nearest_station": "なし",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 蓮田温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 7:00〜13:00/14:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "171": {
    "onsen_id": "171",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=171",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"171\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2701265015543, 131.506873542472);\n\t\tif (calcDistance(33.2701265015543, 131.506873542472) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t浜脇\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t232番&nbsp;&nbsp;新玉旅館\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2701265015543,131.506873542472\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">浜脇2丁目1-13</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-22-8166</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯60分 1名利用1,500円、2名利用2,000円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:30～16:00（要予約）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">日曜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">炭酸水素塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">浜脇、ユートピア浜脇</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">東別府駅8分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">自家源泉、かけ流しの湯 猫のいるお宿です。</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail232.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "浜脇",
      "ban_number": "232",
      "name": "新玉旅館",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2701265015543,131.506873542472",
      "latitude": 33.2701265015543,
      "longitude": 131.506873542472,
      "営業形態": "宿泊施設",
      "住所": "浜脇2丁目1-13",
      "電話": "0977-22-8166",
      "入浴料金": "貸切湯60分 1名利用1,500円、2名利用2,000円",
      "利用時間": "11:30～16:00（要予約）",
      "定休日ほか": "日曜",
      "家族湯(貸切湯)": "3室",
      "泉質": "炭酸水素塩泉",
      "最寄バス停": "浜脇、ユートピア浜脇",
      "最寄駅(徒歩)": "東別府駅8分",
      "駐車場": "5台",
      "備考": "自家源泉、かけ流しの湯 猫のいるお宿です。"
    },
    "mapped_data": {
      "region": "浜脇",
      "ban_number": "232",
      "name": "新玉旅館",
      "deleted": false,
      "latitude": 33.2701265015543,
      "longitude": 131.506873542472,
      "address": "浜脇2丁目1-13",
      "phone": "0977-22-8166",
      "admission_fee": "貸切湯60分 1名利用1,500円、2名利用2,000円",
      "usage_time": "11:30～16:00（要予約）",
      "closed_days": "日曜",
      "private_bath": "3室",
      "spring_quality": "炭酸水素塩泉",
      "nearest_bus_stop": "浜脇、ユートピア浜脇",
      "nearest_station": "東別府駅8分",
      "parking": "5台",
      "remarks": "自家源泉、かけ流しの湯 猫のいるお宿です。",
      "business_form": "宿泊施設",
      "description": "温泉名: 新玉旅館 | 泉質: 炭酸水素塩泉 | 営業形態: 宿泊施設 | 入浴料金: 貸切湯60分 1名利用1,500円、2名利用2,000円 | 利用時間: 11:30～16:00（要予約） | 備考: 自家源泉、かけ流しの湯 猫のいるお宿です。"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "58": {
    "onsen_id": "58",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=58",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"58\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3172587, 131.4787628);\n\t\tif (calcDistance(33.3172587, 131.4787628) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t39番&nbsp;&nbsp;熱の湯温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3172587,131.4787628\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪井田1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～21:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地獄原 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">熱の湯前12台（有料）（身障者等用1台含む）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">スタンプは入舟荘</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail39.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "39",
      "name": "熱の湯温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3172587,131.4787628",
      "latitude": 33.3172587,
      "longitude": 131.4787628,
      "営業形態": "市営温泉",
      "住所": "大分県別府市鉄輪井田1組",
      "電話": "なし",
      "入浴料金": "無料",
      "利用時間": "6:30～21:00",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "地獄原 2分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "熱の湯前12台（有料）（身障者等用1台含む）",
      "備考": "スタンプは入舟荘"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "39",
      "name": "熱の湯温泉",
      "deleted": false,
      "latitude": 33.3172587,
      "longitude": 131.4787628,
      "address": "大分県別府市鉄輪井田1組",
      "phone": "なし",
      "admission_fee": "無料",
      "usage_time": "6:30～21:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "地獄原 2分",
      "nearest_station": "なし",
      "parking": "熱の湯前12台（有料）（身障者等用1台含む）",
      "remarks": "スタンプは入舟荘",
      "business_form": "市営温泉",
      "description": "温泉名: 熱の湯温泉 | 泉質: 塩化物泉 | 営業形態: 市営温泉 | 入浴料金: 無料 | 利用時間: 6:30～21:00 | 備考: スタンプは入舟荘"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "59": {
    "onsen_id": "59",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=59",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"59\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.316361, 131.4780487);\n\t\tif (calcDistance(33.316361, 131.4780487) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t40番&nbsp;&nbsp;鉄輪むし湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.316361,131.4780487\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪上1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-3880</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">700円　貸浴衣220円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:30～19:30（最終受付19時）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第4木曜（祝日の場合は翌日）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉（浴槽）、単純温泉（むし湯、足蒸し）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">熱の湯前12台（有料）（身障者等用1台含む）、鉄輪温泉地区19台（有料）※入浴者はどちらか2時間無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸浴衣220円 営業時間変更 実施期間：令和3年10月1日〜12月31日 営業時間：7:30〜19:00(18:30受付終了)</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail40.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "40",
      "name": "鉄輪むし湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.316361,131.4780487",
      "latitude": 33.316361,
      "longitude": 131.4780487,
      "営業形態": "市営温泉",
      "住所": "大分県別府市鉄輪上1組",
      "電話": "0977-67-3880",
      "入浴料金": "700円　貸浴衣220円",
      "利用時間": "7:30～19:30（最終受付19時）",
      "定休日ほか": "第4木曜（祝日の場合は翌日）",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉（浴槽）、単純温泉（むし湯、足蒸し）",
      "最寄バス停": "鉄輪 3分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "熱の湯前12台（有料）（身障者等用1台含む）、鉄輪温泉地区19台（有料）※入浴者はどちらか2時間無料",
      "備考": "貸浴衣220円 営業時間変更 実施期間：令和3年10月1日〜12月31日 営業時間：7:30〜19:00(18:30受付終了)"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "40",
      "name": "鉄輪むし湯",
      "deleted": false,
      "latitude": 33.316361,
      "longitude": 131.4780487,
      "address": "大分県別府市鉄輪上1組",
      "phone": "0977-67-3880",
      "admission_fee": "700円　貸浴衣220円",
      "usage_time": "7:30～19:30（最終受付19時）",
      "closed_days": "第4木曜（祝日の場合は翌日）",
      "private_bath": "なし",
      "spring_quality": "塩化物泉（浴槽）、単純温泉（むし湯、足蒸し）",
      "nearest_bus_stop": "鉄輪 3分",
      "nearest_station": "なし",
      "parking": "熱の湯前12台（有料）（身障者等用1台含む）、鉄輪温泉地区19台（有料）※入浴者はどちらか2時間無料",
      "remarks": "貸浴衣220円 営業時間変更 実施期間：令和3年10月1日〜12月31日 営業時間：7:30〜19:00(18:30受付終了)",
      "business_form": "市営温泉",
      "description": "温泉名: 鉄輪むし湯 | 泉質: 塩化物泉（浴槽）、単純温泉（むし湯、足蒸し） | 営業形態: 市営温泉 | 入浴料金: 700円　貸浴衣220円 | 利用時間: 7:30～19:30（最終受付19時） | 備考: 貸浴衣220円 営業時間変更 実施期間：令和3年10月1日〜12月31日 営業時間：7:30〜19:00(18:30受付終了)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "60": {
    "onsen_id": "60",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=60",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"60\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3144306, 131.4793204);\n\t\tif (calcDistance(33.3144306, 131.4793204) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t41番&nbsp;&nbsp;ひょうたん温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3144306,131.4793204\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪159-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0527</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1080円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9:00〜深夜0:00(大浴場)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">年２～３回臨時休業</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2400円～（60分大人3名）1名追加につき+700円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地獄原・ひょうたん温泉 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">約100台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail41.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "41",
      "name": "ひょうたん温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3144306,131.4793204",
      "latitude": 33.3144306,
      "longitude": 131.4793204,
      "営業形態": "外湯",
      "住所": "大分県別府市鉄輪159-2",
      "電話": "0977-66-0527",
      "入浴料金": "1080円",
      "利用時間": "9:00〜深夜0:00(大浴場)",
      "定休日ほか": "年２～３回臨時休業",
      "家族湯(貸切湯)": "2400円～（60分大人3名）1名追加につき+700円",
      "泉質": "塩化物泉",
      "最寄バス停": "地獄原・ひょうたん温泉 3分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "約100台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "41",
      "name": "ひょうたん温泉",
      "deleted": false,
      "latitude": 33.3144306,
      "longitude": 131.4793204,
      "address": "大分県別府市鉄輪159-2",
      "phone": "0977-66-0527",
      "admission_fee": "1080円",
      "usage_time": "9:00〜深夜0:00(大浴場)",
      "closed_days": "年２～３回臨時休業",
      "private_bath": "2400円～（60分大人3名）1名追加につき+700円",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "地獄原・ひょうたん温泉 3分",
      "nearest_station": "なし",
      "parking": "約100台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: ひょうたん温泉 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 1080円 | 利用時間: 9:00〜深夜0:00(大浴場)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "61": {
    "onsen_id": "61",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=61",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"61\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3137579, 131.477978);\n\t\tif (calcDistance(33.3137579, 131.477978) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t42番&nbsp;&nbsp;夢たまて筥\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3137579,131.477978\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北中1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0570−550-078</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大人580円 小学生290円 3歳以上小学生未満150円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">580円、土・日曜、祝日16:00〜22:00は780円※繁忙日980円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2,000円（60分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">北中 砂原 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">150台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">五感で感じる癒しの空間</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail42_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "42",
      "name": "夢たまて筥",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3137579,131.477978",
      "latitude": 33.3137579,
      "longitude": 131.477978,
      "営業形態": "外湯",
      "住所": "大分県別府市北中1組",
      "電話": "0570−550-078",
      "入浴料金": "大人580円 小学生290円 3歳以上小学生未満150円",
      "利用時間": "580円、土・日曜、祝日16:00〜22:00は780円※繁忙日980円",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "2,000円（60分）",
      "泉質": "塩化物泉",
      "最寄バス停": "北中 砂原 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "150台",
      "備考": "五感で感じる癒しの空間"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "42",
      "name": "夢たまて筥",
      "deleted": false,
      "latitude": 33.3137579,
      "longitude": 131.477978,
      "address": "大分県別府市北中1組",
      "phone": "0570−550-078",
      "admission_fee": "大人580円 小学生290円 3歳以上小学生未満150円",
      "usage_time": "580円、土・日曜、祝日16:00〜22:00は780円※繁忙日980円",
      "closed_days": "なし",
      "private_bath": "2,000円（60分）",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "北中 砂原 1分",
      "nearest_station": "なし",
      "parking": "150台",
      "remarks": "五感で感じる癒しの空間",
      "business_form": "外湯",
      "description": "温泉名: 夢たまて筥 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 大人580円 小学生290円 3歳以上小学生未満150円 | 利用時間: 580円、土・日曜、祝日16:00〜22:00は780円※繁忙日980円 | 備考: 五感で感じる癒しの空間"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "62": {
    "onsen_id": "62",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=62",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"62\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3088457, 131.4724183);\n\t\tif (calcDistance(33.3088457, 131.4724183) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t43番&nbsp;&nbsp;みかゑり温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3088457,131.4724183\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市火売8組2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-1186</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯1000円(50分)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">13:00～20:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1,000円（60分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">朝日小学校前 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">20台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail43.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "43",
      "name": "みかゑり温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3088457,131.4724183",
      "latitude": 33.3088457,
      "longitude": 131.4724183,
      "営業形態": "外湯",
      "住所": "大分県別府市火売8組2",
      "電話": "0977-66-1186",
      "入浴料金": "貸切湯1000円(50分)",
      "利用時間": "13:00～20:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "1,000円（60分）",
      "泉質": "塩化物泉",
      "最寄バス停": "朝日小学校前 5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "20台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "43",
      "name": "みかゑり温泉",
      "deleted": false,
      "latitude": 33.3088457,
      "longitude": 131.4724183,
      "address": "大分県別府市火売8組2",
      "phone": "0977-66-1186",
      "admission_fee": "貸切湯1000円(50分)",
      "usage_time": "13:00～20:00",
      "closed_days": "なし",
      "private_bath": "1,000円（60分）",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "朝日小学校前 5分",
      "nearest_station": "なし",
      "parking": "20台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: みかゑり温泉 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 貸切湯1000円(50分) | 利用時間: 13:00～20:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "63": {
    "onsen_id": "63",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=63",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"63\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3152277138668, 131.468716104749);\n\t\tif (calcDistance(33.3152277138668, 131.468716104749) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t125番&nbsp;&nbsp;鬼石の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3152277138668,131.468716104749\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪559-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-27-6656</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">620円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～受付21:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第1火曜※連休の場合は変更あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1,500円（60分4名迄）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">海地獄前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">40台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail125.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "125",
      "name": "鬼石の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3152277138668,131.468716104749",
      "latitude": 33.3152277138668,
      "longitude": 131.468716104749,
      "営業形態": "外湯",
      "住所": "大分県別府市鉄輪559-1",
      "電話": "0977-27-6656",
      "入浴料金": "620円",
      "利用時間": "10:00～受付21:30",
      "定休日ほか": "第1火曜※連休の場合は変更あり",
      "家族湯(貸切湯)": "1,500円（60分4名迄）",
      "泉質": "塩化物泉",
      "最寄バス停": "海地獄前 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "40台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "125",
      "name": "鬼石の湯",
      "deleted": false,
      "latitude": 33.3152277138668,
      "longitude": 131.468716104749,
      "address": "大分県別府市鉄輪559-1",
      "phone": "0977-27-6656",
      "admission_fee": "620円",
      "usage_time": "10:00～受付21:30",
      "closed_days": "第1火曜※連休の場合は変更あり",
      "private_bath": "1,500円（60分4名迄）",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "海地獄前 1分",
      "nearest_station": "なし",
      "parking": "40台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 鬼石の湯 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 620円 | 利用時間: 10:00～受付21:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "64": {
    "onsen_id": "64",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=64",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"64\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3160043, 131.4774727);\n\t\tif (calcDistance(33.3160043, 131.4774727) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t38番&nbsp;&nbsp;渋の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3160043,131.4774727\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪風呂本1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円(必ずコインロッカーを利用)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9:00〜17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail38.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "38",
      "name": "渋の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3160043,131.4774727",
      "latitude": 33.3160043,
      "longitude": 131.4774727,
      "営業形態": "共同温泉",
      "住所": "大分県別府市鉄輪風呂本1",
      "電話": "なし",
      "入浴料金": "100円(必ずコインロッカーを利用)",
      "利用時間": "9:00〜17:00",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪 3分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "38",
      "name": "渋の湯",
      "deleted": false,
      "latitude": 33.3160043,
      "longitude": 131.4774727,
      "address": "大分県別府市鉄輪風呂本1",
      "phone": "なし",
      "admission_fee": "100円(必ずコインロッカーを利用)",
      "usage_time": "9:00〜17:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪 3分",
      "nearest_station": "なし",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 渋の湯 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 100円(必ずコインロッカーを利用) | 利用時間: 9:00〜17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "65": {
    "onsen_id": "65",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=65",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"65\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3155973, 131.4760703);\n\t\tif (calcDistance(33.3155973, 131.4760703) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t44番&nbsp;&nbsp;上人湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3155973,131.4760703\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪風呂本5</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 0分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">スタンプは「まさ食堂」または「喫茶保月」</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail44.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "44",
      "name": "上人湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3155973,131.4760703",
      "latitude": 33.3155973,
      "longitude": 131.4760703,
      "営業形態": "共同温泉",
      "住所": "大分県別府市鉄輪風呂本5",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "10:00～17:00",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪 0分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "なし",
      "備考": "スタンプは「まさ食堂」または「喫茶保月」"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "44",
      "name": "上人湯",
      "deleted": false,
      "latitude": 33.3155973,
      "longitude": 131.4760703,
      "address": "大分県別府市鉄輪風呂本5",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "10:00～17:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪 0分",
      "nearest_station": "なし",
      "parking": "なし",
      "remarks": "スタンプは「まさ食堂」または「喫茶保月」",
      "business_form": "共同温泉",
      "description": "温泉名: 上人湯 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 10:00～17:00 | 備考: スタンプは「まさ食堂」または「喫茶保月」"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "66": {
    "onsen_id": "66",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=66",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"66\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3154001, 131.4788838);\n\t\tif (calcDistance(33.3154001, 131.4788838) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t45番&nbsp;&nbsp;地獄原温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3154001,131.4788838\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪東</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00〜17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">水曜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地獄原・ひょうたん温泉　1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">スタンプ　ことぶき屋</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail45.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "45",
      "name": "地獄原温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3154001,131.4788838",
      "latitude": 33.3154001,
      "longitude": 131.4788838,
      "営業形態": "共同温泉",
      "住所": "大分県別府市鉄輪東",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "10:00〜17:00",
      "定休日ほか": "水曜",
      "泉質": "塩化物泉",
      "最寄バス停": "地獄原・ひょうたん温泉　1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "なし",
      "備考": "スタンプ　ことぶき屋"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "45",
      "name": "地獄原温泉",
      "deleted": false,
      "latitude": 33.3154001,
      "longitude": 131.4788838,
      "address": "大分県別府市鉄輪東",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "10:00〜17:00",
      "closed_days": "水曜",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "地獄原・ひょうたん温泉　1分",
      "nearest_station": "なし",
      "parking": "なし",
      "remarks": "スタンプ　ことぶき屋",
      "business_form": "共同温泉",
      "description": "温泉名: 地獄原温泉 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 10:00〜17:00 | 備考: スタンプ　ことぶき屋"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "67": {
    "onsen_id": "67",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=67",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"67\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3087618, 131.4637082);\n\t\tif (calcDistance(33.3087618, 131.4637082) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t84番&nbsp;&nbsp;小倉薬師温泉丘の湯\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3087618,131.4637082\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市小倉4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail84.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "84",
      "name": "小倉薬師温泉丘の湯",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "84",
      "name": "小倉薬師温泉丘の湯",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 小倉薬師温泉丘の湯"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "68": {
    "onsen_id": "68",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=68",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"68\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3164889, 131.4786395);\n\t\tif (calcDistance(33.3164889, 131.4786395) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t142番&nbsp;&nbsp;鉄輪すじ湯温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3164889,131.4786395\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪井田4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～20:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪温泉　1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail142.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "142",
      "name": "鉄輪すじ湯温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3164889,131.4786395",
      "latitude": 33.3164889,
      "longitude": 131.4786395,
      "営業形態": "共同温泉",
      "住所": "大分県別府市鉄輪井田4",
      "電話": "なし",
      "入浴料金": "100円",
      "利用時間": "6:30～20:00",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪温泉　1分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "142",
      "name": "鉄輪すじ湯温泉",
      "deleted": false,
      "latitude": 33.3164889,
      "longitude": 131.4786395,
      "address": "大分県別府市鉄輪井田4",
      "phone": "なし",
      "admission_fee": "100円",
      "usage_time": "6:30～20:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪温泉　1分",
      "nearest_station": null,
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 鉄輪すじ湯温泉 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 100円 | 利用時間: 6:30～20:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "69": {
    "onsen_id": "69",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=69",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"69\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3146418, 131.4775747);\n\t\tif (calcDistance(33.3146418, 131.4775747) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t143番&nbsp;&nbsp;谷の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3146418,131.4775747\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北中1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">150円、2025年1月〜200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00〜21:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 4分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">平成22年から営業時間が変更</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail143.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "143",
      "name": "谷の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3146418,131.4775747",
      "latitude": 33.3146418,
      "longitude": 131.4775747,
      "営業形態": "共同温泉",
      "住所": "大分県別府市北中1組",
      "電話": "なし",
      "入浴料金": "150円、2025年1月〜200円",
      "利用時間": "6:00〜21:30",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪 4分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "10台",
      "備考": "平成22年から営業時間が変更"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "143",
      "name": "谷の湯",
      "deleted": false,
      "latitude": 33.3146418,
      "longitude": 131.4775747,
      "address": "大分県別府市北中1組",
      "phone": "なし",
      "admission_fee": "150円、2025年1月〜200円",
      "usage_time": "6:00〜21:30",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪 4分",
      "nearest_station": "なし",
      "parking": "10台",
      "remarks": "平成22年から営業時間が変更",
      "business_form": "共同温泉",
      "description": "温泉名: 谷の湯 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 150円、2025年1月〜200円 | 利用時間: 6:00〜21:30 | 備考: 平成22年から営業時間が変更"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "70": {
    "onsen_id": "70",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=70",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"70\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3119558, 131.4794504);\n\t\tif (calcDistance(33.3119558, 131.4794504) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t144番&nbsp;&nbsp;砂原温泉\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3119558,131.4794504\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北中7組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail144.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "144",
      "name": "砂原温泉",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "144",
      "name": "砂原温泉",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 砂原温泉"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "71": {
    "onsen_id": "71",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=71",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"71\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3106253, 131.4737654);\n\t\tif (calcDistance(33.3106253, 131.4737654) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t47番&nbsp;&nbsp;かんぽの宿別府\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2020年01月26日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3106253,131.4737654\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鶴見457</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail47.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "47",
      "name": "かんぽの宿別府",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "47",
      "name": "かんぽの宿別府",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: かんぽの宿別府"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "72": {
    "onsen_id": "72",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=72",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"72\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3144924, 131.4783488);\n\t\tif (calcDistance(33.3144924, 131.4783488) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t49番&nbsp;&nbsp;大江戸温泉物語プレミアム ホテル風月\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3144924,131.4783488\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北中1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0570−550-078</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1000円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15:30～翌11:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">北中 砂原 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">150台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">まるで天然の化粧水のような、しっとり肌を潤す柔らかな泉質</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail49_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "49",
      "name": "大江戸温泉物語プレミアム ホテル風月",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3144924,131.4783488",
      "latitude": 33.3144924,
      "longitude": 131.4783488,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市北中1組",
      "電話": "0570−550-078",
      "入浴料金": "1000円～",
      "利用時間": "15:30～翌11:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "北中 砂原 1分",
      "駐車場": "150台",
      "備考": "まるで天然の化粧水のような、しっとり肌を潤す柔らかな泉質"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "49",
      "name": "大江戸温泉物語プレミアム ホテル風月",
      "deleted": false,
      "latitude": 33.3144924,
      "longitude": 131.4783488,
      "address": "大分県別府市北中1組",
      "phone": "0570−550-078",
      "admission_fee": "1000円～",
      "usage_time": "15:30～翌11:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "北中 砂原 1分",
      "nearest_station": null,
      "parking": "150台",
      "remarks": "まるで天然の化粧水のような、しっとり肌を潤す柔らかな泉質",
      "business_form": "宿泊施設",
      "description": "温泉名: 大江戸温泉物語プレミアム ホテル風月 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 1000円～ | 利用時間: 15:30～翌11:00 | 備考: まるで天然の化粧水のような、しっとり肌を潤す柔らかな泉質"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "73": {
    "onsen_id": "73",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=73",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"73\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3161803, 131.4770989);\n\t\tif (calcDistance(33.3161803, 131.4770989) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t51番&nbsp;&nbsp;温泉閣\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3161803,131.4770989\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪風呂本1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-1767</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">800円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～15:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">繁忙日不可</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail51.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "51",
      "name": "温泉閣",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3161803,131.4770989",
      "latitude": 33.3161803,
      "longitude": 131.4770989,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪風呂本1",
      "電話": "0977-66-1767",
      "入浴料金": "800円",
      "利用時間": "10:00～15:00",
      "定休日ほか": "繁忙日不可",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪 3分",
      "駐車場": "8台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "51",
      "name": "温泉閣",
      "deleted": false,
      "latitude": 33.3161803,
      "longitude": 131.4770989,
      "address": "大分県別府市鉄輪風呂本1",
      "phone": "0977-66-1767",
      "admission_fee": "800円",
      "usage_time": "10:00～15:00",
      "closed_days": "繁忙日不可",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪 3分",
      "nearest_station": null,
      "parking": "8台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 温泉閣 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 800円 | 利用時間: 10:00～15:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "74": {
    "onsen_id": "74",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=74",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"74\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.315033, 131.477462);\n\t\tif (calcDistance(33.315033, 131.477462) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t52番&nbsp;&nbsp;やすらぎのある宿旅館さくら屋\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.315033,131.477462\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪風呂本3</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-2328</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊2食1万円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN16:00 OUT10:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">土日祝日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1名500円（50分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail52.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "52",
      "name": "やすらぎのある宿旅館さくら屋",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.315033,131.477462",
      "latitude": 33.315033,
      "longitude": 131.477462,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪風呂本3",
      "電話": "0977-66-2328",
      "入浴料金": "1泊2食1万円～",
      "利用時間": "IN16:00 OUT10:00",
      "定休日ほか": "土日祝日",
      "家族湯(貸切湯)": "1名500円（50分）",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪 3分",
      "駐車場": "5台",
      "備考": "宿泊限定"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "52",
      "name": "やすらぎのある宿旅館さくら屋",
      "deleted": false,
      "latitude": 33.315033,
      "longitude": 131.477462,
      "address": "大分県別府市鉄輪風呂本3",
      "phone": "0977-66-2328",
      "admission_fee": "1泊2食1万円～",
      "usage_time": "IN16:00 OUT10:00",
      "closed_days": "土日祝日",
      "private_bath": "1名500円（50分）",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪 3分",
      "nearest_station": null,
      "parking": "5台",
      "remarks": "宿泊限定",
      "business_form": "宿泊施設",
      "description": "温泉名: やすらぎのある宿旅館さくら屋 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊2食1万円～ | 利用時間: IN16:00 OUT10:00 | 備考: 宿泊限定"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "75": {
    "onsen_id": "75",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=75",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"75\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.316827, 131.478773);\n\t\tif (calcDistance(33.316827, 131.478773) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t54番&nbsp;&nbsp;旅館みかさや\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.316827,131.478773\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪井田1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0438</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊素泊り5000円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00 OUT10:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2000円（要予約）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地獄原・ひょうたん温泉　2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail54.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "54",
      "name": "旅館みかさや",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.316827,131.478773",
      "latitude": 33.316827,
      "longitude": 131.478773,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪井田1組",
      "電話": "0977-66-0438",
      "入浴料金": "1泊素泊り5000円～",
      "利用時間": "IN15:00 OUT10:00",
      "家族湯(貸切湯)": "2000円（要予約）",
      "泉質": "塩化物泉",
      "最寄バス停": "地獄原・ひょうたん温泉　2分",
      "駐車場": "10台",
      "備考": "宿泊限定"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "54",
      "name": "旅館みかさや",
      "deleted": false,
      "latitude": 33.316827,
      "longitude": 131.478773,
      "address": "大分県別府市鉄輪井田1組",
      "phone": "0977-66-0438",
      "admission_fee": "1泊素泊り5000円～",
      "usage_time": "IN15:00 OUT10:00",
      "closed_days": null,
      "private_bath": "2000円（要予約）",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "地獄原・ひょうたん温泉　2分",
      "nearest_station": null,
      "parking": "10台",
      "remarks": "宿泊限定",
      "business_form": "宿泊施設",
      "description": "温泉名: 旅館みかさや | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊素泊り5000円～ | 利用時間: IN15:00 OUT10:00 | 備考: 宿泊限定"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "76": {
    "onsen_id": "76",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=76",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"76\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3172245, 131.4787958);\n\t\tif (calcDistance(33.3172245, 131.4787958) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t102番&nbsp;&nbsp;旅館入舟荘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3172245,131.4787958\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪井田1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0655</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯1500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～15:00(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地獄原・ひょうたん温泉　2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail102.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "102",
      "name": "旅館入舟荘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3172245,131.4787958",
      "latitude": 33.3172245,
      "longitude": 131.4787958,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪井田1組",
      "電話": "0977-66-0655",
      "入浴料金": "貸切湯1500円",
      "利用時間": "11:00～15:00(要問合せ)",
      "家族湯(貸切湯)": "1500円",
      "泉質": "単純温泉",
      "最寄バス停": "地獄原・ひょうたん温泉　2分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "102",
      "name": "旅館入舟荘",
      "deleted": false,
      "latitude": 33.3172245,
      "longitude": 131.4787958,
      "address": "大分県別府市鉄輪井田1組",
      "phone": "0977-66-0655",
      "admission_fee": "貸切湯1500円",
      "usage_time": "11:00～15:00(要問合せ)",
      "closed_days": null,
      "private_bath": "1500円",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "地獄原・ひょうたん温泉　2分",
      "nearest_station": null,
      "parking": "5台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 旅館入舟荘 | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 貸切湯1500円 | 利用時間: 11:00～15:00(要問合せ)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "77": {
    "onsen_id": "77",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=77",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"77\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3157078, 131.4795125);\n\t\tif (calcDistance(33.3157078, 131.4795125) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t103番&nbsp;&nbsp;旅館みゆき屋\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3157078,131.4795125\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪東6組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0360</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊朝食付き8600円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN14:30 OUT10:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地獄原・ひょうたん温泉　1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail103.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "103",
      "name": "旅館みゆき屋",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3157078,131.4795125",
      "latitude": 33.3157078,
      "longitude": 131.4795125,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪東6組",
      "電話": "0977-66-0360",
      "入浴料金": "1泊朝食付き8600円～",
      "利用時間": "IN14:30 OUT10:00",
      "家族湯(貸切湯)": "あり",
      "泉質": "塩化物泉",
      "最寄バス停": "地獄原・ひょうたん温泉　1分",
      "駐車場": "10台",
      "備考": "宿泊限定"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "103",
      "name": "旅館みゆき屋",
      "deleted": false,
      "latitude": 33.3157078,
      "longitude": 131.4795125,
      "address": "大分県別府市鉄輪東6組",
      "phone": "0977-66-0360",
      "admission_fee": "1泊朝食付き8600円～",
      "usage_time": "IN14:30 OUT10:00",
      "closed_days": null,
      "private_bath": "あり",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "地獄原・ひょうたん温泉　1分",
      "nearest_station": null,
      "parking": "10台",
      "remarks": "宿泊限定",
      "business_form": "宿泊施設",
      "description": "温泉名: 旅館みゆき屋 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊朝食付き8600円～ | 利用時間: IN14:30 OUT10:00 | 備考: 宿泊限定"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "78": {
    "onsen_id": "78",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=78",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"78\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.316872, 131.477379);\n\t\tif (calcDistance(33.316872, 131.477379) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t119番&nbsp;&nbsp;大黒屋\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.316872,131.477379\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪上3</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-2301</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～15:00(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定期。要予約</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 4分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail119.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "119",
      "name": "大黒屋",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.316872,131.477379",
      "latitude": 33.316872,
      "longitude": 131.477379,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪上3",
      "電話": "0977-66-2301",
      "入浴料金": "300円",
      "利用時間": "11:00～15:00(要問合せ)",
      "定休日ほか": "不定期。要予約",
      "泉質": "単純温泉",
      "最寄バス停": "鉄輪 4分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "119",
      "name": "大黒屋",
      "deleted": false,
      "latitude": 33.316872,
      "longitude": 131.477379,
      "address": "大分県別府市鉄輪上3",
      "phone": "0977-66-2301",
      "admission_fee": "300円",
      "usage_time": "11:00～15:00(要問合せ)",
      "closed_days": "不定期。要予約",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "鉄輪 4分",
      "nearest_station": null,
      "parking": "5台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 大黒屋 | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 300円 | 利用時間: 11:00～15:00(要問合せ)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "79": {
    "onsen_id": "79",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=79",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"79\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.308436, 131.463401);\n\t\tif (calcDistance(33.308436, 131.463401) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t129番&nbsp;&nbsp;神丘温泉　豊山荘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.308436,131.463401\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市小倉4-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-8080</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">400円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">13:00〜15:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">水・木曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切1500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">ベネフィットフォーユー前　1分　本坊主　5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">13台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2025年6月11日～7月10日まで平日立寄り湯休み</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail129.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "129",
      "name": "神丘温泉　豊山荘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.308436,131.463401",
      "latitude": 33.308436,
      "longitude": 131.463401,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市小倉4-2",
      "電話": "0977-21-8080",
      "入浴料金": "400円",
      "利用時間": "13:00〜15:00",
      "定休日ほか": "水・木曜日",
      "家族湯(貸切湯)": "貸切1500円",
      "泉質": "硫黄泉",
      "最寄バス停": "ベネフィットフォーユー前　1分　本坊主　5分",
      "駐車場": "13台",
      "備考": "2025年6月11日～7月10日まで平日立寄り湯休み"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "129",
      "name": "神丘温泉　豊山荘",
      "deleted": false,
      "latitude": 33.308436,
      "longitude": 131.463401,
      "address": "大分県別府市小倉4-2",
      "phone": "0977-21-8080",
      "admission_fee": "400円",
      "usage_time": "13:00〜15:00",
      "closed_days": "水・木曜日",
      "private_bath": "貸切1500円",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "ベネフィットフォーユー前　1分　本坊主　5分",
      "nearest_station": null,
      "parking": "13台",
      "remarks": "2025年6月11日～7月10日まで平日立寄り湯休み",
      "business_form": "宿泊施設",
      "description": "温泉名: 神丘温泉　豊山荘 | 泉質: 硫黄泉 | 営業形態: 宿泊施設 | 入浴料金: 400円 | 利用時間: 13:00〜15:00 | 備考: 2025年6月11日～7月10日まで平日立寄り湯休み"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "80": {
    "onsen_id": "80",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=80",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"80\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.317954, 131.477056);\n\t\tif (calcDistance(33.317954, 131.477056) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t133番&nbsp;&nbsp;湯けむりの里東屋\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.317954,131.477056\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪上4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-27-7547</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大人 1000円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～16:00(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪温泉東口 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail133.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "133",
      "name": "湯けむりの里東屋",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.317954,131.477056",
      "latitude": 33.317954,
      "longitude": 131.477056,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪上4",
      "電話": "0977-27-7547",
      "入浴料金": "大人 1000円",
      "利用時間": "10:00～16:00(要問合せ)",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪温泉東口 5分",
      "駐車場": "9台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "133",
      "name": "湯けむりの里東屋",
      "deleted": false,
      "latitude": 33.317954,
      "longitude": 131.477056,
      "address": "大分県別府市鉄輪上4",
      "phone": "0977-27-7547",
      "admission_fee": "大人 1000円",
      "usage_time": "10:00～16:00(要問合せ)",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪温泉東口 5分",
      "nearest_station": null,
      "parking": "9台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 湯けむりの里東屋 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 大人 1000円 | 利用時間: 10:00～16:00(要問合せ)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "81": {
    "onsen_id": "81",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=81",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"81\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.318875, 131.475116);\n\t\tif (calcDistance(33.318875, 131.475116) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t134番&nbsp;&nbsp;絶景の宿さくら亭\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.318875,131.475116\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪1063-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-27-6747</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大人 1000円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～16:00(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪温泉東口 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">20台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail134.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "134",
      "name": "絶景の宿さくら亭",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.318875,131.475116",
      "latitude": 33.318875,
      "longitude": 131.475116,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪1063-1",
      "電話": "0977-27-6747",
      "入浴料金": "大人 1000円",
      "利用時間": "10:00～16:00(要問合せ)",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪温泉東口 5分",
      "駐車場": "20台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "134",
      "name": "絶景の宿さくら亭",
      "deleted": false,
      "latitude": 33.318875,
      "longitude": 131.475116,
      "address": "大分県別府市鉄輪1063-1",
      "phone": "0977-27-6747",
      "admission_fee": "大人 1000円",
      "usage_time": "10:00～16:00(要問合せ)",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪温泉東口 5分",
      "nearest_station": null,
      "parking": "20台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 絶景の宿さくら亭 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 大人 1000円 | 利用時間: 10:00～16:00(要問合せ)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "82": {
    "onsen_id": "82",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=82",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"82\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.31431, 131.475941);\n\t\tif (calcDistance(33.31431, 131.475941) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t135番&nbsp;&nbsp;湯元　かなわ荘\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.31431,131.475941\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市御幸3-648</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail135.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "135",
      "name": "湯元　かなわ荘",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "135",
      "name": "湯元　かなわ荘",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 湯元　かなわ荘"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "83": {
    "onsen_id": "83",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=83",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"83\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3146676, 131.4740036);\n\t\tif (calcDistance(33.3146676, 131.4740036) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t152番&nbsp;&nbsp;もと湯の宿黒田や\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3146676,131.4740036\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鶴見676-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail152.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "152",
      "name": "もと湯の宿黒田や",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "152",
      "name": "もと湯の宿黒田や",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: もと湯の宿黒田や"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "84": {
    "onsen_id": "84",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=84",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"84\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3164392, 131.4750612);\n\t\tif (calcDistance(33.3164392, 131.4750612) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t155番&nbsp;&nbsp;かんなわゆの香\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3164392,131.4750612\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">御幸4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-2682</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊2食1万3000円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00　OUT10:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3棟あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">12台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail155.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "155",
      "name": "かんなわゆの香",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3164392,131.4750612",
      "latitude": 33.3164392,
      "longitude": 131.4750612,
      "営業形態": "宿泊施設",
      "住所": "御幸4",
      "電話": "0977-67-2682",
      "入浴料金": "1泊2食1万3000円～",
      "利用時間": "IN15:00　OUT10:00",
      "家族湯(貸切湯)": "3棟あり",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "12台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "155",
      "name": "かんなわゆの香",
      "deleted": false,
      "latitude": 33.3164392,
      "longitude": 131.4750612,
      "address": "御幸4",
      "phone": "0977-67-2682",
      "admission_fee": "1泊2食1万3000円～",
      "usage_time": "IN15:00　OUT10:00",
      "closed_days": null,
      "private_bath": "3棟あり",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪 1分",
      "nearest_station": "なし",
      "parking": "12台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: かんなわゆの香 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊2食1万3000円～ | 利用時間: IN15:00　OUT10:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "85": {
    "onsen_id": "85",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=85",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"85\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.305939, 131.461061);\n\t\tif (calcDistance(33.305939, 131.461061) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t183番&nbsp;&nbsp;別府　おぐら\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.305939,131.461061\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市小倉1-3</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-6123</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯1500円〜※3名まで</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:30～21:00(15:00～18:00は宿泊客優先)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">本坊主 10分 ゴルフ場入り口 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">30台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail183.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "183",
      "name": "別府　おぐら",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.305939,131.461061",
      "latitude": 33.305939,
      "longitude": 131.461061,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市小倉1-3",
      "電話": "0977-21-6123",
      "入浴料金": "貸切湯1500円〜※3名まで",
      "利用時間": "10:30～21:00(15:00～18:00は宿泊客優先)",
      "泉質": "単純温泉",
      "最寄バス停": "本坊主 10分 ゴルフ場入り口 5分",
      "駐車場": "30台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "183",
      "name": "別府　おぐら",
      "deleted": false,
      "latitude": 33.305939,
      "longitude": 131.461061,
      "address": "大分県別府市小倉1-3",
      "phone": "0977-21-6123",
      "admission_fee": "貸切湯1500円〜※3名まで",
      "usage_time": "10:30～21:00(15:00～18:00は宿泊客優先)",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "本坊主 10分 ゴルフ場入り口 5分",
      "nearest_station": null,
      "parking": "30台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 別府　おぐら | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 貸切湯1500円〜※3名まで | 利用時間: 10:30～21:00(15:00～18:00は宿泊客優先)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "86": {
    "onsen_id": "86",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=86",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"86\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.307985, 131.462094);\n\t\tif (calcDistance(33.307985, 131.462094) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t188番&nbsp;&nbsp;和の宿　夢月\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.307985,131.462094\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市小倉３組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-27－2888</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大人 1000円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～16:00(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">本坊主 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">40台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail188.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "188",
      "name": "和の宿　夢月",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.307985,131.462094",
      "latitude": 33.307985,
      "longitude": 131.462094,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市小倉３組",
      "電話": "0977-27－2888",
      "入浴料金": "大人 1000円",
      "利用時間": "10:00～16:00(要問合せ)",
      "定休日ほか": "不定",
      "家族湯(貸切湯)": "あり",
      "泉質": "単純温泉",
      "最寄バス停": "本坊主 5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "40台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "188",
      "name": "和の宿　夢月",
      "deleted": false,
      "latitude": 33.307985,
      "longitude": 131.462094,
      "address": "大分県別府市小倉３組",
      "phone": "0977-27－2888",
      "admission_fee": "大人 1000円",
      "usage_time": "10:00～16:00(要問合せ)",
      "closed_days": "不定",
      "private_bath": "あり",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "本坊主 5分",
      "nearest_station": "なし",
      "parking": "40台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 和の宿　夢月 | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 大人 1000円 | 利用時間: 10:00～16:00(要問合せ)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "87": {
    "onsen_id": "87",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=87",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"87\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3173657, 131.4764407);\n\t\tif (calcDistance(33.3173657, 131.4764407) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t190番&nbsp;&nbsp;癒しの宿　彩葉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3173657,131.4764407\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪上6組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-1680</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大人 1000円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～16:00(要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定　要問合せ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫酸塩泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪温泉東口 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">平成24年３月リニューアルオープン</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail190.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "190",
      "name": "癒しの宿　彩葉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3173657,131.4764407",
      "latitude": 33.3173657,
      "longitude": 131.4764407,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市鉄輪上6組",
      "電話": "0977-67-1680",
      "入浴料金": "大人 1000円",
      "利用時間": "10:00～16:00(要問合せ)",
      "定休日ほか": "不定　要問合せ",
      "家族湯(貸切湯)": "なし",
      "泉質": "硫酸塩泉",
      "最寄バス停": "鉄輪温泉東口 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "15台",
      "備考": "平成24年３月リニューアルオープン"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "190",
      "name": "癒しの宿　彩葉",
      "deleted": false,
      "latitude": 33.3173657,
      "longitude": 131.4764407,
      "address": "大分県別府市鉄輪上6組",
      "phone": "0977-67-1680",
      "admission_fee": "大人 1000円",
      "usage_time": "10:00～16:00(要問合せ)",
      "closed_days": "不定　要問合せ",
      "private_bath": "なし",
      "spring_quality": "硫酸塩泉",
      "nearest_bus_stop": "鉄輪温泉東口 1分",
      "nearest_station": "なし",
      "parking": "15台",
      "remarks": "平成24年３月リニューアルオープン",
      "business_form": "宿泊施設",
      "description": "温泉名: 癒しの宿　彩葉 | 泉質: 硫酸塩泉 | 営業形態: 宿泊施設 | 入浴料金: 大人 1000円 | 利用時間: 10:00～16:00(要問合せ) | 備考: 平成24年３月リニューアルオープン"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "88": {
    "onsen_id": "88",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=88",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"88\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3108868, 131.4748636);\n\t\tif (calcDistance(33.3108868, 131.4748636) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t213番&nbsp;&nbsp;湯けむりの宿 ほの香\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3108868,131.4748636\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市火売町3組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail213_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "213",
      "name": "湯けむりの宿 ほの香",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "213",
      "name": "湯けむりの宿 ほの香",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 湯けむりの宿 ほの香"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "89": {
    "onsen_id": "89",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=89",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"89\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3157401, 131.4779701);\n\t\tif (calcDistance(33.3157401, 131.4779701) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t200番&nbsp;&nbsp;ヤングセンター\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3157401,131.4779701\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市風呂本2組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail200.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "200",
      "name": "ヤングセンター",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "200",
      "name": "ヤングセンター",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: ヤングセンター"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "90": {
    "onsen_id": "90",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=90",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"90\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.315778, 131.469194);\n\t\tif (calcDistance(33.315778, 131.469194) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t148番&nbsp;&nbsp;海地獄足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.315778,131.469194\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪559-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0121</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円（施設入場料）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">海地獄前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail148.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "148",
      "name": "海地獄足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.315778,131.469194",
      "latitude": 33.315778,
      "longitude": 131.469194,
      "営業形態": "足湯",
      "住所": "大分県別府市鉄輪559-1",
      "電話": "0977-66-0121",
      "入浴料金": "500円（施設入場料）",
      "利用時間": "8:00～17:00",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "海地獄前 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "200台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "148",
      "name": "海地獄足湯",
      "deleted": false,
      "latitude": 33.315778,
      "longitude": 131.469194,
      "address": "大分県別府市鉄輪559-1",
      "phone": "0977-66-0121",
      "admission_fee": "500円（施設入場料）",
      "usage_time": "8:00～17:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "海地獄前 1分",
      "nearest_station": "なし",
      "parking": "200台",
      "remarks": null,
      "business_form": "足湯",
      "description": "温泉名: 海地獄足湯 | 泉質: 塩化物泉 | 営業形態: 足湯 | 入浴料金: 500円（施設入場料） | 利用時間: 8:00～17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "91": {
    "onsen_id": "91",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=91",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"91\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3152916, 131.4696131);\n\t\tif (calcDistance(33.3152916, 131.4696131) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t149番&nbsp;&nbsp;鬼石坊主地獄足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3152916,131.4696131\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市鉄輪559-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-27-6655</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円（施設入場料）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">海地獄前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">40台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail149.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "149",
      "name": "鬼石坊主地獄足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3152916,131.4696131",
      "latitude": 33.3152916,
      "longitude": 131.4696131,
      "営業形態": "足湯",
      "住所": "大分県別府市鉄輪559-1",
      "電話": "0977-27-6655",
      "入浴料金": "500円（施設入場料）",
      "利用時間": "8:00～17:00",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "海地獄前 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "40台"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "149",
      "name": "鬼石坊主地獄足湯",
      "deleted": false,
      "latitude": 33.3152916,
      "longitude": 131.4696131,
      "address": "大分県別府市鉄輪559-1",
      "phone": "0977-27-6655",
      "admission_fee": "500円（施設入場料）",
      "usage_time": "8:00～17:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "海地獄前 1分",
      "nearest_station": "なし",
      "parking": "40台",
      "remarks": null,
      "business_form": "足湯",
      "description": "温泉名: 鬼石坊主地獄足湯 | 泉質: 塩化物泉 | 営業形態: 足湯 | 入浴料金: 500円（施設入場料） | 利用時間: 8:00～17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "92": {
    "onsen_id": "92",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=92",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"92\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3162314, 131.4723952);\n\t\tif (calcDistance(33.3162314, 131.4723952) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t176番&nbsp;&nbsp;かまど地獄足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3162314,131.4723952\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市御幸5組の2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0178</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円（施設入場料）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1室(備考参照)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">海地獄前 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">50台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">家族湯ご利用の際は入口受付までおたずねください。</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail176.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "176",
      "name": "かまど地獄足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3162314,131.4723952",
      "latitude": 33.3162314,
      "longitude": 131.4723952,
      "営業形態": "足湯",
      "住所": "大分県別府市御幸5組の2",
      "電話": "0977-66-0178",
      "入浴料金": "500円（施設入場料）",
      "利用時間": "8:00～17:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "1室(備考参照)",
      "泉質": "塩化物泉",
      "最寄バス停": "海地獄前 2分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "50台",
      "備考": "家族湯ご利用の際は入口受付までおたずねください。"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "176",
      "name": "かまど地獄足湯",
      "deleted": false,
      "latitude": 33.3162314,
      "longitude": 131.4723952,
      "address": "大分県別府市御幸5組の2",
      "phone": "0977-66-0178",
      "admission_fee": "500円（施設入場料）",
      "usage_time": "8:00～17:00",
      "closed_days": "なし",
      "private_bath": "1室(備考参照)",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "海地獄前 2分",
      "nearest_station": "なし",
      "parking": "50台",
      "remarks": "家族湯ご利用の際は入口受付までおたずねください。",
      "business_form": "足湯",
      "description": "温泉名: かまど地獄足湯 | 泉質: 塩化物泉 | 営業形態: 足湯 | 入浴料金: 500円（施設入場料） | 利用時間: 8:00～17:00 | 備考: 家族湯ご利用の際は入口受付までおたずねください。"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "93": {
    "onsen_id": "93",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=93",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"93\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3147301, 131.4773158);\n\t\tif (calcDistance(33.3147301, 131.4773158) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t201番&nbsp;&nbsp;地熱観光ラボ縁間\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3147301,131.4773158\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市風呂本228-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-75-9592</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯無料※食事または制作体験利用の方のみ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～22:00要確認</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">家族湯２５００円（60分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail201.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "201",
      "name": "地熱観光ラボ縁間",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3147301,131.4773158",
      "latitude": 33.3147301,
      "longitude": 131.4773158,
      "営業形態": "足湯",
      "住所": "大分県別府市風呂本228-1",
      "電話": "0977-75-9592",
      "入浴料金": "足湯無料※食事または制作体験利用の方のみ",
      "利用時間": "10:00～22:00要確認",
      "定休日ほか": "不定",
      "家族湯(貸切湯)": "家族湯２５００円（60分）",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪 3分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "201",
      "name": "地熱観光ラボ縁間",
      "deleted": false,
      "latitude": 33.3147301,
      "longitude": 131.4773158,
      "address": "大分県別府市風呂本228-1",
      "phone": "0977-75-9592",
      "admission_fee": "足湯無料※食事または制作体験利用の方のみ",
      "usage_time": "10:00～22:00要確認",
      "closed_days": "不定",
      "private_bath": "家族湯２５００円（60分）",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪 3分",
      "nearest_station": "なし",
      "parking": "なし",
      "remarks": null,
      "business_form": "足湯",
      "description": "温泉名: 地熱観光ラボ縁間 | 泉質: 塩化物泉 | 営業形態: 足湯 | 入浴料金: 足湯無料※食事または制作体験利用の方のみ | 利用時間: 10:00～22:00要確認"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "94": {
    "onsen_id": "94",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=94",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"94\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3119837, 131.4888085);\n\t\tif (calcDistance(33.3119837, 131.4888085) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t214番&nbsp;&nbsp;大分香りの博物館 ハーブガーデン足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3119837,131.4888085\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市北石垣48-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-27-7272</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料(入館者、ショップ、カフェ利用の方に限る)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～16:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第3木曜、12/31、1/1〜3、雨天時要問合せ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大石・大分香りの博物館前</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府大学駅(12分)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">26台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料※博物館入館者、ミュージアムショップ、カフェ・サ・サンボン利用者に限る</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail214_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "214",
      "name": "大分香りの博物館 ハーブガーデン足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3119837,131.4888085",
      "latitude": 33.3119837,
      "longitude": 131.4888085,
      "営業形態": "足湯",
      "住所": "大分県別府市北石垣48-1",
      "電話": "0977-27-7272",
      "入浴料金": "無料(入館者、ショップ、カフェ利用の方に限る)",
      "利用時間": "10:00～16:30",
      "定休日ほか": "第3木曜、12/31、1/1〜3、雨天時要問合せ",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "大石・大分香りの博物館前",
      "最寄駅(徒歩)": "別府大学駅(12分)",
      "駐車場": "26台",
      "備考": "無料※博物館入館者、ミュージアムショップ、カフェ・サ・サンボン利用者に限る"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "214",
      "name": "大分香りの博物館 ハーブガーデン足湯",
      "deleted": false,
      "latitude": 33.3119837,
      "longitude": 131.4888085,
      "address": "大分県別府市北石垣48-1",
      "phone": "0977-27-7272",
      "admission_fee": "無料(入館者、ショップ、カフェ利用の方に限る)",
      "usage_time": "10:00～16:30",
      "closed_days": "第3木曜、12/31、1/1〜3、雨天時要問合せ",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "大石・大分香りの博物館前",
      "nearest_station": "別府大学駅(12分)",
      "parking": "26台",
      "remarks": "無料※博物館入館者、ミュージアムショップ、カフェ・サ・サンボン利用者に限る",
      "business_form": "足湯",
      "description": "温泉名: 大分香りの博物館 ハーブガーデン足湯 | 泉質: 単純温泉 | 営業形態: 足湯 | 入浴料金: 無料(入館者、ショップ、カフェ利用の方に限る) | 利用時間: 10:00～16:30 | 備考: 無料※博物館入館者、ミュージアムショップ、カフェ・サ・サンボン利用者に限る"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "158": {
    "onsen_id": "158",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=158",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"158\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3116973, 131.4819757);\n\t\tif (calcDistance(33.3116973, 131.4819757) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t222番&nbsp;&nbsp;別府鉄輪温泉 やまなみの湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3116973,131.4819757\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市北中7-2 ダイちゃんランド内</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-4126</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">平日580　土日祝680</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">12:00～翌8:40、土・日曜、祝日は24時間営業</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2200円～4800円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">アルカリ性単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">砂原</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府大学駅20分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共有駐車場700台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2024年11月1日～2024年12月中旬まで リニューアル改修のため休業</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail222.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "222",
      "name": "別府鉄輪温泉 やまなみの湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3116973,131.4819757",
      "latitude": 33.3116973,
      "longitude": 131.4819757,
      "営業形態": "外湯",
      "住所": "別府市北中7-2 ダイちゃんランド内",
      "電話": "0977-67-4126",
      "入浴料金": "平日580　土日祝680",
      "利用時間": "12:00～翌8:40、土・日曜、祝日は24時間営業",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "2200円～4800円",
      "泉質": "アルカリ性単純温泉",
      "最寄バス停": "砂原",
      "最寄駅(徒歩)": "別府大学駅20分",
      "駐車場": "共有駐車場700台",
      "備考": "2024年11月1日～2024年12月中旬まで リニューアル改修のため休業"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "222",
      "name": "別府鉄輪温泉 やまなみの湯",
      "deleted": false,
      "latitude": 33.3116973,
      "longitude": 131.4819757,
      "address": "別府市北中7-2 ダイちゃんランド内",
      "phone": "0977-67-4126",
      "admission_fee": "平日580　土日祝680",
      "usage_time": "12:00～翌8:40、土・日曜、祝日は24時間営業",
      "closed_days": "なし",
      "private_bath": "2200円～4800円",
      "spring_quality": "アルカリ性単純温泉",
      "nearest_bus_stop": "砂原",
      "nearest_station": "別府大学駅20分",
      "parking": "共有駐車場700台",
      "remarks": "2024年11月1日～2024年12月中旬まで リニューアル改修のため休業",
      "business_form": "外湯",
      "description": "温泉名: 別府鉄輪温泉 やまなみの湯 | 泉質: アルカリ性単純温泉 | 営業形態: 外湯 | 入浴料金: 平日580　土日祝680 | 利用時間: 12:00～翌8:40、土・日曜、祝日は24時間営業 | 備考: 2024年11月1日～2024年12月中旬まで リニューアル改修のため休業"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "162": {
    "onsen_id": "162",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=162",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"162\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.30803, 131.46305);\n\t\tif (calcDistance(33.30803, 131.46305) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t225番&nbsp;&nbsp;おやど湯の丘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.30803,131.46305\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市小倉4-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-2414</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1室2000円（4名まで）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10：00～20：00(15:00以降は要問合せ)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">木曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">弱硫黄単純泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">ベネフィットフォーユ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">車15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">現代の名工山口正義氏の施工　露天風呂</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail225.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "225",
      "name": "おやど湯の丘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.30803,131.46305",
      "latitude": 33.30803,
      "longitude": 131.46305,
      "営業形態": "宿泊施設",
      "住所": "別府市小倉4-1",
      "電話": "0977-21-2414",
      "入浴料金": "1室2000円（4名まで）",
      "利用時間": "10：00～20：00(15:00以降は要問合せ)",
      "定休日ほか": "木曜日",
      "家族湯(貸切湯)": "5室",
      "泉質": "弱硫黄単純泉",
      "最寄バス停": "ベネフィットフォーユ",
      "最寄駅(徒歩)": "車15分",
      "駐車場": "15台",
      "備考": "現代の名工山口正義氏の施工　露天風呂"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "225",
      "name": "おやど湯の丘",
      "deleted": false,
      "latitude": 33.30803,
      "longitude": 131.46305,
      "address": "別府市小倉4-1",
      "phone": "0977-21-2414",
      "admission_fee": "1室2000円（4名まで）",
      "usage_time": "10：00～20：00(15:00以降は要問合せ)",
      "closed_days": "木曜日",
      "private_bath": "5室",
      "spring_quality": "弱硫黄単純泉",
      "nearest_bus_stop": "ベネフィットフォーユ",
      "nearest_station": "車15分",
      "parking": "15台",
      "remarks": "現代の名工山口正義氏の施工　露天風呂",
      "business_form": "宿泊施設",
      "description": "温泉名: おやど湯の丘 | 泉質: 弱硫黄単純泉 | 営業形態: 宿泊施設 | 入浴料金: 1室2000円（4名まで） | 利用時間: 10：00～20：00(15:00以降は要問合せ) | 備考: 現代の名工山口正義氏の施工　露天風呂"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "169": {
    "onsen_id": "169",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=169",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"169\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.314932100496, 131.473166882337);\n\t\tif (calcDistance(33.314932100496, 131.473166882337) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t48番&nbsp;&nbsp;おにやまホテル\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.314932100496,131.473166882337\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪335-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-1121</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定（要問合せ）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鉄輪5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">要問合せ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">全館休業中</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail48.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "48",
      "name": "おにやまホテル",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.314932100496,131.473166882337",
      "latitude": 33.314932100496,
      "longitude": 131.473166882337,
      "営業形態": "宿泊施設",
      "住所": "鉄輪335-1",
      "電話": "0977-66-1121",
      "定休日ほか": "不定（要問合せ）",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "鉄輪5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "要問合せ",
      "備考": "全館休業中"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "48",
      "name": "おにやまホテル",
      "deleted": false,
      "latitude": 33.314932100496,
      "longitude": 131.473166882337,
      "address": "鉄輪335-1",
      "phone": "0977-66-1121",
      "admission_fee": null,
      "usage_time": null,
      "closed_days": "不定（要問合せ）",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "鉄輪5分",
      "nearest_station": "なし",
      "parking": "要問合せ",
      "remarks": "全館休業中",
      "business_form": "宿泊施設",
      "description": "温泉名: おにやまホテル | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 備考: 全館休業中"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "170": {
    "onsen_id": "170",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=170",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"170\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.311190216845326, 131.46156512929096);\n\t\tif (calcDistance(33.311190216845326, 131.46156512929096) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t231番&nbsp;&nbsp;グランシア別府鉄輪\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.311190216845326,131.46156512929096\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鶴見照湯1409-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-77-2405</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊者限定1泊2食24,530円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00 OUT11:00(愛犬同伴10:00)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">照湯1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">120台(6メートルドームテント宿泊者1台無料、10メートルドームテント宿泊者2台無料)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地獄蒸し体験もできる全棟温泉付グランピング</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail231.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "231",
      "name": "グランシア別府鉄輪",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.311190216845326,131.46156512929096",
      "latitude": 33.311190216845326,
      "longitude": 131.46156512929096,
      "営業形態": "宿泊施設",
      "住所": "鶴見照湯1409-1",
      "電話": "0977-77-2405",
      "入浴料金": "宿泊者限定1泊2食24,530円～",
      "利用時間": "IN15:00 OUT11:00(愛犬同伴10:00)",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "照湯1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "120台(6メートルドームテント宿泊者1台無料、10メートルドームテント宿泊者2台無料)",
      "備考": "地獄蒸し体験もできる全棟温泉付グランピング"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "231",
      "name": "グランシア別府鉄輪",
      "deleted": false,
      "latitude": 33.311190216845326,
      "longitude": 131.46156512929096,
      "address": "鶴見照湯1409-1",
      "phone": "0977-77-2405",
      "admission_fee": "宿泊者限定1泊2食24,530円～",
      "usage_time": "IN15:00 OUT11:00(愛犬同伴10:00)",
      "closed_days": null,
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "照湯1分",
      "nearest_station": "なし",
      "parking": "120台(6メートルドームテント宿泊者1台無料、10メートルドームテント宿泊者2台無料)",
      "remarks": "地獄蒸し体験もできる全棟温泉付グランピング",
      "business_form": "宿泊施設",
      "description": "温泉名: グランシア別府鉄輪 | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 宿泊者限定1泊2食24,530円～ | 利用時間: IN15:00 OUT11:00(愛犬同伴10:00) | 備考: 地獄蒸し体験もできる全棟温泉付グランピング"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "178": {
    "onsen_id": "178",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=178",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"178\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.30685412529797, 131.46150106991965);\n\t\tif (calcDistance(33.30685412529797, 131.46150106991965) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t鉄輪\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t240番&nbsp;&nbsp;七日一巡り\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.30685412529797,131.46150106991965\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市小倉1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊者限定（宿泊料金はHPをご覧ください）https://www.toji-gurashi.jp/nanokahitomeguri</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">滞在中</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">年末年始、不定休</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">「照湯」から5分「ベネフィットフォーユー前」から徒歩7分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">問い合わせ contact@toji-gurashi.jp 湯治・食・運動の湯治リトリートプログラム滞在施設</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail240.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "鉄輪",
      "ban_number": "240",
      "name": "七日一巡り",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.30685412529797,131.46150106991965",
      "latitude": 33.30685412529797,
      "longitude": 131.46150106991965,
      "営業形態": "施設",
      "住所": "別府市小倉1組",
      "電話": "なし",
      "入浴料金": "宿泊者限定（宿泊料金はHPをご覧ください）https://www.toji-gurashi.jp/nanokahitomeguri",
      "利用時間": "滞在中",
      "定休日ほか": "年末年始、不定休",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "「照湯」から5分「ベネフィットフォーユー前」から徒歩7分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "10台",
      "備考": "問い合わせ contact@toji-gurashi.jp 湯治・食・運動の湯治リトリートプログラム滞在施設"
    },
    "mapped_data": {
      "region": "鉄輪",
      "ban_number": "240",
      "name": "七日一巡り",
      "deleted": false,
      "latitude": 33.30685412529797,
      "longitude": 131.46150106991965,
      "address": "別府市小倉1組",
      "phone": "なし",
      "admission_fee": "宿泊者限定（宿泊料金はHPをご覧ください）https://www.toji-gurashi.jp/nanokahitomeguri",
      "usage_time": "滞在中",
      "closed_days": "年末年始、不定休",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "「照湯」から5分「ベネフィットフォーユー前」から徒歩7分",
      "nearest_station": "なし",
      "parking": "10台",
      "remarks": "問い合わせ contact@toji-gurashi.jp 湯治・食・運動の湯治リトリートプログラム滞在施設",
      "business_form": "施設",
      "description": "温泉名: 七日一巡り | 泉質: 塩化物泉 | 営業形態: 施設 | 入浴料金: 宿泊者限定（宿泊料金はHPをご覧ください）https://www.toji-gurashi.jp/nanokahitomeguri | 利用時間: 滞在中 | 備考: 問い合わせ contact@toji-gurashi.jp 湯治・食・運動の湯治リトリートプログラム滞在施設"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "95": {
    "onsen_id": "95",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=95",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"95\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3177556, 131.4536646);\n\t\tif (calcDistance(33.3177556, 131.4536646) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t57番&nbsp;&nbsp;鶴寿温泉\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3177556,131.4536646\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬3組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail57.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "57",
      "name": "鶴寿温泉",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "57",
      "name": "鶴寿温泉",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 鶴寿温泉"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "96": {
    "onsen_id": "96",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=96",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"96\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.309968, 131.4604536);\n\t\tif (calcDistance(33.309968, 131.4604536) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t128番&nbsp;&nbsp;照湯温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.309968,131.4604536\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市小倉5組-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-51-4272</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9:00～21:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">照湯 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail128.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "128",
      "name": "照湯温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.309968,131.4604536",
      "latitude": 33.309968,
      "longitude": 131.4604536,
      "営業形態": "共同温泉",
      "住所": "大分県別府市小倉5組-1",
      "電話": "0977-51-4272",
      "入浴料金": "300円",
      "利用時間": "9:00～21:00",
      "定休日ほか": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "照湯 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "10台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "128",
      "name": "照湯温泉",
      "deleted": false,
      "latitude": 33.309968,
      "longitude": 131.4604536,
      "address": "大分県別府市小倉5組-1",
      "phone": "0977-51-4272",
      "admission_fee": "300円",
      "usage_time": "9:00～21:00",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "照湯 1分",
      "nearest_station": "なし",
      "parking": "10台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 照湯温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 300円 | 利用時間: 9:00～21:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "97": {
    "onsen_id": "97",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=97",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"97\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3154914, 131.4582862);\n\t\tif (calcDistance(33.3154914, 131.4582862) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t58番&nbsp;&nbsp;別府温泉保養ランド\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3154914,131.4582862\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬5組 紺屋地獄</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-2221</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1100円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9:00～20:00(最終受付19:00～)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉　酸性泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">紺屋地獄前 0分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail58.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "58",
      "name": "別府温泉保養ランド",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3154914,131.4582862",
      "latitude": 33.3154914,
      "longitude": 131.4582862,
      "営業形態": "外湯",
      "住所": "大分県別府市明礬5組 紺屋地獄",
      "電話": "0977-66-2221",
      "入浴料金": "1100円",
      "利用時間": "9:00～20:00(最終受付19:00～)",
      "定休日ほか": "なし",
      "泉質": "硫黄泉　酸性泉",
      "最寄バス停": "紺屋地獄前 0分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "200台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "58",
      "name": "別府温泉保養ランド",
      "deleted": false,
      "latitude": 33.3154914,
      "longitude": 131.4582862,
      "address": "大分県別府市明礬5組 紺屋地獄",
      "phone": "0977-66-2221",
      "admission_fee": "1100円",
      "usage_time": "9:00～20:00(最終受付19:00～)",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "硫黄泉　酸性泉",
      "nearest_bus_stop": "紺屋地獄前 0分",
      "nearest_station": "なし",
      "parking": "200台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 別府温泉保養ランド | 泉質: 硫黄泉　酸性泉 | 営業形態: 外湯 | 入浴料金: 1100円 | 利用時間: 9:00～20:00(最終受付19:00～)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "98": {
    "onsen_id": "98",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=98",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"98\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.320292, 131.453285);\n\t\tif (calcDistance(33.320292, 131.453285) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t59番&nbsp;&nbsp;みょうばん湯の里\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.320292,131.453285\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬6組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-8166</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">600円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00〜20:00（最終受付19:00）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1500円～2500円（60分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地蔵湯前 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">80台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail59.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "59",
      "name": "みょうばん湯の里",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.320292,131.453285",
      "latitude": 33.320292,
      "longitude": 131.453285,
      "営業形態": "外湯",
      "住所": "大分県別府市明礬6組",
      "電話": "0977-66-8166",
      "入浴料金": "600円",
      "利用時間": "10:00〜20:00（最終受付19:00）",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "1500円～2500円（60分）",
      "泉質": "硫黄泉",
      "最寄バス停": "地蔵湯前 2分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "80台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "59",
      "name": "みょうばん湯の里",
      "deleted": false,
      "latitude": 33.320292,
      "longitude": 131.453285,
      "address": "大分県別府市明礬6組",
      "phone": "0977-66-8166",
      "admission_fee": "600円",
      "usage_time": "10:00〜20:00（最終受付19:00）",
      "closed_days": "なし",
      "private_bath": "1500円～2500円（60分）",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "地蔵湯前 2分",
      "nearest_station": "なし",
      "parking": "80台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: みょうばん湯の里 | 泉質: 硫黄泉 | 営業形態: 外湯 | 入浴料金: 600円 | 利用時間: 10:00〜20:00（最終受付19:00）"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "99": {
    "onsen_id": "99",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=99",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"99\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3172845, 131.4532087);\n\t\tif (calcDistance(33.3172845, 131.4532087) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t60番&nbsp;&nbsp;湯屋えびす\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3172845,131.4532087\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬4組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-5858</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1300円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～受付22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休(家族湯は水曜）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2000円～2500円（60分）10:00〜20:00(受付）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉、単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地蔵湯前 明礬 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">20台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2018/一部改装</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail60.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "60",
      "name": "湯屋えびす",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3172845,131.4532087",
      "latitude": 33.3172845,
      "longitude": 131.4532087,
      "営業形態": "外湯",
      "住所": "大分県別府市明礬4組",
      "電話": "0977-67-5858",
      "入浴料金": "1300円～",
      "利用時間": "10:00～受付22:00",
      "定休日ほか": "不定休(家族湯は水曜）",
      "家族湯(貸切湯)": "2000円～2500円（60分）10:00〜20:00(受付）",
      "泉質": "硫黄泉、単純温泉",
      "最寄バス停": "地蔵湯前 明礬 2分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "20台",
      "備考": "2018/一部改装"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "60",
      "name": "湯屋えびす",
      "deleted": false,
      "latitude": 33.3172845,
      "longitude": 131.4532087,
      "address": "大分県別府市明礬4組",
      "phone": "0977-67-5858",
      "admission_fee": "1300円～",
      "usage_time": "10:00～受付22:00",
      "closed_days": "不定休(家族湯は水曜）",
      "private_bath": "2000円～2500円（60分）10:00〜20:00(受付）",
      "spring_quality": "硫黄泉、単純温泉",
      "nearest_bus_stop": "地蔵湯前 明礬 2分",
      "nearest_station": "なし",
      "parking": "20台",
      "remarks": "2018/一部改装",
      "business_form": "外湯",
      "description": "温泉名: 湯屋えびす | 泉質: 硫黄泉、単純温泉 | 営業形態: 外湯 | 入浴料金: 1300円～ | 利用時間: 10:00～受付22:00 | 備考: 2018/一部改装"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "100": {
    "onsen_id": "100",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=100",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"100\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3188297, 131.4519978);\n\t\tif (calcDistance(33.3188297, 131.4519978) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t61番&nbsp;&nbsp;明礬山の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3188297,131.4519978\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-5881</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">13:00～20:00(最終受付19:00)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">月曜（祝祭日除く）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2000円（60分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地蔵湯前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">12台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail61.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "61",
      "name": "明礬山の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3188297,131.4519978",
      "latitude": 33.3188297,
      "longitude": 131.4519978,
      "営業形態": "外湯",
      "住所": "大分県別府市明礬1組",
      "電話": "0977-66-5881",
      "入浴料金": "500円",
      "利用時間": "13:00～20:00(最終受付19:00)",
      "定休日ほか": "月曜（祝祭日除く）",
      "家族湯(貸切湯)": "2000円（60分）",
      "泉質": "単純温泉",
      "最寄バス停": "地蔵湯前 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "12台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "61",
      "name": "明礬山の湯",
      "deleted": false,
      "latitude": 33.3188297,
      "longitude": 131.4519978,
      "address": "大分県別府市明礬1組",
      "phone": "0977-66-5881",
      "admission_fee": "500円",
      "usage_time": "13:00～20:00(最終受付19:00)",
      "closed_days": "月曜（祝祭日除く）",
      "private_bath": "2000円（60分）",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "地蔵湯前 1分",
      "nearest_station": "なし",
      "parking": "12台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 明礬山の湯 | 泉質: 単純温泉 | 営業形態: 外湯 | 入浴料金: 500円 | 利用時間: 13:00～20:00(最終受付19:00)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "101": {
    "onsen_id": "101",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=101",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"101\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.317649, 131.453853);\n\t\tif (calcDistance(33.317649, 131.453853) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t62番&nbsp;&nbsp;岡本屋旅館\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.317649,131.453853\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">明礬4組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">66-3228</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊2食2万4750円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00 OUT10:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">土日祝日・混雑時は不可</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉 酸性泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">明礬 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊限定</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail62.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "62",
      "name": "岡本屋旅館",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.317649,131.453853",
      "latitude": 33.317649,
      "longitude": 131.453853,
      "営業形態": "宿泊施設",
      "住所": "明礬4組",
      "電話": "66-3228",
      "入浴料金": "1泊2食2万4750円～",
      "利用時間": "IN15:00 OUT10:00",
      "定休日ほか": "土日祝日・混雑時は不可",
      "泉質": "硫黄泉 酸性泉",
      "最寄バス停": "明礬 2分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "7台",
      "備考": "宿泊限定"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "62",
      "name": "岡本屋旅館",
      "deleted": false,
      "latitude": 33.317649,
      "longitude": 131.453853,
      "address": "明礬4組",
      "phone": "66-3228",
      "admission_fee": "1泊2食2万4750円～",
      "usage_time": "IN15:00 OUT10:00",
      "closed_days": "土日祝日・混雑時は不可",
      "private_bath": null,
      "spring_quality": "硫黄泉 酸性泉",
      "nearest_bus_stop": "明礬 2分",
      "nearest_station": "なし",
      "parking": "7台",
      "remarks": "宿泊限定",
      "business_form": "宿泊施設",
      "description": "温泉名: 岡本屋旅館 | 泉質: 硫黄泉 酸性泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊2食2万4750円～ | 利用時間: IN15:00 OUT10:00 | 備考: 宿泊限定"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "102": {
    "onsen_id": "102",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=102",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"102\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.319071, 131.452817);\n\t\tif (calcDistance(33.319071, 131.452817) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t64番&nbsp;&nbsp;旅館みどり荘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.319071,131.452817\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬7組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-2012</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">内湯、露天ともに1人1時間500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">休業中</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">水曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">貸切湯のみ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地蔵湯前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail64.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "64",
      "name": "旅館みどり荘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.319071,131.452817",
      "latitude": 33.319071,
      "longitude": 131.452817,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市明礬7組",
      "電話": "0977-66-2012",
      "入浴料金": "内湯、露天ともに1人1時間500円",
      "利用時間": "休業中",
      "定休日ほか": "水曜日",
      "家族湯(貸切湯)": "貸切湯のみ",
      "泉質": "硫黄泉",
      "最寄バス停": "地蔵湯前 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "7台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "64",
      "name": "旅館みどり荘",
      "deleted": false,
      "latitude": 33.319071,
      "longitude": 131.452817,
      "address": "大分県別府市明礬7組",
      "phone": "0977-66-2012",
      "admission_fee": "内湯、露天ともに1人1時間500円",
      "usage_time": "休業中",
      "closed_days": "水曜日",
      "private_bath": "貸切湯のみ",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "地蔵湯前 1分",
      "nearest_station": "なし",
      "parking": "7台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 旅館みどり荘 | 泉質: 硫黄泉 | 営業形態: 宿泊施設 | 入浴料金: 内湯、露天ともに1人1時間500円 | 利用時間: 休業中"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "103": {
    "onsen_id": "103",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=103",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"103\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3178213, 131.4533358);\n\t\tif (calcDistance(33.3178213, 131.4533358) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t104番&nbsp;&nbsp;湯元屋旅館\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3178213,131.4533358\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬3組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0322</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00〜14：00（受付13：30）※宿泊者優先</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">土日祝日・混雑時は不可</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1人300円（60分）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">含鉄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">明礬 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail104.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "104",
      "name": "湯元屋旅館",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3178213,131.4533358",
      "latitude": 33.3178213,
      "longitude": 131.4533358,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市明礬3組",
      "電話": "0977-66-0322",
      "入浴料金": "500円",
      "利用時間": "10:00〜14：00（受付13：30）※宿泊者優先",
      "定休日ほか": "土日祝日・混雑時は不可",
      "家族湯(貸切湯)": "1人300円（60分）",
      "泉質": "含鉄泉",
      "最寄バス停": "明礬 2分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "10台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "104",
      "name": "湯元屋旅館",
      "deleted": false,
      "latitude": 33.3178213,
      "longitude": 131.4533358,
      "address": "大分県別府市明礬3組",
      "phone": "0977-66-0322",
      "admission_fee": "500円",
      "usage_time": "10:00〜14：00（受付13：30）※宿泊者優先",
      "closed_days": "土日祝日・混雑時は不可",
      "private_bath": "1人300円（60分）",
      "spring_quality": "含鉄泉",
      "nearest_bus_stop": "明礬 2分",
      "nearest_station": "なし",
      "parking": "10台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 湯元屋旅館 | 泉質: 含鉄泉 | 営業形態: 宿泊施設 | 入浴料金: 500円 | 利用時間: 10:00〜14：00（受付13：30）※宿泊者優先"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "104": {
    "onsen_id": "104",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=104",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"104\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3222305, 131.4498898);\n\t\tif (calcDistance(33.3222305, 131.4498898) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t154番&nbsp;&nbsp;奥みょうばん山荘\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3222305,131.4498898\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市湯山1組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-2229</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">550円※貸切1時間1名あたり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～受付20:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">火曜日※祝日、繁忙期は営業</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯山 7分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail154.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "154",
      "name": "奥みょうばん山荘",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3222305,131.4498898",
      "latitude": 33.3222305,
      "longitude": 131.4498898,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市湯山1組",
      "電話": "0977-67-2229",
      "入浴料金": "550円※貸切1時間1名あたり",
      "利用時間": "10:00～受付20:00",
      "定休日ほか": "火曜日※祝日、繁忙期は営業",
      "家族湯(貸切湯)": "2",
      "泉質": "硫黄泉",
      "最寄バス停": "湯山 7分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "10台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "154",
      "name": "奥みょうばん山荘",
      "deleted": false,
      "latitude": 33.3222305,
      "longitude": 131.4498898,
      "address": "大分県別府市湯山1組",
      "phone": "0977-67-2229",
      "admission_fee": "550円※貸切1時間1名あたり",
      "usage_time": "10:00～受付20:00",
      "closed_days": "火曜日※祝日、繁忙期は営業",
      "private_bath": "2",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "湯山 7分",
      "nearest_station": "なし",
      "parking": "10台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 奥みょうばん山荘 | 泉質: 硫黄泉 | 営業形態: 宿泊施設 | 入浴料金: 550円※貸切1時間1名あたり | 利用時間: 10:00～受付20:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "105": {
    "onsen_id": "105",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=105",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"105\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.317599, 131.451653);\n\t\tif (calcDistance(33.317599, 131.451653) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t161番&nbsp;&nbsp;豊前屋旅館\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.317599,131.451653\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬2組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-0537</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00〜17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">家族湯はないが貸切利用は可能</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地蔵湯前</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail161_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "161",
      "name": "豊前屋旅館",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.317599,131.451653",
      "latitude": 33.317599,
      "longitude": 131.451653,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市明礬2組",
      "電話": "0977-66-0537",
      "入浴料金": "500円",
      "利用時間": "11:00〜17:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "家族湯はないが貸切利用は可能",
      "泉質": "硫黄泉",
      "最寄バス停": "地蔵湯前",
      "最寄駅(徒歩)": "なし",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "161",
      "name": "豊前屋旅館",
      "deleted": false,
      "latitude": 33.317599,
      "longitude": 131.451653,
      "address": "大分県別府市明礬2組",
      "phone": "0977-66-0537",
      "admission_fee": "500円",
      "usage_time": "11:00〜17:00",
      "closed_days": "なし",
      "private_bath": "家族湯はないが貸切利用は可能",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "地蔵湯前",
      "nearest_station": "なし",
      "parking": "5台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 豊前屋旅館 | 泉質: 硫黄泉 | 営業形態: 宿泊施設 | 入浴料金: 500円 | 利用時間: 11:00〜17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "106": {
    "onsen_id": "106",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=106",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"106\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3152953, 131.4568999);\n\t\tif (calcDistance(33.3152953, 131.4568999) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t170番&nbsp;&nbsp;ホテルさわやかハートピア明礬\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3152953,131.4568999\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市大字鶴見1190-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail170.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "170",
      "name": "ホテルさわやかハートピア明礬",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "170",
      "name": "ホテルさわやかハートピア明礬",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: ホテルさわやかハートピア明礬"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "107": {
    "onsen_id": "107",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=107",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"107\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3177198, 131.4521399);\n\t\tif (calcDistance(33.3177198, 131.4521399) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t178番&nbsp;&nbsp;旅館若杉\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3177198,131.4521399\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬１組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail178.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "178",
      "name": "旅館若杉",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "178",
      "name": "旅館若杉",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 旅館若杉"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "108": {
    "onsen_id": "108",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=108",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"108\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3183611, 131.4523831);\n\t\tif (calcDistance(33.3183611, 131.4523831) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t197番&nbsp;&nbsp;明礬地獄の足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3183611,131.4523831\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市明礬１組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円（施設入場料）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8:30～17:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉、酸性泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">地蔵湯前 0分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">岡本屋売店Pを利用</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail197.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "197",
      "name": "明礬地獄の足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3183611,131.4523831",
      "latitude": 33.3183611,
      "longitude": 131.4523831,
      "営業形態": "足湯",
      "住所": "大分県別府市明礬１組",
      "電話": "なし",
      "入浴料金": "200円（施設入場料）",
      "利用時間": "8:30～17:30",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "硫黄泉、酸性泉",
      "最寄バス停": "地蔵湯前 0分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "岡本屋売店Pを利用"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "197",
      "name": "明礬地獄の足湯",
      "deleted": false,
      "latitude": 33.3183611,
      "longitude": 131.4523831,
      "address": "大分県別府市明礬１組",
      "phone": "なし",
      "admission_fee": "200円（施設入場料）",
      "usage_time": "8:30～17:30",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "硫黄泉、酸性泉",
      "nearest_bus_stop": "地蔵湯前 0分",
      "nearest_station": "なし",
      "parking": "岡本屋売店Pを利用",
      "remarks": null,
      "business_form": "足湯",
      "description": "温泉名: 明礬地獄の足湯 | 泉質: 硫黄泉、酸性泉 | 営業形態: 足湯 | 入浴料金: 200円（施設入場料） | 利用時間: 8:30～17:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "109": {
    "onsen_id": "109",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=109",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"109\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3243776, 131.4510259);\n\t\tif (calcDistance(33.3243776, 131.4510259) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t203番&nbsp;&nbsp;湯山の里 和さび人\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3243776,131.4510259\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市湯山2組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-85-8824</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3000円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～17:30（要予約）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">木曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯山 ７分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">4台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail203.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "203",
      "name": "湯山の里 和さび人",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3243776,131.4510259",
      "latitude": 33.3243776,
      "longitude": 131.4510259,
      "営業形態": "外湯",
      "住所": "大分県別府市湯山2組",
      "電話": "0977-85-8824",
      "入浴料金": "3000円",
      "利用時間": "10:00～17:30（要予約）",
      "定休日ほか": "木曜日",
      "家族湯(貸切湯)": "1室",
      "泉質": "硫黄泉",
      "最寄バス停": "湯山 ７分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "4台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "203",
      "name": "湯山の里 和さび人",
      "deleted": false,
      "latitude": 33.3243776,
      "longitude": 131.4510259,
      "address": "大分県別府市湯山2組",
      "phone": "0977-85-8824",
      "admission_fee": "3000円",
      "usage_time": "10:00～17:30（要予約）",
      "closed_days": "木曜日",
      "private_bath": "1室",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "湯山 ７分",
      "nearest_station": "なし",
      "parking": "4台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 湯山の里 和さび人 | 泉質: 硫黄泉 | 営業形態: 外湯 | 入浴料金: 3000円 | 利用時間: 10:00～17:30（要予約）"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "153": {
    "onsen_id": "153",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=153",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"153\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.310013, 131.46202);\n\t\tif (calcDistance(33.310013, 131.46202) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t218番&nbsp;&nbsp;杜の湯リゾート\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.310013,131.46202\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鶴見照湯1413-13</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-85-7000</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1300円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">(4～9月)10:00～22:00(最終受付21:30)、(10～3月)15:00～21:00(最終受付20:30)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">照湯　すぐ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">50台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail218.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "218",
      "name": "杜の湯リゾート",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.310013,131.46202",
      "latitude": 33.310013,
      "longitude": 131.46202,
      "営業形態": "宿泊施設",
      "住所": "鶴見照湯1413-13",
      "電話": "0977-85-7000",
      "入浴料金": "1300円",
      "利用時間": "(4～9月)10:00～22:00(最終受付21:30)、(10～3月)15:00～21:00(最終受付20:30)",
      "定休日ほか": "不定",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "照湯　すぐ",
      "最寄駅(徒歩)": "なし",
      "駐車場": "50台"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "218",
      "name": "杜の湯リゾート",
      "deleted": false,
      "latitude": 33.310013,
      "longitude": 131.46202,
      "address": "鶴見照湯1413-13",
      "phone": "0977-85-7000",
      "admission_fee": "1300円",
      "usage_time": "(4～9月)10:00～22:00(最終受付21:30)、(10～3月)15:00～21:00(最終受付20:30)",
      "closed_days": "不定",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "照湯　すぐ",
      "nearest_station": "なし",
      "parking": "50台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 杜の湯リゾート | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 1300円 | 利用時間: (4～9月)10:00～22:00(最終受付21:30)、(10～3月)15:00～21:00(最終受付20:30)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "157": {
    "onsen_id": "157",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=157",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"157\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.325472, 131.454583);\n\t\tif (calcDistance(33.325472, 131.454583) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t221番&nbsp;&nbsp;湯山の里温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.325472,131.454583\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府市湯山4組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">090-4988-4179</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">600円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9:00～日没まで</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定期</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3,000円（120分3名迄）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純泉・硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">湯山 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">秘湯・秘境・竹林散策　露天風呂は水着着用</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail221.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "221",
      "name": "湯山の里温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.325472,131.454583",
      "latitude": 33.325472,
      "longitude": 131.454583,
      "営業形態": "外湯",
      "住所": "別府市湯山4組",
      "電話": "090-4988-4179",
      "入浴料金": "600円",
      "利用時間": "9:00～日没まで",
      "定休日ほか": "不定期",
      "家族湯(貸切湯)": "3,000円（120分3名迄）",
      "泉質": "単純泉・硫黄泉",
      "最寄バス停": "湯山 2分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "15台",
      "備考": "秘湯・秘境・竹林散策　露天風呂は水着着用"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "221",
      "name": "湯山の里温泉",
      "deleted": false,
      "latitude": 33.325472,
      "longitude": 131.454583,
      "address": "別府市湯山4組",
      "phone": "090-4988-4179",
      "admission_fee": "600円",
      "usage_time": "9:00～日没まで",
      "closed_days": "不定期",
      "private_bath": "3,000円（120分3名迄）",
      "spring_quality": "単純泉・硫黄泉",
      "nearest_bus_stop": "湯山 2分",
      "nearest_station": "なし",
      "parking": "15台",
      "remarks": "秘湯・秘境・竹林散策　露天風呂は水着着用",
      "business_form": "外湯",
      "description": "温泉名: 湯山の里温泉 | 泉質: 単純泉・硫黄泉 | 営業形態: 外湯 | 入浴料金: 600円 | 利用時間: 9:00～日没まで | 備考: 秘湯・秘境・竹林散策　露天風呂は水着着用"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "164": {
    "onsen_id": "164",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=164",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"164\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.311889, 131.456278);\n\t\tif (calcDistance(33.311889, 131.456278) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t明礬\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t227番&nbsp;&nbsp;あるじの温泉（足湯）\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.311889,131.456278\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">食事</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鶴見字実ノ屋敷1356-6</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">85-7650</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料(食事、買い物、体験利用の方に限る）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">月・火・水曜 ※祝日の場合は営業</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">みょうばんクリニック徒歩10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料駐車場　30台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府で発見された温泉微生物RG92の自家源泉をひいた足湯施設です。ほんの少し足湯に浸かっただけでも血流が体中を巡り疲れを癒してくれます。わたり蟹の地獄蒸し、滋養食とご一緒に・・・</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail227.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "明礬",
      "ban_number": "227",
      "name": "あるじの温泉（足湯）",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.311889,131.456278",
      "latitude": 33.311889,
      "longitude": 131.456278,
      "営業形態": "食事",
      "住所": "鶴見字実ノ屋敷1356-6",
      "電話": "85-7650",
      "入浴料金": "無料(食事、買い物、体験利用の方に限る）",
      "利用時間": "10:00～17:00",
      "定休日ほか": "月・火・水曜 ※祝日の場合は営業",
      "家族湯(貸切湯)": "なし",
      "泉質": "硫黄泉",
      "最寄バス停": "みょうばんクリニック徒歩10分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "無料駐車場　30台",
      "備考": "別府で発見された温泉微生物RG92の自家源泉をひいた足湯施設です。ほんの少し足湯に浸かっただけでも血流が体中を巡り疲れを癒してくれます。わたり蟹の地獄蒸し、滋養食とご一緒に・・・"
    },
    "mapped_data": {
      "region": "明礬",
      "ban_number": "227",
      "name": "あるじの温泉（足湯）",
      "deleted": false,
      "latitude": 33.311889,
      "longitude": 131.456278,
      "address": "鶴見字実ノ屋敷1356-6",
      "phone": "85-7650",
      "admission_fee": "無料(食事、買い物、体験利用の方に限る）",
      "usage_time": "10:00～17:00",
      "closed_days": "月・火・水曜 ※祝日の場合は営業",
      "private_bath": "なし",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "みょうばんクリニック徒歩10分",
      "nearest_station": "なし",
      "parking": "無料駐車場　30台",
      "remarks": "別府で発見された温泉微生物RG92の自家源泉をひいた足湯施設です。ほんの少し足湯に浸かっただけでも血流が体中を巡り疲れを癒してくれます。わたり蟹の地獄蒸し、滋養食とご一緒に・・・",
      "business_form": "食事",
      "description": "温泉名: あるじの温泉（足湯） | 泉質: 硫黄泉 | 営業形態: 食事 | 入浴料金: 無料(食事、買い物、体験利用の方に限る） | 利用時間: 10:00～17:00 | 備考: 別府で発見された温泉微生物RG92の自家源泉をひいた足湯施設です。ほんの少し足湯に浸かっただけでも血流が体中を巡り疲れを癒してくれます。わたり蟹の地獄蒸し、滋養食とご一緒に・・・"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "110": {
    "onsen_id": "110",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=110",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"110\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3119475, 131.5014832);\n\t\tif (calcDistance(33.3119475, 131.5014832) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t65番&nbsp;&nbsp;別府海浜砂湯\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3119475,131.5014832\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上人ケ浜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail65.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "65",
      "name": "別府海浜砂湯",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "65",
      "name": "別府海浜砂湯",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 別府海浜砂湯"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "111": {
    "onsen_id": "111",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=111",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"111\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.329964, 131.4941113);\n\t\tif (calcDistance(33.329964, 131.4941113) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t66番&nbsp;&nbsp;浜田温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.329964,131.4941113\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市亀川浜田町991-6</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-2619</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川駅 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川駅 3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">28台（車イス利用者用1台含む）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail66.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "66",
      "name": "浜田温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.329964,131.4941113",
      "latitude": 33.329964,
      "longitude": 131.4941113,
      "営業形態": "市営温泉",
      "住所": "大分県別府市亀川浜田町991-6",
      "電話": "0977-67-2619",
      "入浴料金": "200円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～22:30",
      "定休日ほか": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "亀川駅 3分",
      "最寄駅(徒歩)": "亀川駅 3分",
      "駐車場": "28台（車イス利用者用1台含む）"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "66",
      "name": "浜田温泉",
      "deleted": false,
      "latitude": 33.329964,
      "longitude": 131.4941113,
      "address": "大分県別府市亀川浜田町991-6",
      "phone": "0977-67-2619",
      "admission_fee": "200円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～22:30",
      "closed_days": "なし",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "亀川駅 3分",
      "nearest_station": "亀川駅 3分",
      "parking": "28台（車イス利用者用1台含む）",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 浜田温泉 | 泉質: 塩化物泉 | 営業形態: 市営温泉 | 入浴料金: 200円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "112": {
    "onsen_id": "112",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=112",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"112\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3225694, 131.4930956);\n\t\tif (calcDistance(33.3225694, 131.4930956) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t67番&nbsp;&nbsp;四の湯温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3225694,131.4930956\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市亀川四の湯20-4</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">(4～9月)6:30～11:00／14:00～22:00、(10～3月)7:00～11:00／14:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">毎月6・16・26日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">四の湯 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川駅 13分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail67.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "67",
      "name": "四の湯温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3225694,131.4930956",
      "latitude": 33.3225694,
      "longitude": 131.4930956,
      "営業形態": "共同温泉",
      "住所": "大分県別府市亀川四の湯20-4",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "(4～9月)6:30～11:00／14:00～22:00、(10～3月)7:00～11:00／14:00～22:00",
      "定休日ほか": "毎月6・16・26日",
      "泉質": "単純温泉",
      "最寄バス停": "四の湯 1分",
      "最寄駅(徒歩)": "亀川駅 13分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "67",
      "name": "四の湯温泉",
      "deleted": false,
      "latitude": 33.3225694,
      "longitude": 131.4930956,
      "address": "大分県別府市亀川四の湯20-4",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "(4～9月)6:30～11:00／14:00～22:00、(10～3月)7:00～11:00／14:00～22:00",
      "closed_days": "毎月6・16・26日",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "四の湯 1分",
      "nearest_station": "亀川駅 13分",
      "parking": "5台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 四の湯温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: (4～9月)6:30～11:00／14:00～22:00、(10～3月)7:00～11:00／14:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "113": {
    "onsen_id": "113",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=113",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"113\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.321254, 131.499207);\n\t\tif (calcDistance(33.321254, 131.499207) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t68番&nbsp;&nbsp;競輪温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.321254,131.499207\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市亀川東町1-36 別府競輪駐車場内</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-2626</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">小学生以上110円、小学生未満無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00～22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定（ひと月2日程度）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">照波園 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">約1000台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail68.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "68",
      "name": "競輪温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.321254,131.499207",
      "latitude": 33.321254,
      "longitude": 131.499207,
      "営業形態": "市営温泉",
      "住所": "大分県別府市亀川東町1-36 別府競輪駐車場内",
      "電話": "0977-67-2626",
      "入浴料金": "小学生以上110円、小学生未満無料",
      "利用時間": "7:00～22:00",
      "定休日ほか": "不定（ひと月2日程度）",
      "泉質": "単純温泉",
      "最寄バス停": "照波園 1分",
      "駐車場": "約1000台"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "68",
      "name": "競輪温泉",
      "deleted": false,
      "latitude": 33.321254,
      "longitude": 131.499207,
      "address": "大分県別府市亀川東町1-36 別府競輪駐車場内",
      "phone": "0977-67-2626",
      "admission_fee": "小学生以上110円、小学生未満無料",
      "usage_time": "7:00～22:00",
      "closed_days": "不定（ひと月2日程度）",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "照波園 1分",
      "nearest_station": null,
      "parking": "約1000台",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 競輪温泉 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 小学生以上110円、小学生未満無料 | 利用時間: 7:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "114": {
    "onsen_id": "114",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=114",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"114\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.326263, 131.4944136);\n\t\tif (calcDistance(33.326263, 131.4944136) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t69番&nbsp;&nbsp;亀陽泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.326263,131.4944136\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市亀川中央町10-26</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-2666</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">250円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第1水曜日（祝日の場合翌日）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川亀陽泉前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川駅 8分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3台(車イス利用者用1台含む)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail69.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "69",
      "name": "亀陽泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.326263,131.4944136",
      "latitude": 33.326263,
      "longitude": 131.4944136,
      "営業形態": "市営温泉",
      "住所": "大分県別府市亀川中央町10-26",
      "電話": "0977-66-2666",
      "入浴料金": "250円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～22:30",
      "定休日ほか": "第1水曜日（祝日の場合翌日）",
      "泉質": "単純温泉",
      "最寄バス停": "亀川亀陽泉前 1分",
      "最寄駅(徒歩)": "亀川駅 8分",
      "駐車場": "3台(車イス利用者用1台含む)"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "69",
      "name": "亀陽泉",
      "deleted": false,
      "latitude": 33.326263,
      "longitude": 131.4944136,
      "address": "大分県別府市亀川中央町10-26",
      "phone": "0977-66-2666",
      "admission_fee": "250円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～22:30",
      "closed_days": "第1水曜日（祝日の場合翌日）",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "亀川亀陽泉前 1分",
      "nearest_station": "亀川駅 8分",
      "parking": "3台(車イス利用者用1台含む)",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 亀陽泉 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 250円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "115": {
    "onsen_id": "115",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=115",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"115\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3253131, 131.4936359);\n\t\tif (calcDistance(33.3253131, 131.4936359) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t106番&nbsp;&nbsp;亀川筋湯温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3253131,131.4936359\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市亀川中央町4-16</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">お賽銭</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00～19:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀陽泉 2分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail106.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "106",
      "name": "亀川筋湯温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3253131,131.4936359",
      "latitude": 33.3253131,
      "longitude": 131.4936359,
      "営業形態": "共同温泉",
      "住所": "大分県別府市亀川中央町4-16",
      "電話": "なし",
      "入浴料金": "お賽銭",
      "利用時間": "7:00～19:00",
      "泉質": "単純温泉",
      "最寄バス停": "亀陽泉 2分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "106",
      "name": "亀川筋湯温泉",
      "deleted": false,
      "latitude": 33.3253131,
      "longitude": 131.4936359,
      "address": "大分県別府市亀川中央町4-16",
      "phone": "なし",
      "admission_fee": "お賽銭",
      "usage_time": "7:00～19:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "亀陽泉 2分",
      "nearest_station": null,
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 亀川筋湯温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: お賽銭 | 利用時間: 7:00～19:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "116": {
    "onsen_id": "116",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=116",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"116\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3127725, 131.4975856);\n\t\tif (calcDistance(33.3127725, 131.4975856) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t199番&nbsp;&nbsp;前田温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3127725,131.4975856\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上人本町1-21</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市内100円 市外200円 学生100円 小学生以下無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6：00〜9：00　16：00〜20：00　</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">毎月1日・15日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別大駅前 ５分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府大学駅徒歩５分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail199.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "199",
      "name": "前田温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3127725,131.4975856",
      "latitude": 33.3127725,
      "longitude": 131.4975856,
      "営業形態": "共同温泉",
      "住所": "大分県別府市上人本町1-21",
      "電話": "なし",
      "入浴料金": "市内100円 市外200円 学生100円 小学生以下無料",
      "利用時間": "6：00〜9：00　16：00〜20：00",
      "定休日ほか": "毎月1日・15日",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "別大駅前 ５分",
      "最寄駅(徒歩)": "別府大学駅徒歩５分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "199",
      "name": "前田温泉",
      "deleted": false,
      "latitude": 33.3127725,
      "longitude": 131.4975856,
      "address": "大分県別府市上人本町1-21",
      "phone": "なし",
      "admission_fee": "市内100円 市外200円 学生100円 小学生以下無料",
      "usage_time": "6：00〜9：00　16：00〜20：00",
      "closed_days": "毎月1日・15日",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "別大駅前 ５分",
      "nearest_station": "別府大学駅徒歩５分",
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 前田温泉 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 市内100円 市外200円 学生100円 小学生以下無料 | 利用時間: 6：00〜9：00　16：00〜20：00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "117": {
    "onsen_id": "117",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=117",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"117\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.334852, 131.4938769);\n\t\tif (calcDistance(33.334852, 131.4938769) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t206番&nbsp;&nbsp;入江温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.334852,131.4938769\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市浜田町5-8</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">(10～3月)7:00～10:00、12:00～22:00 (4～9月)6:00～10:00、12:00～22:00　　</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">古市入江橋前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川駅　6分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail206.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "206",
      "name": "入江温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.334852,131.4938769",
      "latitude": 33.334852,
      "longitude": 131.4938769,
      "営業形態": "共同温泉",
      "住所": "大分県別府市浜田町5-8",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "(10～3月)7:00～10:00、12:00～22:00 (4～9月)6:00～10:00、12:00～22:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "古市入江橋前 1分",
      "最寄駅(徒歩)": "亀川駅　6分",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "206",
      "name": "入江温泉",
      "deleted": false,
      "latitude": 33.334852,
      "longitude": 131.4938769,
      "address": "大分県別府市浜田町5-8",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "(10～3月)7:00～10:00、12:00～22:00 (4～9月)6:00～10:00、12:00～22:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "古市入江橋前 1分",
      "nearest_station": "亀川駅　6分",
      "parking": "5台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 入江温泉 | 泉質: 塩化物泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: (10～3月)7:00～10:00、12:00～22:00 (4～9月)6:00～10:00、12:00～22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "118": {
    "onsen_id": "118",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=118",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"118\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3187764, 131.4950418);\n\t\tif (calcDistance(33.3187764, 131.4950418) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t208番&nbsp;&nbsp;平田温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3187764,131.4950418\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市照波園町11-36</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">200円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00〜9:00、15:00〜21:45</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">月曜</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">平田 ４分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail208.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "208",
      "name": "平田温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3187764,131.4950418",
      "latitude": 33.3187764,
      "longitude": 131.4950418,
      "営業形態": "共同温泉",
      "住所": "大分県別府市照波園町11-36",
      "電話": "なし",
      "入浴料金": "200円",
      "利用時間": "7:00〜9:00、15:00〜21:45",
      "定休日ほか": "月曜",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "平田 ４分",
      "駐車場": "なし"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "208",
      "name": "平田温泉",
      "deleted": false,
      "latitude": 33.3187764,
      "longitude": 131.4950418,
      "address": "大分県別府市照波園町11-36",
      "phone": "なし",
      "admission_fee": "200円",
      "usage_time": "7:00〜9:00、15:00〜21:45",
      "closed_days": "月曜",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "平田 ４分",
      "nearest_station": null,
      "parking": "なし",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 平田温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 200円 | 利用時間: 7:00〜9:00、15:00〜21:45"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "119": {
    "onsen_id": "119",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=119",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"119\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3370161, 131.487567);\n\t\tif (calcDistance(33.3370161, 131.487567) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t167番&nbsp;&nbsp;とんぼの湯\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3370161,131.487567\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市スパランド豊海L-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail167.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "167",
      "name": "とんぼの湯",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "167",
      "name": "とんぼの湯",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: とんぼの湯"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "120": {
    "onsen_id": "120",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=120",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"120\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.330384, 131.4887397);\n\t\tif (calcDistance(33.330384, 131.4887397) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t70番&nbsp;&nbsp;太陽の湯\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.330384,131.4887397\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市亀川内竈1393</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail70.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "70",
      "name": "太陽の湯",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "70",
      "name": "太陽の湯",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 太陽の湯"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "121": {
    "onsen_id": "121",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=121",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"121\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.306106, 131.50046);\n\t\tif (calcDistance(33.306106, 131.50046) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t202番&nbsp;&nbsp;わくわく温泉かっぱの湯\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.306106,131.50046\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市汐見町3番17号</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail202.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "202",
      "name": "わくわく温泉かっぱの湯",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "202",
      "name": "わくわく温泉かっぱの湯",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: わくわく温泉かっぱの湯"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "122": {
    "onsen_id": "122",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=122",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"122\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.316895961994796, 131.50046797881936);\n\t\tif (calcDistance(33.316895961994796, 131.50046797881936) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t112番&nbsp;&nbsp;AMANE RESORT SEIKAI 潮騒の湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.316895961994796,131.50046797881936\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上人ヶ浜町6-24</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-3680</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大人2500円、小学生1000円、未就学児無料 ※館内レストラン利用時は下記 大人1000円、12歳以下無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">12：30～22：00（最終受付21：30）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">AMANE RESORT前</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府大学駅10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">60台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府湾と一体になれる露天風呂</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail112_1.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "112",
      "name": "AMANE RESORT SEIKAI 潮騒の湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.316895961994796,131.50046797881936",
      "latitude": 33.316895961994796,
      "longitude": 131.50046797881936,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市上人ヶ浜町6-24",
      "電話": "0977-66-3680",
      "入浴料金": "大人2500円、小学生1000円、未就学児無料 ※館内レストラン利用時は下記 大人1000円、12歳以下無料",
      "利用時間": "12：30～22：00（最終受付21：30）",
      "定休日ほか": "不定休",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "AMANE RESORT前",
      "最寄駅(徒歩)": "別府大学駅10分",
      "駐車場": "60台",
      "備考": "別府湾と一体になれる露天風呂"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "112",
      "name": "AMANE RESORT SEIKAI 潮騒の湯",
      "deleted": false,
      "latitude": 33.316895961994796,
      "longitude": 131.50046797881936,
      "address": "大分県別府市上人ヶ浜町6-24",
      "phone": "0977-66-3680",
      "admission_fee": "大人2500円、小学生1000円、未就学児無料 ※館内レストラン利用時は下記 大人1000円、12歳以下無料",
      "usage_time": "12：30～22：00（最終受付21：30）",
      "closed_days": "不定休",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "AMANE RESORT前",
      "nearest_station": "別府大学駅10分",
      "parking": "60台",
      "remarks": "別府湾と一体になれる露天風呂",
      "business_form": "宿泊施設",
      "description": "温泉名: AMANE RESORT SEIKAI 潮騒の湯 | 泉質: 塩化物泉 | 営業形態: 宿泊施設 | 入浴料金: 大人2500円、小学生1000円、未就学児無料 ※館内レストラン利用時は下記 大人1000円、12歳以下無料 | 利用時間: 12：30～22：00（最終受付21：30） | 備考: 別府湾と一体になれる露天風呂"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "163": {
    "onsen_id": "163",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=163",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"163\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.32629676546104, 131.49712460295015);\n\t\tif (calcDistance(33.32629676546104, 131.49712460295015) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t亀川\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t226番&nbsp;&nbsp;亀川マリーナの湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.32629676546104,131.49712460295015\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊・レストラン</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川東町20-45</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-85-7033</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～15:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">木曜日</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">弁天前</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">亀川駅　徒歩10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">40台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2021年オープン</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail226.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "亀川",
      "ban_number": "226",
      "name": "亀川マリーナの湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.32629676546104,131.49712460295015",
      "latitude": 33.32629676546104,
      "longitude": 131.49712460295015,
      "営業形態": "宿泊・レストラン",
      "住所": "亀川東町20-45",
      "電話": "0977-85-7033",
      "入浴料金": "500円",
      "利用時間": "10:00～15:00",
      "定休日ほか": "木曜日",
      "家族湯(貸切湯)": "なし",
      "泉質": "塩化物泉",
      "最寄バス停": "弁天前",
      "最寄駅(徒歩)": "亀川駅　徒歩10分",
      "駐車場": "40台",
      "備考": "2021年オープン"
    },
    "mapped_data": {
      "region": "亀川",
      "ban_number": "226",
      "name": "亀川マリーナの湯",
      "deleted": false,
      "latitude": 33.32629676546104,
      "longitude": 131.49712460295015,
      "address": "亀川東町20-45",
      "phone": "0977-85-7033",
      "admission_fee": "500円",
      "usage_time": "10:00～15:00",
      "closed_days": "木曜日",
      "private_bath": "なし",
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "弁天前",
      "nearest_station": "亀川駅　徒歩10分",
      "parking": "40台",
      "remarks": "2021年オープン",
      "business_form": "宿泊・レストラン",
      "description": "温泉名: 亀川マリーナの湯 | 泉質: 塩化物泉 | 営業形態: 宿泊・レストラン | 入浴料金: 500円 | 利用時間: 10:00～15:00 | 備考: 2021年オープン"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "123": {
    "onsen_id": "123",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=123",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"123\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2903408, 131.4684185);\n\t\tif (calcDistance(33.2903408, 131.4684185) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t観海寺\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t207番&nbsp;&nbsp;向原温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2903408,131.4684185\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">共同温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市南立石2区6組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">150</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:00〜9:00／11:00〜22:00 日曜7:00〜9:00／11:00〜22:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鶴海寺入口　15分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">3台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail207.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "観海寺",
      "ban_number": "207",
      "name": "向原温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2903408,131.4684185",
      "latitude": 33.2903408,
      "longitude": 131.4684185,
      "営業形態": "共同温泉",
      "住所": "大分県別府市南立石2区6組",
      "電話": "なし",
      "入浴料金": "150",
      "利用時間": "6:00〜9:00／11:00〜22:00 日曜7:00〜9:00／11:00〜22:00",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "鶴海寺入口　15分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "3台"
    },
    "mapped_data": {
      "region": "観海寺",
      "ban_number": "207",
      "name": "向原温泉",
      "deleted": false,
      "latitude": 33.2903408,
      "longitude": 131.4684185,
      "address": "大分県別府市南立石2区6組",
      "phone": "なし",
      "admission_fee": "150",
      "usage_time": "6:00〜9:00／11:00〜22:00 日曜7:00〜9:00／11:00〜22:00",
      "closed_days": "なし",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "鶴海寺入口　15分",
      "nearest_station": "なし",
      "parking": "3台",
      "remarks": null,
      "business_form": "共同温泉",
      "description": "温泉名: 向原温泉 | 泉質: 単純温泉 | 営業形態: 共同温泉 | 入浴料金: 150 | 利用時間: 6:00〜9:00／11:00〜22:00 日曜7:00〜9:00／11:00〜22:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "124": {
    "onsen_id": "124",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=124",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"124\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2784786, 131.4810863);\n\t\tif (calcDistance(33.2784786, 131.4810863) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t観海寺\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t73番&nbsp;&nbsp;いちのいで会館\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2784786,131.4810863\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市上原町14-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-21-4728</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">700円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00〜17:00（最終受付16:00）土・日曜、祝日10:00～17:00（最終受付16:00）要問合せ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定12/30.31</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail73.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "観海寺",
      "ban_number": "73",
      "name": "いちのいで会館",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2784786,131.4810863",
      "latitude": 33.2784786,
      "longitude": 131.4810863,
      "営業形態": "外湯",
      "住所": "大分県別府市上原町14-2",
      "電話": "0977-21-4728",
      "入浴料金": "700円",
      "利用時間": "11:00〜17:00（最終受付16:00）土・日曜、祝日10:00～17:00（最終受付16:00）要問合せ",
      "定休日ほか": "不定12/30.31",
      "泉質": "塩化物泉",
      "駐車場": "10台"
    },
    "mapped_data": {
      "region": "観海寺",
      "ban_number": "73",
      "name": "いちのいで会館",
      "deleted": false,
      "latitude": 33.2784786,
      "longitude": 131.4810863,
      "address": "大分県別府市上原町14-2",
      "phone": "0977-21-4728",
      "admission_fee": "700円",
      "usage_time": "11:00〜17:00（最終受付16:00）土・日曜、祝日10:00～17:00（最終受付16:00）要問合せ",
      "closed_days": "不定12/30.31",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": "10台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: いちのいで会館 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 700円 | 利用時間: 11:00〜17:00（最終受付16:00）土・日曜、祝日10:00～17:00（最終受付16:00）要問合せ"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "125": {
    "onsen_id": "125",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=125",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"125\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2855712, 131.4719765);\n\t\tif (calcDistance(33.2855712, 131.4719765) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t観海寺\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t74番&nbsp;&nbsp;杉乃井ホテル「棚湯」\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2855712,131.4719765\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市観海寺1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-24-1141</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1600～2900円 ※「アクアガーデン」も利用可　時期により異なる（要問合せ）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1900～3100円※「アクアガーデン」も利用可 時期により異なる（要問合せ）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">スギノイパレス 0分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1400台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">※全館リニューアル工事に伴い、2023年1月16日〜6月30日(予定)の棚湯営業を休止。</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail74.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "観海寺",
      "ban_number": "74",
      "name": "杉乃井ホテル「棚湯」",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2855712,131.4719765",
      "latitude": 33.2855712,
      "longitude": 131.4719765,
      "営業形態": "外湯",
      "住所": "大分県別府市観海寺1",
      "電話": "0977-24-1141",
      "入浴料金": "1600～2900円 ※「アクアガーデン」も利用可　時期により異なる（要問合せ）",
      "利用時間": "1900～3100円※「アクアガーデン」も利用可 時期により異なる（要問合せ）",
      "泉質": "塩化物泉",
      "最寄バス停": "スギノイパレス 0分",
      "駐車場": "1400台",
      "備考": "※全館リニューアル工事に伴い、2023年1月16日〜6月30日(予定)の棚湯営業を休止。"
    },
    "mapped_data": {
      "region": "観海寺",
      "ban_number": "74",
      "name": "杉乃井ホテル「棚湯」",
      "deleted": false,
      "latitude": 33.2855712,
      "longitude": 131.4719765,
      "address": "大分県別府市観海寺1",
      "phone": "0977-24-1141",
      "admission_fee": "1600～2900円 ※「アクアガーデン」も利用可　時期により異なる（要問合せ）",
      "usage_time": "1900～3100円※「アクアガーデン」も利用可 時期により異なる（要問合せ）",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "スギノイパレス 0分",
      "nearest_station": null,
      "parking": "1400台",
      "remarks": "※全館リニューアル工事に伴い、2023年1月16日〜6月30日(予定)の棚湯営業を休止。",
      "business_form": "外湯",
      "description": "温泉名: 杉乃井ホテル「棚湯」 | 泉質: 塩化物泉 | 営業形態: 外湯 | 入浴料金: 1600～2900円 ※「アクアガーデン」も利用可　時期により異なる（要問合せ） | 利用時間: 1900～3100円※「アクアガーデン」も利用可 時期により異なる（要問合せ） | 備考: ※全館リニューアル工事に伴い、2023年1月16日〜6月30日(予定)の棚湯営業を休止。"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "126": {
    "onsen_id": "126",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=126",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"126\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2816721, 131.4757679);\n\t\tif (calcDistance(33.2816721, 131.4757679) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t観海寺\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t77番&nbsp;&nbsp;旅亭松葉屋\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2816721,131.4757679\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">観海寺3</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">22-4271</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1泊2食2万2000円～</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">IN15:00 OUT10:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">観海寺入口 14分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">20台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail77.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "観海寺",
      "ban_number": "77",
      "name": "旅亭松葉屋",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2816721,131.4757679",
      "latitude": 33.2816721,
      "longitude": 131.4757679,
      "営業形態": "宿泊施設",
      "住所": "観海寺3",
      "電話": "22-4271",
      "入浴料金": "1泊2食2万2000円～",
      "利用時間": "IN15:00 OUT10:00",
      "泉質": "単純温泉",
      "最寄バス停": "観海寺入口 14分",
      "駐車場": "20台"
    },
    "mapped_data": {
      "region": "観海寺",
      "ban_number": "77",
      "name": "旅亭松葉屋",
      "deleted": false,
      "latitude": 33.2816721,
      "longitude": 131.4757679,
      "address": "観海寺3",
      "phone": "22-4271",
      "admission_fee": "1泊2食2万2000円～",
      "usage_time": "IN15:00 OUT10:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "観海寺入口 14分",
      "nearest_station": null,
      "parking": "20台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 旅亭松葉屋 | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 1泊2食2万2000円～ | 利用時間: IN15:00 OUT10:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "127": {
    "onsen_id": "127",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=127",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"127\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.273639, 131.485633);\n\t\tif (calcDistance(33.273639, 131.485633) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t観海寺\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t124番&nbsp;&nbsp;べっぷ昭和園\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.273639,131.485633\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市大字別府字乙原3783-１</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail124.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "観海寺",
      "ban_number": "124",
      "name": "べっぷ昭和園",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "観海寺",
      "ban_number": "124",
      "name": "べっぷ昭和園",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: べっぷ昭和園"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "128": {
    "onsen_id": "128",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=128",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"128\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2813979, 131.4767743);\n\t\tif (calcDistance(33.2813979, 131.4767743) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t観海寺\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t182番&nbsp;&nbsp;美湯の宿 両築別邸\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2813979,131.4767743\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">宿泊施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市観海寺３組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-26-0022</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">660円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～14:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">鶴海寺橋 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">30台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail182.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "観海寺",
      "ban_number": "182",
      "name": "美湯の宿 両築別邸",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2813979,131.4767743",
      "latitude": 33.2813979,
      "longitude": 131.4767743,
      "営業形態": "宿泊施設",
      "住所": "大分県別府市観海寺３組",
      "電話": "0977-26-0022",
      "入浴料金": "660円",
      "利用時間": "11:00～14:00",
      "泉質": "単純温泉",
      "最寄バス停": "鶴海寺橋 5分",
      "駐車場": "30台"
    },
    "mapped_data": {
      "region": "観海寺",
      "ban_number": "182",
      "name": "美湯の宿 両築別邸",
      "deleted": false,
      "latitude": 33.2813979,
      "longitude": 131.4767743,
      "address": "大分県別府市観海寺３組",
      "phone": "0977-26-0022",
      "admission_fee": "660円",
      "usage_time": "11:00～14:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "鶴海寺橋 5分",
      "nearest_station": null,
      "parking": "30台",
      "remarks": null,
      "business_form": "宿泊施設",
      "description": "温泉名: 美湯の宿 両築別邸 | 泉質: 単純温泉 | 営業形態: 宿泊施設 | 入浴料金: 660円 | 利用時間: 11:00～14:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 15,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 8
    }
  },
  "152": {
    "onsen_id": "152",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=152",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"152\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.276048, 131.482362);\n\t\tif (calcDistance(33.276048, 131.482362) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t観海寺\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t171番&nbsp;&nbsp;別府ケーブルラクテンチ\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.276048,131.482362\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">レジャー施設</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市 流川通り18</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-85-8888</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">1300円(施設入園料)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">9：30～16：00(最終受付15：00)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">火曜(長期休暇期間は営業、冬季休園あり)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">流川12丁目　10分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">700台(300円)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail171.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "観海寺",
      "ban_number": "171",
      "name": "別府ケーブルラクテンチ",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.276048,131.482362",
      "latitude": 33.276048,
      "longitude": 131.482362,
      "営業形態": "レジャー施設",
      "住所": "大分県別府市 流川通り18",
      "電話": "0977-85-8888",
      "入浴料金": "1300円(施設入園料)",
      "利用時間": "9：30～16：00(最終受付15：00)",
      "定休日ほか": "火曜(長期休暇期間は営業、冬季休園あり)",
      "泉質": "塩化物泉",
      "最寄バス停": "流川12丁目　10分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "700台(300円)"
    },
    "mapped_data": {
      "region": "観海寺",
      "ban_number": "171",
      "name": "別府ケーブルラクテンチ",
      "deleted": false,
      "latitude": 33.276048,
      "longitude": 131.482362,
      "address": "大分県別府市 流川通り18",
      "phone": "0977-85-8888",
      "admission_fee": "1300円(施設入園料)",
      "usage_time": "9：30～16：00(最終受付15：00)",
      "closed_days": "火曜(長期休暇期間は営業、冬季休園あり)",
      "private_bath": null,
      "spring_quality": "塩化物泉",
      "nearest_bus_stop": "流川12丁目　10分",
      "nearest_station": "なし",
      "parking": "700台(300円)",
      "remarks": null,
      "business_form": "レジャー施設",
      "description": "温泉名: 別府ケーブルラクテンチ | 泉質: 塩化物泉 | 営業形態: レジャー施設 | 入浴料金: 1300円(施設入園料) | 利用時間: 9：30～16：00(最終受付15：00)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "129": {
    "onsen_id": "129",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=129",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"129\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3257541, 131.4730186);\n\t\tif (calcDistance(33.3257541, 131.4730186) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t柴石\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t80番&nbsp;&nbsp;柴石温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3257541,131.4730186\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市野田4-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-67-4100</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">7:00～14:00/15:00～20:00 ※家族湯9:00～14:00/15:00～20:00(最終受付19:00)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第2水曜（祝日の場合は翌日）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">2000円（60分4名迄））</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉、塩化物泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">柴石温泉入口 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">35台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail80.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "柴石",
      "ban_number": "80",
      "name": "柴石温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3257541,131.4730186",
      "latitude": 33.3257541,
      "longitude": 131.4730186,
      "営業形態": "市営温泉",
      "住所": "大分県別府市野田4-1",
      "電話": "0977-67-4100",
      "入浴料金": "300円（大人）、100円（子供）",
      "利用時間": "7:00～14:00/15:00～20:00 ※家族湯9:00～14:00/15:00～20:00(最終受付19:00)",
      "定休日ほか": "第2水曜（祝日の場合は翌日）",
      "家族湯(貸切湯)": "2000円（60分4名迄））",
      "泉質": "単純温泉、塩化物泉",
      "最寄バス停": "柴石温泉入口 5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "35台"
    },
    "mapped_data": {
      "region": "柴石",
      "ban_number": "80",
      "name": "柴石温泉",
      "deleted": false,
      "latitude": 33.3257541,
      "longitude": 131.4730186,
      "address": "大分県別府市野田4-1",
      "phone": "0977-67-4100",
      "admission_fee": "300円（大人）、100円（子供）",
      "usage_time": "7:00～14:00/15:00～20:00 ※家族湯9:00～14:00/15:00～20:00(最終受付19:00)",
      "closed_days": "第2水曜（祝日の場合は翌日）",
      "private_bath": "2000円（60分4名迄））",
      "spring_quality": "単純温泉、塩化物泉",
      "nearest_bus_stop": "柴石温泉入口 5分",
      "nearest_station": "なし",
      "parking": "35台",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 柴石温泉 | 泉質: 単純温泉、塩化物泉 | 営業形態: 市営温泉 | 入浴料金: 300円（大人）、100円（子供） | 利用時間: 7:00～14:00/15:00～20:00 ※家族湯9:00～14:00/15:00～20:00(最終受付19:00)"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "130": {
    "onsen_id": "130",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=130",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"130\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.328157, 131.480854);\n\t\tif (calcDistance(33.328157, 131.480854) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t柴石\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t85番&nbsp;&nbsp;長泉寺薬師湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.328157,131.480854\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">お寺</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市野田4-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-4013</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">お賽銭（玄関にて署名が必要）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:00～16:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">酸性泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">血の池地獄前 1分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail85.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "柴石",
      "ban_number": "85",
      "name": "長泉寺薬師湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.328157,131.480854",
      "latitude": 33.328157,
      "longitude": 131.480854,
      "営業形態": "お寺",
      "住所": "大分県別府市野田4-2",
      "電話": "0977-66-4013",
      "入浴料金": "お賽銭（玄関にて署名が必要）",
      "利用時間": "10:00～16:00",
      "泉質": "酸性泉",
      "最寄バス停": "血の池地獄前 1分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "5台"
    },
    "mapped_data": {
      "region": "柴石",
      "ban_number": "85",
      "name": "長泉寺薬師湯",
      "deleted": false,
      "latitude": 33.328157,
      "longitude": 131.480854,
      "address": "大分県別府市野田4-2",
      "phone": "0977-66-4013",
      "admission_fee": "お賽銭（玄関にて署名が必要）",
      "usage_time": "10:00～16:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "酸性泉",
      "nearest_bus_stop": "血の池地獄前 1分",
      "nearest_station": "なし",
      "parking": "5台",
      "remarks": null,
      "business_form": "お寺",
      "description": "温泉名: 長泉寺薬師湯 | 泉質: 酸性泉 | 営業形態: お寺 | 入浴料金: お賽銭（玄関にて署名が必要） | 利用時間: 10:00～16:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "131": {
    "onsen_id": "131",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=131",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"131\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.3273406, 131.4782344);\n\t\tif (calcDistance(33.3273406, 131.4782344) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t柴石\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t153番&nbsp;&nbsp;血の池地獄足湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.3273406,131.4782344\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">足湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市野田4-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-66-1191</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円（施設入場料）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">8:00～17:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">含鉄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">血の池地獄前 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">150台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail153.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "柴石",
      "ban_number": "153",
      "name": "血の池地獄足湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.3273406,131.4782344",
      "latitude": 33.3273406,
      "longitude": 131.4782344,
      "営業形態": "足湯",
      "住所": "大分県別府市野田4-2",
      "電話": "0977-66-1191",
      "入浴料金": "500円（施設入場料）",
      "利用時間": "8:00～17:00",
      "泉質": "含鉄泉",
      "最寄バス停": "血の池地獄前 5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "150台"
    },
    "mapped_data": {
      "region": "柴石",
      "ban_number": "153",
      "name": "血の池地獄足湯",
      "deleted": false,
      "latitude": 33.3273406,
      "longitude": 131.4782344,
      "address": "大分県別府市野田4-2",
      "phone": "0977-66-1191",
      "admission_fee": "500円（施設入場料）",
      "usage_time": "8:00～17:00",
      "closed_days": null,
      "private_bath": null,
      "spring_quality": "含鉄泉",
      "nearest_bus_stop": "血の池地獄前 5分",
      "nearest_station": "なし",
      "parking": "150台",
      "remarks": null,
      "business_form": "足湯",
      "description": "温泉名: 血の池地獄足湯 | 泉質: 含鉄泉 | 営業形態: 足湯 | 入浴料金: 500円（施設入場料） | 利用時間: 8:00～17:00"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 16,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 9
    }
  },
  "132": {
    "onsen_id": "132",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=132",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"132\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2885017, 131.4611182);\n\t\tif (calcDistance(33.2885017, 131.4611182) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t堀田\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t127番&nbsp;&nbsp;堀田温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2885017,131.4611182\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">市営温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市堀田2組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-24-9418</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">300円（大人）、100円（子供）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">6:30～14:00/15:00～22:30</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">第1水曜（祝日の場合は翌日）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">堀田温泉前 0分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">30台（車イス利用者用2台含む）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail127.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "堀田",
      "ban_number": "127",
      "name": "堀田温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2885017,131.4611182",
      "latitude": 33.2885017,
      "longitude": 131.4611182,
      "営業形態": "市営温泉",
      "住所": "大分県別府市堀田2組",
      "電話": "0977-24-9418",
      "入浴料金": "300円（大人）、100円（子供）",
      "利用時間": "6:30～14:00/15:00～22:30",
      "定休日ほか": "第1水曜（祝日の場合は翌日）",
      "泉質": "単純温泉",
      "最寄バス停": "堀田温泉前 0分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "30台（車イス利用者用2台含む）"
    },
    "mapped_data": {
      "region": "堀田",
      "ban_number": "127",
      "name": "堀田温泉",
      "deleted": false,
      "latitude": 33.2885017,
      "longitude": 131.4611182,
      "address": "大分県別府市堀田2組",
      "phone": "0977-24-9418",
      "admission_fee": "300円（大人）、100円（子供）",
      "usage_time": "6:30～14:00/15:00～22:30",
      "closed_days": "第1水曜（祝日の場合は翌日）",
      "private_bath": null,
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "堀田温泉前 0分",
      "nearest_station": "なし",
      "parking": "30台（車イス利用者用2台含む）",
      "remarks": null,
      "business_form": "市営温泉",
      "description": "温泉名: 堀田温泉 | 泉質: 単純温泉 | 営業形態: 市営温泉 | 入浴料金: 300円（大人）、100円（子供） | 利用時間: 6:30～14:00/15:00～22:30"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 17,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 10
    }
  },
  "133": {
    "onsen_id": "133",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=133",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"133\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.292374, 131.459322);\n\t\tif (calcDistance(33.292374, 131.459322) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t堀田\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t179番&nbsp;&nbsp;桜湯\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.292374,131.459322\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市堀田4-2</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-25-8431</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">500円、土・日曜、祝日700円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11:00～23:00(最終受付22:00) 土・日曜、祝日10:00～23:00(最終受付22:00)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">20室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">坂の平向井病院前 5分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">60台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">家族湯料金50分（平日80分）2,000円～3,000円（１室６名まで）、家族湯利用時間　平日11時～23時（最終受付）、土日祝10時～24時（最終受付）</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail179.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "堀田",
      "ban_number": "179",
      "name": "桜湯",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.292374,131.459322",
      "latitude": 33.292374,
      "longitude": 131.459322,
      "営業形態": "外湯",
      "住所": "大分県別府市堀田4-2",
      "電話": "0977-25-8431",
      "入浴料金": "500円、土・日曜、祝日700円",
      "利用時間": "11:00～23:00(最終受付22:00) 土・日曜、祝日10:00～23:00(最終受付22:00)",
      "定休日ほか": "なし",
      "家族湯(貸切湯)": "20室",
      "泉質": "単純温泉",
      "最寄バス停": "坂の平向井病院前 5分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "60台",
      "備考": "家族湯料金50分（平日80分）2,000円～3,000円（１室６名まで）、家族湯利用時間　平日11時～23時（最終受付）、土日祝10時～24時（最終受付）"
    },
    "mapped_data": {
      "region": "堀田",
      "ban_number": "179",
      "name": "桜湯",
      "deleted": false,
      "latitude": 33.292374,
      "longitude": 131.459322,
      "address": "大分県別府市堀田4-2",
      "phone": "0977-25-8431",
      "admission_fee": "500円、土・日曜、祝日700円",
      "usage_time": "11:00～23:00(最終受付22:00) 土・日曜、祝日10:00～23:00(最終受付22:00)",
      "closed_days": "なし",
      "private_bath": "20室",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "坂の平向井病院前 5分",
      "nearest_station": "なし",
      "parking": "60台",
      "remarks": "家族湯料金50分（平日80分）2,000円～3,000円（１室６名まで）、家族湯利用時間　平日11時～23時（最終受付）、土日祝10時～24時（最終受付）",
      "business_form": "外湯",
      "description": "温泉名: 桜湯 | 泉質: 単純温泉 | 営業形態: 外湯 | 入浴料金: 500円、土・日曜、祝日700円 | 利用時間: 11:00～23:00(最終受付22:00) 土・日曜、祝日10:00～23:00(最終受付22:00) | 備考: 家族湯料金50分（平日80分）2,000円～3,000円（１室６名まで）、家族湯利用時間　平日11時～23時（最終受付）、土日祝10時～24時（最終受付）"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "134": {
    "onsen_id": "134",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=134",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"134\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2912275, 131.4611451);\n\t\tif (calcDistance(33.2912275, 131.4611451) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t堀田\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t79番&nbsp;&nbsp;別府ホテル芙蓉倶楽部\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2912275,131.4611451\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市堀田7-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail79.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "堀田",
      "ban_number": "79",
      "name": "別府ホテル芙蓉倶楽部",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "堀田",
      "ban_number": "79",
      "name": "別府ホテル芙蓉倶楽部",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: 別府ホテル芙蓉倶楽部"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "135": {
    "onsen_id": "135",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=135",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"135\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2923291, 131.4584059);\n\t\tif (calcDistance(33.2923291, 131.4584059) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t堀田\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t189番&nbsp;&nbsp;さわやか　別府の里\n</div>\n\n<div style=\"width:390px;font-size:12px;text-align:center;margin-top:0px\">\n<div><img src=\"thumbnail/deleted.jpg\" style=\"width:180px;height:150px;margin-top:8px;border:none\"></div>\n<div style=\"margin-top:5px\">以下の情報は2019年01月01日時点のものです。</div>\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2923291,131.4584059\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市堀田４ｯ２</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail189.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "堀田",
      "ban_number": "189",
      "name": "さわやか　別府の里",
      "deleted": true,
      "map_url": "",
      "latitude": null,
      "longitude": null
    },
    "mapped_data": {
      "region": "堀田",
      "ban_number": "189",
      "name": "さわやか　別府の里",
      "deleted": true,
      "latitude": null,
      "longitude": null,
      "address": null,
      "phone": null,
      "admission_fee": null,
      "usage_time": null,
      "closed_days": null,
      "private_bath": null,
      "spring_quality": null,
      "nearest_bus_stop": null,
      "nearest_station": null,
      "parking": null,
      "remarks": null,
      "business_form": null,
      "description": "温泉名: さわやか　別府の里"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 5,
      "required_fields_present": true,
      "has_coordinates": false,
      "table_entries_mapped": 0
    }
  },
  "136": {
    "onsen_id": "136",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=136",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"136\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2854081, 131.4622035);\n\t\tif (calcDistance(33.2854081, 131.4622035) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t堀田\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t193番&nbsp;&nbsp;立ち寄り湯　夢幻の里春夏秋冬\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2854081,131.4622035\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">大分県別府市堀田６組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-25-1126</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">700円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">休業中</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休　全露天のため天候不順な場合はお休み</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">４室</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">堀田より徒歩１５分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">15台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail193.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "堀田",
      "ban_number": "193",
      "name": "立ち寄り湯　夢幻の里春夏秋冬",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2854081,131.4622035",
      "latitude": 33.2854081,
      "longitude": 131.4622035,
      "営業形態": "外湯",
      "住所": "大分県別府市堀田６組",
      "電話": "0977-25-1126",
      "入浴料金": "700円",
      "利用時間": "休業中",
      "定休日ほか": "不定休　全露天のため天候不順な場合はお休み",
      "家族湯(貸切湯)": "４室",
      "泉質": "硫黄泉",
      "最寄バス停": "堀田より徒歩１５分",
      "最寄駅(徒歩)": "なし",
      "駐車場": "15台"
    },
    "mapped_data": {
      "region": "堀田",
      "ban_number": "193",
      "name": "立ち寄り湯　夢幻の里春夏秋冬",
      "deleted": false,
      "latitude": 33.2854081,
      "longitude": 131.4622035,
      "address": "大分県別府市堀田６組",
      "phone": "0977-25-1126",
      "admission_fee": "700円",
      "usage_time": "休業中",
      "closed_days": "不定休　全露天のため天候不順な場合はお休み",
      "private_bath": "４室",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "堀田より徒歩１５分",
      "nearest_station": "なし",
      "parking": "15台",
      "remarks": null,
      "business_form": "外湯",
      "description": "温泉名: 立ち寄り湯　夢幻の里春夏秋冬 | 泉質: 硫黄泉 | 営業形態: 外湯 | 入浴料金: 700円 | 利用時間: 休業中"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  },
  "166": {
    "onsen_id": "166",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=166",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"166\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.2933110428864, 131.46416493183892);\n\t\tif (calcDistance(33.2933110428864, 131.46416493183892) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t堀田\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t229番&nbsp;&nbsp;水流見の湯（足湯）\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.2933110428864,131.46416493183892\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">食事</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">扇山1組-1</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-85-8855</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">無料</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">11：00～14:00/17:30～21:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">火曜(祝日の場合は翌日)</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">単純温泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">自衛隊前</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">なし</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">あり</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">別府ICを降りて車で３分。囲炉裏焼き料理店の玄関で手洗湯と足湯を満喫。</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail229.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "堀田",
      "ban_number": "229",
      "name": "水流見の湯（足湯）",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.2933110428864,131.46416493183892",
      "latitude": 33.2933110428864,
      "longitude": 131.46416493183892,
      "営業形態": "食事",
      "住所": "扇山1組-1",
      "電話": "0977-85-8855",
      "入浴料金": "無料",
      "利用時間": "11：00～14:00/17:30～21:00",
      "定休日ほか": "火曜(祝日の場合は翌日)",
      "家族湯(貸切湯)": "なし",
      "泉質": "単純温泉",
      "最寄バス停": "自衛隊前",
      "最寄駅(徒歩)": "なし",
      "駐車場": "あり",
      "備考": "別府ICを降りて車で３分。囲炉裏焼き料理店の玄関で手洗湯と足湯を満喫。"
    },
    "mapped_data": {
      "region": "堀田",
      "ban_number": "229",
      "name": "水流見の湯（足湯）",
      "deleted": false,
      "latitude": 33.2933110428864,
      "longitude": 131.46416493183892,
      "address": "扇山1組-1",
      "phone": "0977-85-8855",
      "admission_fee": "無料",
      "usage_time": "11：00～14:00/17:30～21:00",
      "closed_days": "火曜(祝日の場合は翌日)",
      "private_bath": "なし",
      "spring_quality": "単純温泉",
      "nearest_bus_stop": "自衛隊前",
      "nearest_station": "なし",
      "parking": "あり",
      "remarks": "別府ICを降りて車で３分。囲炉裏焼き料理店の玄関で手洗湯と足湯を満喫。",
      "business_form": "食事",
      "description": "温泉名: 水流見の湯（足湯） | 泉質: 単純温泉 | 営業形態: 食事 | 入浴料金: 無料 | 利用時間: 11：00～14:00/17:30～21:00 | 備考: 別府ICを降りて車で３分。囲炉裏焼き料理店の玄関で手洗湯と足湯を満喫。"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 19,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 12
    }
  },
  "175": {
    "onsen_id": "175",
    "url": "https://onsen-hunter.oita-apc.co.jp/dhunter/details_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo&f=list_onsen.jsp%3Fd%3Df8a23e58-f16b-4bb0-8b22-2e6acc46c5d5%26o%3Donsendo%26e%3Donsendo&t=175",
    "raw_html": "<html lang=\"ja\"><head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=390,user-scalable=no\">\n<title>温泉ハンター</title>\n<meta http-equiv=\"Pragma\" content=\"no-cache\">\n<meta http-equiv=\"Cache-Control\" content=\"no-cache\">\n<meta http-equiv=\"Expires\" content=\"0\">\n<style type=\"text/css\">\n* {\n\tmargin: 0px;\n\tpadding: 0px;\n}\nbody {\n\tmargin: 0px;\n\tpadding: 0px;\n\tline-height: 1.4;\n    background-color: #ffffff;\n    color: #202020;\n\tfont-family: Arial, sans-serif;\n\tfont-size: 1.0em;\n}\ntable {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntr {\n\tmargin: 0px;\n\tpadding: 0px;\n}\ntd {\n\tmargin: 0px;\n\tpadding: 0px;\n\t<!-- border: 1px solid #a0a0a0;-->\n}\n</style>\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"></script>\n<script type=\"text/javascript\" src=\"http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js\"></script>\n<![endif]-->\n<script type=\"text/javascript\" src=\"//code.jquery.com/jquery-1.11.3.min.js\"></script>\n<script type=\"text/javascript\">\nvar isLocal = false;\nvar currentAction = new Object();\ncurrentAction.locationId = null;\ncurrentAction.actionId = null;\ncurrentAction.treasureId = \"175\";\ncurrentAction.organizationId = \"onsendo\";\ncurrentAction.eventId = \"onsendo\";\ncurrentAction.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentAction.actionTime = 0;\ncurrentAction.actionType = 2;\nvar currentLocation = new Object();\ncurrentLocation.locationId = null;\ncurrentLocation.actionId = null;\ncurrentLocation.treasureId = null;\ncurrentLocation.organizationId = \"onsendo\";\ncurrentLocation.eventId = \"onsendo\";\ncurrentLocation.deviceId = \"f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5\";\ncurrentLocation.latitude = 0\ncurrentLocation.longitude = 0;\ncurrentLocation.altitude = 0;\ncurrentLocation.accuracy = 0;\ncurrentLocation.battery = 0;\ncurrentLocation.direction = 0;\ncurrentLocation.floorLevel = 0;\ncurrentLocation.locationTime = 0;\ncurrentLocation.provider = 0;\nvar positionOption = {\n\t\"enableHighAccuracy\": true,\n\t\"timeout\": 10000,\n\t\"maximumAge\": 0\n};\nfunction returnButtonClicked() {\n\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n}\nfunction getStamp() {\n\t$(\"#stampButton\").prop(\"disabled\", true);\n\tif (isLocal) {\n\t\tcurrentLocation.latitude = 35.562411;\t\n\t\tcurrentLocation.longitude = 139.569177;\n\t\tcurrentLocation.accuracy = 5;\n\t\tupdatePosition();\n\t} else {\n\t\tnavigator.geolocation.getCurrentPosition(positionListener, positionError, positionOption);\n\t}\n}\nfunction positionError(errorCode) {\n\t// errorCode\n\t// 0: 原因不明のエラーで、現在位置を取得できなかった。\n\t// 1: ユーザーが、ウェブサイトに対して、位置情報の使用を許可しなかった。\n\t// 2: 電波状況が悪いなどの理由で、現在位置を取得できなかった。\n\t// 3: 位置情報の取得に時間がかかりすぎ、タイムアウト・エラーになった。 \n\tif (errorCode == 0) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else if (errorCode == 1) {\n\t\talert(\"位置情報の取得が許可されていません。スマートフォンを設定して許可してください。\");\n\t} else if (errorCode == 2) {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t} else {\n\t\talert(\"位置情報が取得できませんでした。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t}\n\t$(\"#stampButton\").prop(\"disabled\", false);\n}\nfunction positionListener(position) {\n\tcurrentLocation.latitude = position.coords.latitude;\t\n\tcurrentLocation.longitude = position.coords.longitude;\n\tcurrentLocation.accuracy = position.coords.accuracy;\n\tupdatePosition();\n}\nfunction updatePosition() {\n\tvar now = new Date();\n\tif (checkApproach()) {\n\t\tcurrentLocation.locationTime = now.getTime();\n\t\tcurrentAction.actionTime = now.getTime();\n\t\tsendAction();\n\t\tlocation.href = \"list_onsen.jsp?d=f8a23e58-f16b-4bb0-8b22-2e6acc46c5d5&o=onsendo&e=onsendo\";\n\t} else {\n\t\talert(\"位置情報が異なります。この温泉の近辺のGPSの電波がよく届くところでお試しください。\");\n\t\t$(\"#stampButton\").prop(\"disabled\", false);\n\t}\n}\nfunction checkApproach() {\n\tif (currentLocation.accuracy < accuracyThreshold) {\n\t\tdistance = calcDistance(33.28830588, 131.4594128);\n\t\tif (calcDistance(33.28830588, 131.4594128) < 30) {\n\t\t\treturn true;\t\t\t\t\n\t\t}\n\t}\n\treturn false;\n}\nfunction sendAction() {\n\tvar transfer = new Object();\n\ttransfer.action = currentAction;\n\ttransfer.location = currentLocation;\n\tsetTransfer(transfer);\n}\nfunction setTransfer(transfer) {\n    var url = \"/dhunter/api/transfer/set\";\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        dataType: \"JSON\",\n        async : false,\n        data : JSON.stringify(transfer),\n        contentType: \"application/JSON\",\n        scriptCharset: \"utf-8\"\n    }).done(function(data) {\n    \treturnButtonClicked();\n    }).fail(function(data) {\n    \treturnButtonClicked();\n    });\n}\nvar accuracyThreshold = 100;\nvar ESSEL_A = 6377397.155;\nvar BESSEL_E2 = 0.00667436061028297;\nvar BESSEL_MNUM = 6334832.10663254;\nvar GRS80_A = 6378137.000;\nvar GRS80_E2 = 0.00669438002301188;\nvar GRS80_MNUM = 6335439.32708317;\nvar WGS84_A = 6378137.000;\nvar WGS84_E2 = 0.00669437999019758;\nvar WGS84_MNUM = 6335439.32729246;\nvar BESSEL = 0;\nvar GRS80 = 1;\nvar WGS84 = 2;\nfunction calcDistance(lat, lng) {\n\treturn calcDistHubeny(lat, lng, currentLocation.latitude, currentLocation.longitude, WGS84_A, WGS84_E2, WGS84_MNUM);\n}\nfunction deg2rad(deg){\n\treturn deg * Math.PI / 180.0;\n}\nfunction calcDistHubeny(lat1, lng1, lat2, lng2, a, e2, mnum) {\n\tvar my = deg2rad((lat1 + lat2) / 2.0);\n\tvar dy = deg2rad(lat1 - lat2);\n\tvar dx = deg2rad(lng1 - lng2);\n\tvar sin = Math.sin(my);\n\tvar w = Math.sqrt(1.0 - e2 * sin * sin);\n\tvar m = mnum / (w * w * w);\n\tvar n = a / w;\n\tvar dym = dy * m;\n\tvar dxncos = dx * n * Math.cos(my);\n\treturn Math.sqrt(dym * dym + dxncos * dxncos);\n}\n</script>\n</head>\n<body>\n<div id=\"headerDIV\" style=\"height:50px;width:390px;background-color:#000070;color:#ffffff\">\n\t<table>\n\t\t<tbody><tr style=\"height:55px\">\n\t\t\t<td>\n\t\t\t\t<div style=\"width:75px;margin-left:4px;margin-top:-8px;\">\n\t\t\t\t\t<input type=\"button\" value=\"戻る\" onclick=\"returnButtonClicked()\" style=\"font-size:18px;font-weight:bold;\">\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<div style=\"width:200px;vertical-align:bottom;margin-top:-4px;margin-left:60px\">\n\t\t\t\t\t<span style=\"font-size:24px;font-weight:bold\">温泉詳細</span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:10px\">\n\t堀田\n</div>\n<div style=\"width:390px;font-size:18px;text-align:center;font-weight:bold;margin-top:5px\">\n\t235番&nbsp;&nbsp;白糸の滝温泉\n</div>\n\n\n<div style=\"width:390px;text-align:center;margin-top:10px;\">\n\t<iframe style=\"width:368px;height:360px;border:#808080 solid 1px\" src=\"https://maps.google.co.jp/maps?&amp;output=embed&amp;q=33.28830588,131.4594128\"></iframe>\n</div>\n<div style=\"width:370px;margin-left:10px;margin-top:5px;\">\n\t<table style=\"text-align:left;font-size:12px;border-collapse:collapse;padding:0px;margin:0px\">\n\n\t\t<tbody><tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">営業形態</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">外湯</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">住所</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">堀田3組</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">電話</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">0977-23-6354</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">入浴料金</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">50分・/1000円 土日祝1500円 GW、盆2000円</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">利用時間</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">10:30～最終受付20:00</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">定休日ほか</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">不定休（天候不順は要確認）</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">家族湯(貸切湯)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">家族湯 3室のみ</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">泉質</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">硫黄泉</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄バス停</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">堀田温泉前 徒歩3分</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">最寄駅(徒歩)</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\"></td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">駐車場</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">5台</td></tr>\n\t\t<tr style=\"padding:0px;margin:0px\"><td style=\"border-collapse:collapse;padding:5px;margin:0px;width:115px;border:#404040 solid 1px;background-color:#808080;color:#ffffff\">備考</td><td style=\"width:255px;border-collapse:collapse;padding:5px;margin:0px;border:#404040 solid 1px\">海を一望できるプライベート空間</td></tr>\n\n\t</tbody></table>\n</div>\n\n<div style=\"width:390px;text-align:center;margin-left:0px;\">\n\t<img src=\"thumbnail/thumbnail235.jpg\" style=\"width:240px;height:180px;margin-top:8px;border:1px solid #707070\">\n</div>\n\n<div style=\"height:50px;\">\n\t<div id=\"copyRight\" style=\"text-align:right;margin-top:10px;margin-right:5px;color:#b0b0b0;font-size:10px\">Copyright(c) APC - All Personal property Center</div>\n</div>\n\n\n</body></html>",
    "extracted_data": {
      "region": "堀田",
      "ban_number": "235",
      "name": "白糸の滝温泉",
      "deleted": false,
      "map_url": "https://maps.google.co.jp/maps?&output=embed&q=33.28830588,131.4594128",
      "latitude": 33.28830588,
      "longitude": 131.4594128,
      "営業形態": "外湯",
      "住所": "堀田3組",
      "電話": "0977-23-6354",
      "入浴料金": "50分・/1000円 土日祝1500円 GW、盆2000円",
      "利用時間": "10:30～最終受付20:00",
      "定休日ほか": "不定休（天候不順は要確認）",
      "家族湯(貸切湯)": "家族湯 3室のみ",
      "泉質": "硫黄泉",
      "最寄バス停": "堀田温泉前 徒歩3分",
      "駐車場": "5台",
      "備考": "海を一望できるプライベート空間"
    },
    "mapped_data": {
      "region": "堀田",
      "ban_number": "235",
      "name": "白糸の滝温泉",
      "deleted": false,
      "latitude": 33.28830588,
      "longitude": 131.4594128,
      "address": "堀田3組",
      "phone": "0977-23-6354",
      "admission_fee": "50分・/1000円 土日祝1500円 GW、盆2000円",
      "usage_time": "10:30～最終受付20:00",
      "closed_days": "不定休（天候不順は要確認）",
      "private_bath": "家族湯 3室のみ",
      "spring_quality": "硫黄泉",
      "nearest_bus_stop": "堀田温泉前 徒歩3分",
      "nearest_station": null,
      "parking": "5台",
      "remarks": "海を一望できるプライベート空間",
      "business_form": "外湯",
      "description": "温泉名: 白糸の滝温泉 | 泉質: 硫黄泉 | 営業形態: 外湯 | 入浴料金: 50分・/1000円 土日祝1500円 GW、盆2000円 | 利用時間: 10:30～最終受付20:00 | 備考: 海を一望できるプライベート空間"
    },
    "mapping_summary": {
      "total_fields": 19,
      "filled_fields": 18,
      "required_fields_present": true,
      "has_coordinates": true,
      "table_entries_mapped": 11
    }
  }
}